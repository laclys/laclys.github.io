[{"title":"è®°ä¸€æ¬¡Hexoåšå®¢404é—®é¢˜æ’æŸ¥","date":"2022-12-26T07:47:20.338Z","path":"2022/12/26/è®°ä¸€æ¬¡Hexoåšå®¢404é—®é¢˜æ’æŸ¥/","text":"è¿™ä¸€æ•´å¹´å·¥ä½œä¸€ç›´å¾ˆå¿™ï¼Œgithub&#x2F;åšå®¢ä¸€ç›´æ²¡æœ‰æ›´æ–°ã€æ­ç†ã€‚å‰æ®µæ—¶é—´æ•´ç†äº§å‡ºäº†ä¸€ç¯‡å·¥ä½œä¸Šçš„ç§¯ç´¯ é¡¹ç›®å›¾ç‰‡ä¼˜åŒ–ä½¿ç”¨WEBP åƒå¾€å¸¸ä¸€æ · hexo g &amp; hexo d ä¸€æ¡é¾™ç”Ÿæˆ+éƒ¨ç½²ï¼Œå°±æ²¡æœ‰ç®¡å®ƒã€‚ æœ€è¿‘é‡æ–°æ‹¾èµ·ï¼Œè®¿é—®äº†ä¸€ä¸‹blogï¼Œå‘ç°å±…ç„¶æ˜¯ç©ºç™½é¡µã€‚åˆ·æ–°äº†æ•°æ¬¡ã€ä½¿ç”¨æ— ç—•å†é‡æ–°hexo g &amp; hexo dï¼Œè¿˜æ˜¯ç©ºç™½ã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Œæ„å‘³ç€ä¸Šæ¬¡æ›´æ–°å®Œåšå®¢ï¼Œä¸€ç›´å¤„äºâ€œæŒ‚äº†â€œçš„çŠ¶æ€ æ’æŸ¥&amp;å®šä½ è®¿é—®https://laclys.github.io/ ç©ºç™½æ‰“å¼€æ§åˆ¶å°ï¼Œå¾ˆå®¹æ˜“å‘ç° index.html æ˜¯ç©ºçš„ ç„¶ååœ¨æœ¬åœ°é‡æ–°hexo g(hexo generate) æŸ¥çœ‹ publicæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆçš„htmlï¼Œå‘ç°éƒ½æ˜¯ç©ºæ–‡ä»¶ï¼Œ0 bytesã€‚é—®é¢˜æ‰¾åˆ°äº† generate è¿™ä¸€æ­¥å‡ºç°äº†é—®é¢˜ã€‚ Hexoè¿™è¾¹æœ€è¿‘è¿™ä¸€å¹´æ˜¯æ²¡æœ‰å‡çº§çš„ï¼Œé€šè¿‡Googleå¤§æ³•æ‰¾åˆ°äº†ç›¸å…³é—®é¢˜çš„issuehexo generates empty files #4267 ç®€å•è¯´å°±æ˜¯ æœ¬æœºçš„hexoç‰ˆæœ¬(3.90)ä¸æ”¯æŒnode14.xä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚&#x68;&#x65;&#120;&#x6f;&#x40;&#51;&#x2e;&#x39;&#x2e;&#48;(ç°åœ¨å·²ç»6.3.0), nodeæ¨¡ç³Šè®°å¿†å¹´ä¸­å‡çº§è¿‡ä¸€æ¬¡ ç°åœ¨æ˜¯ v14.17.6(å…¶å®ä¹Ÿç®—è€ç‰ˆæœ¬äº†ï¼Œç°åœ¨LTSå·²ç»18.12.1) è§£å†³æ‰¾åˆ°é—®é¢˜æ ¹å›  æ— éä¸¤ç§æ–¹å¼ ä¸€ç§æ˜¯é™çº§nodeç‰ˆæœ¬ è¿˜æœ‰ä¸€ç§æ˜¯æ•´ä½“å‡çº§ é™çº§Nodeé¦–å…ˆå°è¯•ç¬¬ä¸€ç§ï¼Œä¹‹å‰æœ‰è£…è¿‡nvm(nodeç‰ˆæœ¬ç®¡ç†å·¥å…·)ï¼Œä¸€é”®å®‰è£…åˆ‡æ¢åˆ° 12.14.0 12nvm install 12.14.0nvm use 12.14.0 hexo cleanæ¸…ç©ºä¹‹å‰çš„ç”Ÿæˆç‰©ï¼Œé‡æ–° hexo g å†æ¬¡æŸ¥çœ‹publicæ–‡ä»¶å¤¹ç”Ÿæˆç‰©ï¼š index.html å·²ç»æ­£å¸¸ç”Ÿæˆï¼Œhexo d, å†æ¬¡æ‰“å¼€blog ç½‘ç«™æ¢å¤ å‡çº§Node + Hexoé™çº§æ–¹å¼éªŒè¯é€šè¿‡ï¼Œå¯è¡Œ + ç®€å•ã€‚å†æ¥è¯•ä¸€ä¸‹å‡çº§æ–¹æ¡ˆå…¨å±€å®‰è£…npm-upgradeé¡ºä¾¿å…¨å±€æ›´æ–°ä¸€ä¸‹ hexo-cli npm i hexo-cli -g","tags":[{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}]},{"title":"é¡¹ç›®å›¾ç‰‡ä¼˜åŒ–ï¼šæ•´ä½“æ›¿æ¢WEBP","date":"2022-10-09T14:41:26.829Z","path":"2022/10/09/é¡¹ç›®å›¾ç‰‡ä¼˜åŒ–ï¼šæ•´ä½“æ›¿æ¢WEBP/","text":"å…·ä½“æ–¹æ¡ˆï¼šå¼€å‘è„šæœ¬ æ•´ä½“ç”Ÿæˆ WEBPå›¾ç‰‡(Eg.: é¡¹ç›®ä¸­a.pngï¼Œå†ç”Ÿæˆä¸€ä»½a.png.webp)Shellè„šæœ¬(éœ€å®‰è£…ï¼šbrew install webp)(https://developers.google.com/speed/webp/docs/cwebp) 1234567891011#!/bin/bash# Usage: ./cwebp.sh &lt;directory&gt;echo &#x27;Converting all .png, .jpg, and .jpeg files to .webp...&#x27;find $1 -type f -and \\( -iname &quot;*.jpg&quot; -o -iname &quot;*.jpeg&quot; -o -iname &quot;*.png&quot; \\) \\-exec bash -c &#x27;if [ ! -f &quot;$0.webp&quot; ]; then cwebp -q 90 -mt -m 6 &quot;$0&quot; -o &quot;$0.webp&quot; 2&gt;/dev/null;fi&#x27; $forced &#123;&#125; \\; å‰ç«¯é¡¹ç›®è„šæœ¬ 1234567891011const &#123; join,resolve &#125; = require(&#x27;path&#x27;)const &#123; execSync &#125; = require(&#x27;child_process&#x27;);const _root = resolve(__dirname, &#x27;..&#x27;)const arg = process.argv[2];if (!!arg) &#123; const targetPath = join(...[_root].concat(arg)) const scriptPath = join(...[_root].concat(&#x27;script/cwebp.sh&#x27;)) execSync(`$&#123;scriptPath&#125; $&#123;targetPath&#125;`, &#123; stdio: [0, 1, 2] &#125;);&#125; Usage: 1&lt;pnpm | npm | yarn&gt; run cwebp &lt;directory&gt; åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒWEBPï¼Œå¦‚æ”¯æŒä½¿ç”¨WEBPæ ¼å¼å›¾ç‰‡ï¼Œä¸æ”¯æŒä½¿ç”¨åŸå›¾ (Ref:https://caniuse.com/webp).å¦‚æ”¯æŒæ ¹èŠ‚ç‚¹æ·»åŠ æ ‡è¯†: &lt;html class=&quot;webpa&quot;&gt;...&lt;/html&gt;12345const isWebp = document.createElement(&quot;canvas&quot;).toDataURL(&quot;image/webp&quot;).includes(&quot;data:image/webp&quot;);const htmDom = document.documentElement;if(isWebp) &#123; htmDom.classList.add(&quot;webpa&quot;);&#125; css&#x2F;lessâ€¦æ ·å¼å›¾ç‰‡å¤„ç†ä»¥lessä¸ºä¾‹å…¶ä»–æ ·å¼é¢„å¤„ç†å™¨åŒç† 123456789101112/* webp mixin */.webpbg(@url) &#123; background-image: url(@url); .webpa &amp; &#123; background-image: url(&#x27;@&#123;url&#125;.webp&#x27;); &#125;&#125;// Usage+ .webpbg(url)- background-image(url) é¡¹ç›®mixinå¯é€šè¿‡webpackæ’ä»¶ï¼šstyle-resources-loader ç»Ÿä¸€å¼•å…¥ JSX imgæ ‡ç­¾å¤„ç†ä½¿ç”¨ å…¼å®¹webpEg. 123456789101112131415import React from &#x27;react&#x27;;const Img = (props) =&gt; ( &lt;picture className=&#123;props?.className&#125;&gt; &lt;source className=&#123;props?.className&#125; srcSet=&#123;`$&#123;props?.src&#125;.webp`&#125; type=&quot;image/webp&quot; /&gt; &lt;img className=&#123;props?.className&#125; src=&#123;props?.src&#125; alt=&#123;props?.alt&#125; loading=&quot;lazy&quot; /&gt; &lt;/picture&gt; );export default Img; *å¹¶ä¸æ˜¯ä¸€è‚¡è„‘å„¿æŠŠæ‰€æœ‰å›¾ç‰‡è½¬åŒ–æˆwebpå°±æ˜¯æœ€ä¼˜è§£ï¼Œé¢å¯¹çº¿æ€§ã€çŸ¢é‡ã€æ¸å˜å›¾ç‰‡è½¬åŒ–æˆsvgåè€Œæ›´å¥½ã€‚","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"}]},{"title":"Docker Note","date":"2021-07-03T17:32:34.158Z","path":"2021/07/04/Docker-Note1/","text":"å®¹å™¨æŠ€æœ¯çš„ä¸€ä¸ªå®ç° container å¿«é€Ÿæ‰“åŒ…æŠ€æœ¯ æ ‡å‡†åŒ– è½»é‡åŒ– æ˜“ç§»æ¤ Linux Container(2008) Namespaceå’ŒCgroup(è´Ÿè´£èµ„æºç®¡ç†æ§åˆ¶)ä¸¤å¤§æœºåˆ¶ä¿éšœ æ ‡å‡†åŒ–docker != container runtime spec(åŸºæœ¬è§„èŒƒ egï¼šä¸‹è½½ã€åˆ›å»ºå®¹å™¨) image spec(é•œåƒçš„åŸºæœ¬æ ¼å¼) Image VS ContainerImage Docker imageæ˜¯ä¸€ä¸ª read-only æ–‡ä»¶ ç†è§£æˆä¸€ä¸ªæ¨¡æ¿ åŒ…å«æ–‡ä»¶ç³»ç»Ÿã€æºç ã€åº“æ–‡ä»¶è¿˜æœ‰ä¾èµ– Imageæœ‰åˆ†å±‚çš„æ¦‚å¿µ Container â€è¿è¡Œä¸­çš„Docker Imageâ€œ å®è´¨æ˜¯å¤åˆ¶imageå¹¶åœ¨imageæœ€ä¸Šå±‚åŠ ä¸Šä¸€å±‚read-writeçš„å±‚ ï¼ˆç§°ä¹‹ä¸ºcontainer layer,å®¹å™¨å±‚ï¼‰ ä¸€ä¸ªImageå¯ä»¥åˆ›å»ºå¤šä¸ªContainer è·å– è‡ªå·± ä»registryæ‹‰å–(docker hub) basic docker container run nginxå¯ä»¥å»åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œå¦‚æœæ²¡æœ‰nginxä¼šå»ä¸‹è½½ docker container lså®¹å™¨çš„åˆ—å‡º(up) docker container stop (IDå¯ä»¥åªå†™å‰é¢)å®¹å™¨çš„åœæ­¢ docker container ps -a or docker container ls -aå®¹å™¨çš„åˆ—å‡º(upå’Œexit)(åœæ­¢çš„ä¹Ÿä¼šå±•ç¤º) docker container rm å®¹å™¨çš„åˆ é™¤ tips docker container stop $(docker container ps -qa)æ‰¹é‡åœæ­¢ docker container ps -qaæ‰“å°å‡ºæ‰€æœ‰container IDä¼ å…¥$ docker container rm $(docker container ps -qa)åŒç†æ‰¹é‡åˆ é™¤ docker container ps -qaæ‰“å°å‡ºæ‰€æœ‰container IDä¼ å…¥$ã€ ä¸èƒ½ç›´æ¥åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨(å…ˆåœæ­¢å†åˆ é™¤æˆ–è€… åŠ -få¼ºåˆ¶) å®¹å™¨ä¸¤ç§æ¨¡å¼attachedå’Œdetachedæ¨¡å¼(winä¸æ˜¯å®Œæ•´çš„attachedæ¨¡å¼ï¼Œctrl+cä¸èƒ½æŠŠå®¹å™¨åœæ‰) detachedæ¨¡å¼ &gt; docker container run -d -p 80:80 nginx (åå°è¿è¡Œ) docker attach detached -&gt; attached (* åˆ›å»ºå®¹å™¨å°½é‡ä½¿ç”¨detachedæ¨¡å¼) å®¹å™¨äº¤äº’ docker container logs æŸ¥çœ‹log docker container logs -f å®æ—¶æŸ¥çœ‹log docker container run -it ubuntu shåˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶è¿›å…¥äº¤äº’å¼æ¨¡å¼ (è¿™é‡Œåˆ›å»ºäº†ubuntu sh) docker container exec -itåœ¨ä¸€ä¸ªå·²ç»è¿è¡Œçš„å®¹å™¨é‡Œæ‰§è¡Œä¸€ä¸ªé¢å¤–çš„command eg: 1234docker container run -d -p 80:80 nginxdocker exec -it &lt;ID&gt; sh *exité€€å‡º Container vs VM å®¹å™¨å¹¶ä¸æ˜¯miniçš„è™šæ‹Ÿæœºï¼šcontainerå…¶å®å°±æ˜¯è¿›ç¨‹ã€‚å®¹å™¨ä¸­çš„è¿›ç¨‹è¢«é™åˆ¶äº†å¯¹CPUå†…å­˜ç­‰èµ„æºçš„è®¿é—®ã€‚å½“è¿›ç¨‹åœæ­¢åï¼Œå®¹å™¨å°±é€€å‡º docker container top æ˜¾ç¤ºcontainerè¿è¡Œäº†é‚£äº›è¿›ç¨‹ docker container run åœ¨æœ¬åœ°æŸ¥æ‰¾æ˜¯å¦æœ‰nginxè¿™ä¸ªimageé•œåƒï¼Œä½†æ˜¯æ²¡æœ‰å‘ç° å»è¿œç¨‹çš„image registryæŸ¥æ‰¾nginxé•œåƒï¼ˆé»˜è®¤çš„registryæ˜¯Docker Hub) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„nginxé•œåƒ ï¼ˆnginx:latest é»˜è®¤) åŸºäºnginxé•œåƒæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œå¹¶ä¸”å‡†å¤‡è¿è¡Œ docker engineåˆ†é…ç»™è¿™ä¸ªå®¹å™¨ä¸€ä¸ªè™šæ‹ŸIPåœ°å€ åœ¨å®¿ä¸»æœºä¸Šæ‰“å¼€80ç«¯å£å¹¶æŠŠå®¹å™¨çš„80ç«¯å£è½¬å‘åˆ°å®¿ä¸»æœºä¸Š å¯åŠ¨å®¹å™¨ï¼Œè¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼ˆè¿™é‡Œæ˜¯ä¸€ä¸ªshellè„šæœ¬å»å¯åŠ¨nginxï¼‰ é•œåƒè·å– pull from registry (online) ä»registryæ‹‰å–(dockerhub) publicï¼ˆå…¬æœ‰ï¼‰ privateï¼ˆç§æœ‰ï¼‰ build from Dockerfile (online) ä»Dockerfileæ„å»º load from file (offline) æ–‡ä»¶å¯¼å…¥ ï¼ˆç¦»çº¿ï¼‰(backup.tar) Imageæ“ä½œ docker image pull xxxæ‹‰å–é•œåƒxxx docker image pull nginx:1.20.0æŒ‡å®šç‰ˆæœ¬ æ‹‰å–nginx:1.20.0 docker image pull quay.io&#x2F;bitnami&#x2F;nginxQuayä¸Šæ‹‰å–é•œåƒ docker image lsæŸ¥çœ‹é•œåƒ docker image inspect æ˜¾ç¤ºé•œåƒæ›´å¤šä¿¡æ¯ docker image rm åˆ é™¤é•œåƒ(å¦‚æœæœ‰æ­£åœ¨ä½¿ç”¨çš„å®¹å™¨æ˜¯æ— æ³•åˆ é™¤çš„ å¿…é¡»docker container rm åˆ é™¤äº†å®¹å™¨æ‰å¯ä»¥) Imageå¯¼å‡ºã€å¯¼å…¥ docker image save nginx&lt;: version&gt; -o nginx.imageå¯¼å‡º docker image load -i .&#x2F;nginx.imageå¯¼å…¥ Dockerfile Docker can build images automatically by reading the instructions from a Dockerfile. A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image. Using docker build users can create an automated build that executes several command-line instructions in succession. æ˜¯ç”¨äºæ„å»ºdockeré•œåƒçš„æ–‡ä»¶ é‡ŒåŒ…å«äº†æ„å»ºé•œåƒæ‰€éœ€çš„â€œæŒ‡ä»¤â€ æœ‰å…¶ç‰¹å®šçš„è¯­æ³•è§„åˆ™ examplehello.py 1print(&#x27;hello docker!&#x27;) Dockerfile 12345FROM ubuntu:21.04RUN apt-get update &amp;&amp; \\ DEBIAN_FRONTEND=noninteractive apt-get install --no-install-recommends -y python3.9 python3-pip python3.9-devADD hello.py /CMD [&quot;python3&quot;, &quot;/hello.py&quot;] RUN: æŒ‡å®šé•œåƒè¢«æ„å»ºæ—¶è¦è¿è¡Œçš„å‘½ä»¤ CMD: æŒ‡å®šå®¹å™¨è¢«å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ ENTRYPOINT: åŒ CMD ï¼Œä½†ä¸ä¼šè¢« docker run -t è¦†ç›– WORKDIR: CMD&#x2F;ENTRYPOINT ä¼šåœ¨è¿™ä¸ªç›®å½•ä¸‹æ‰§è¡Œ VOLUME ADD COPY docker image build -t hello .æ„å»ºåä¸ºhelloçš„æ„å»º(-tæ˜¯tagçš„æ„æ€) 123âœ docker image lsREPOSITORY TAG IMAGE ID CREATED SIZEhello latest 1a963417de9a 43 seconds ago 206MB æ„å»ºæˆåŠŸ 12âœ docker run -it hellohello docker! æ‰§è¡ŒæˆåŠŸï¼ commitdockeræä¾›äº†ä¸€ä¸ªæ–¹æ³•ç›´æ¥ é€šè¿‡ä¸€ä¸ªcontaineråˆ›å»ºä¸€ä¸ªæ–°çš„image docker container commit REPOSITORY:[:tag] å‰ç«¯example æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ docker åˆ›å»ºdockerfile &amp; index.html12FROM nginxCOPY ./index.html /usr/share/nginx/html/index.html åŸºäºnginxè¿™ä¸ªé•œåƒã€‚å°†æ–‡ä»¶å¤¹ä¸‹çš„index.htmlæ‹·è´åˆ°é•œåƒcontainerä¸‹çš„ /usr/share/nginx/html/ä¸‹é¢ 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Hello Docker&lt;/title&gt;&lt;/head&gt;&lt;body&gt; Test&lt;/body&gt;&lt;/html&gt; è¿™é‡Œéšä¾¿å†™äº†ä¸€ä¸ªï¼ˆç”¨æ¥æ›¿æ¢é»˜è®¤çš„nginxæ¬¢è¿é¡µï¼‰ docker image build -t dockerTest . 1234âœ docker image lsREPOSITORY TAG IMAGE ID CREATED SIZEdocker-test latest 65a48f14f1c1 20 seconds ago 133MB docker-testå·²ç»ç”Ÿæˆ docker container run -d -p 80:80 docker-test è¿è¡Œå®¹å™¨æŒ‡å®šç«¯å£80:80 æˆåŠŸï¼ ä»¥ä¸Šhttps://github.com/laclys/Front-End_practice/issues/153 dockerå­¦ä¹ æ±‡æ€»ç‰ˆ","tags":[{"name":"docker","slug":"docker","permalink":"http://yoursite.com/tags/docker/"}]},{"title":"Snowpack","date":"2020-07-20T15:00:11.813Z","path":"2020/07/20/Snowpack/","text":"ä»€ä¹ˆæ˜¯Snowpack Snowpack is a modern, lightweight toolchain for web application development. Traditional dev bundlers like webpack or Parcel need to rebuild &amp; rebundle entire chunks of your application every time you save a single file. This introduces lag between changing a file and seeing those changes reflected in the browser, sometimes as slow as several seconds. We call this new approach O(1) Build Tooling. ç®€è€Œè¨€ä¹‹å°±æ˜¯åˆ©ç”¨åŸç”ŸES Modules(å‡ ä¹æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Œå½“ç„¶é™¤äº†IE, æ”¯æŒIE11),æ— éœ€æ‰“åŒ…å·¥å…·ï¼ˆWebpackï¼ŒParcelï¼‰ä¾¿èƒ½å°†ä»£ç ç»“æœå®æ—¶å±•ç°åœ¨æµè§ˆå™¨ä¸­çš„No build step needed!æ„å»ºå·¥å…·ã€‚è¿˜æœ‰ä¸€ä¸ªå®£ä¼ ç‚¹å°±æ˜¯Snowpackæ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦O(1)çš„æ„å»ºç³»ç»Ÿã€‚åƒwebpackè¿™ç§æ‰“åŒ…å·¥å…·æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦O(n)çš„è¿‡ç¨‹ï¼Œä¸€ä¸ªæ–‡ä»¶å˜æ›´ï¼Œä½ ä¸æ­¢é‡æ–°æ„å»ºè¿™ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯å¤šä¸ªç›¸å…³æ–‡ä»¶ç”šè‡³æ•´ä½“ä¸€æ•´å—ï¼Œè¦ç»å†build -&gt; bundle recompilationè¿™ä¸ªè¿‡ç¨‹ã€‚Snowpackå‘¢ï¼Œåˆ™æ˜¯åˆ†åˆ«æ„å»ºæ¯ä¸€ä¸ªæ–‡ä»¶ ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ›´æ”¹äº†æŸä¸ªæ–‡ä»¶ï¼Œåªéœ€è¦é‡å»ºè¿™ä¸€ä¸ªæ–‡ä»¶build(file) =&gt; resultå•ä¸ªæ–‡ä»¶å•ä¸ªç¼“å­˜(æ¢è¨€ä¹‹ï¼Œå¦‚æœä½ ä¸å˜æ›´xxæ–‡ä»¶ï¼Œé‚£å°±æ°¸è¿œä¸ç”¨é‡æ„å®ƒ)ã€‚åŠ è½½é¡µé¢ä¹Ÿæ˜¯ï¼Œå®ƒåªä¼šè¯·æ±‚å½“å‰æ‰€éœ€çš„é‚£äº›æ–‡ä»¶ã€‚å¼€å‘ç¯å¢ƒåªè¦ä¸€æ¬¡Snowpackï¼Œä¿®æ”¹æºç èƒ½å¤Ÿå®æ—¶åé¦ˆåœ¨æµè§ˆå™¨ä¸Šï¼Œå¯ä»¥è·å¾—æ›´å¿«çš„å¼€å‘ä½“éªŒã€‚å½“ç„¶Snowpackä¹Ÿä¸æ˜¯å®Œå®Œå…¨å…¨çš„bundlelessï¼Œå½“ç„¶è¿™ä¸ªæ˜¯åè¯ æ”¯æŒ æ¡†æ¶ï¼š Reactã€Preactã€Vueã€Svelteã€Tailwind CSS(snowpack2.0 å·²ç»å†…ç½®äº† JSX å’Œ Typescript æ–‡ä»¶çš„å¤„ç†) Tooling: Babelã€TypeScriptã€PostCSS å®˜æ–¹æä¾›æ¨¡æ¿ï¼šCreate Snowpack App HMR Dev Request Proxy Environment Variables HTTPS&#x2F;HTTP2(HTTP2çš„å¤šè·¯å¤ç”¨ã€åˆå¹¶è¯·æ±‚å°±èƒ½è§£å†³Snowpackå¤šæ„å»ºæ–‡ä»¶çš„é—®é¢˜) StartSnowpackå®˜æ–¹æä¾›äº†åˆ›å»ºé¡¹ç›®çš„æ¨¡æ¿ï¼Œè¿™é‡Œä½¿ç”¨@snowpack/app-template-react npx create-snowpack-app demo â€“template @snowpack&#x2F;app-template-react åˆ›å»ºå®Œçš„ç›®å½•æ˜¯è¿™æ ·çš„ è¿™é‡Œè¯´æ˜å‡ ç‚¹ public æ–‡ä»¶ä¸‹ç”¨æ¥å­˜æ”¾å…¬å…±æ–‡ä»¶ä»¥åŠæ¨¡æ¿, å¯ä»¥ç›´æ¥é€šè¿‡è·¯å¾„è®¿é—®,å¦‚ public æ–‡ä»¶ä¸‹çš„ favicon.ico å¼€å¯å¯ä»¥é€šè¿‡ http://localhost:8080/favicon.ico æ¥æ‰“å¼€ src æ–‡ä»¶ æ”¾ç½®ç»„ä»¶å’Œé¡µé¢è¿˜æœ‰æ ·å¼ç­‰ web å†…å®¹, src é‡Œçš„é™æ€å†…å®¹é€šè¿‡ç¼–è¯‘ä»¥åå¯ä»¥é€šè¿‡ dist æ¥è®¿é—®,å¦‚ http://localhost:8080/_dist_/logo.svg[Demo]: https://github.com/laclys/skarner snowpackæ˜¯æ”¯æŒçƒ­æ›´æ–°çš„ 12345// index.jsxif (import.meta.hot) &#123; import.meta.hot.accept();&#125; ä¸åƒ webpack ä½¿ç”¨å‘é¡µé¢æ·»åŠ  script æ ‡ç­¾æ¥åŠ è½½æ–°æ¨¡å—ï¼Œsnowpack ç›´æ¥ä½¿ç”¨äº†åŸç”Ÿçš„ dynamic import æ¥åŠ è½½æ–°æ¨¡å—,ä¹Ÿç®—ç¬¦åˆnode_modules&#x2F;snowpack&#x2F;assets&#x2F;hmr.js 1234567891011121314151617181920/** Called when a new module is loaded, to pass the updated module to the &quot;active&quot; module */async function runModuleAccept(id) &#123; const state = REGISTERED_MODULES[id]; if (!state) &#123; return false; &#125; if (state.isDeclined) &#123; return false; &#125; const acceptCallbacks = state.acceptCallbacks; const updateID = Date.now(); for (const &#123;deps, callback: acceptCallback&#125; of acceptCallbacks) &#123; const [module, ...depModules] = await Promise.all([ import(id + `?mtime=$&#123;updateID&#125;`), ...deps.map((d) =&gt; import(d + `?mtime=$&#123;updateID&#125;`)), ]); acceptCallback(&#123;module, deps: depModules&#125;); &#125; return true;&#125; é—®é¢˜ ä¸å®Œå…¨çš„bundlelessï¼š å¼€å‘ç¯å¢ƒä¸šåŠ¡ä»£ç ç›´æ¥bundlelessã€‚å¯¹node_modulesåšäº†ä¸€å±‚bundleå¤„ç†ã€‚ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…æä¾›ä¸¤å¥—æŠ€æœ¯module/nomodule.å®˜æ–¹ç»´æŠ¤äº†ä¸¤å¥—æ‰“åŒ…æ’ä»¶ï¼ˆ@snowpack/plugin-webpack &#x2F; @snowpack/plugin-parcelä¸ºç”Ÿäº§ç¯èŠ‚æ‰“åŒ…ã€‚ä¹Ÿç®—æ˜¯ä¸€ç§æ¸è¿›å¼ ä½†æ˜¯éœ€è¦æ‰¿æ‹…å¼€å‘ä¸ç”Ÿäº§ç¯å¢ƒæ„å»ºç»“æœä¸ä¸€è‡´çš„é£é™© å¯¹sassã€lesså¤„ç†ä¸å¤Ÿå‹å¥½ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†. 1234&quot;scripts&quot;: &#123; &quot;run:sass&quot;: &quot;sass src/css:public/css --no-source-map&quot;, &quot;run:sass::watch&quot;: &quot;$1 --watch&quot;&#125; (æ€ä¹ˆå¤„ç†cssçš„) 12// è¿™ç§è¯­æ³•ç›®å‰æµè§ˆå™¨æ˜¯ä¸æ”¯æŒçš„import &#x27;./style.css&#x27; snowpackå°†cssæ–‡ä»¶å˜æˆä¸€ä¸ªæ³¨å…¥æ ·å¼çš„jsæ¨¡å— ï¼ˆimport â€˜.&#x2F;style.css.proxy.jsâ€™;ï¼‰åŒç†å›¾ç‰‡ demo.png -&gt; demo.png.proxy.js å¯¹ESMå¼ºä¾èµ–,éšä¹‹å¸¦æ¥äº†å¾ˆå¤š CommonJS çš„æ¨¡å—ä¾èµ–å¼•å…¥é—®é¢˜ã€‚æ¯”å¦‚antdéœ€è¦ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨ 1234567import Button from &#x27;antd/es/button&#x27;;import List from &#x27;antd/es/list&#x27;;import Avatar from &#x27;antd/es/avatar&#x27;;// cssimport &#x27;antd/es/button/style/css&#x27;;import &#x27;antd/es/list/style/css&#x27;;import &#x27;antd/es/avatar/style/css&#x27;","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"bundleless","slug":"bundleless","permalink":"http://yoursite.com/tags/bundleless/"}]},{"title":"è¯´è¯´React16çš„ç”Ÿå‘½å‘¨æœŸ","date":"2019-03-12T16:53:39.211Z","path":"2019/03/13/è¯´è¯´React16çš„ç”Ÿå‘½å‘¨æœŸ/","text":"React16ç®—æ˜¯Reactè¯ç”Ÿè‡³ä»Šå˜åŒ–ç›¸å½“å¤§çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œåœ¨v16ç‰ˆæœ¬ä¸­é™†é™†ç»­ç»­æ–°å¢&#x2F;ä¿®æ”¹äº†å¾ˆå¤šåœ°æ–¹ã€‚æœ€æ–°çš„releaseç‰ˆæœ¬å·²ç»åˆ°äº†v16.8.4ã€‚ä¸ç®¡æ˜¯å¹³æ—¶å·¥ä½œè¿˜æ˜¯è‡ªå·±å­¦ä¹ éƒ½å·²ç»ä½¿ç”¨ä¸Šäº†v16è¿™ä¸ªç‰ˆæœ¬ è¿™é‡Œå°±ç®€å•è¯´ä¸€ä¸‹v16é‡Œçš„ç”Ÿå‘½å‘¨æœŸ(è™½è¯´æ˜¯è€ç”Ÿå¸¸è°ˆï¼Œä½†ä»”ç»†çœ‹æ–‡æ¡£è¿˜æ˜¯å‘ç°äº†ä¸€äº›ä¹‹å‰æ²¡æ³¨æ„ã€ä¸æ€ä¹ˆç”¨çš„ä¸œè¥¿æ¯”å¦‚getDerivedStateFromPropså’ŒgetSnapshotBeforeUpdate) reactç”Ÿå‘½å‘¨æœŸåˆ†ä¸‰ä¸ªé˜¶æ®µï¼šæŒ‚è½½ã€æ›´æ–°ã€å¸è½½ , v16å¤šå‡ºäº†ä¸€ä¸ªå¼‚å¸¸æ•è·(componentDidCatch) æŒ‚è½½ constructor static getDerivedStateFromProps (ä¹‹å‰æ²¡æ³¨æ„åˆ°è¿™ä¸ª) render componentDidMount è¿™é‡Œæˆ‘ä»¬ä¸»è¦çœ‹ä¸€ä¸‹constructorã€componentWillMountå’Œstatic getDerivedStateFromProps constructor: åˆå§‹åŒ– state(æ³¨æ„é¿å…ä½¿ç”¨propsç»™stateèµ‹å€¼) ç»™æ–¹æ³•ç»‘å®šthisä½†åœ¨v16ä¹‹åè¿™ä¸¤ä»¶äº‹åœ¨constructorå¤–é¢åšä¼šæ›´ç›´è§‚æ›´ç®€å•(v16ä¹‹åconstructorä½¿ç”¨åœºæ™¯ä¼šå˜å°‘)egï¼š123456789class Test extends Component &#123; state = &#123; a: 1 &#125; handleClick = (e) =&gt; &#123; // xxx &#125;&#125; componentWillMount: v16ä¼šå‘Šè¯«å¼€å‘è€…componentWillMountè¿™ä¸ªå‡½æ•°ä¼šåœ¨æœªæ¥çš„ç‰ˆæœ¬åˆ å»ã€‚æˆ‘ä»¬å¯ä»¥å…ˆæƒ³æƒ³ä¹‹å‰è¿™ä¸ªç”Ÿå‘½å‘¨æœŸç”¨æ¥åšä»€ä¹ˆï¼Ÿ - AJAXè¯·æ±‚ï¼Œç„¶åæ‰§è¡Œ setState é‡æ–°æ¸²æŸ“ï¼Ÿ ä½†æ˜¯åœ¨componentWillMountä¸­è¿›è¡Œè¿™æ ·çš„æ“ä½œæ˜¯åœ¨ä¸æ˜¯å¾ˆå¦¥å½“ï¼Œç‰¹åˆ«åœ¨SSRé¡¹ç›®ä¸­(è¿™é‡Œä¸å±•å¼€)ã€‚å› æ­¤è¯´åˆ°åº•å®ƒæ²¡ä»€ä¹ˆç”¨ï¼Œè¢«â€åˆ æ‰â€ä¹Ÿæ˜¯åˆæƒ…åˆç† static getDerivedStateFromProps è¿™ä¸ªå°±æ˜¯å†æ¬¡çœ‹æ–‡æ¡£çš„æ–°å‘ç°ã€‚ä¸Šé¢è¯´åˆ°åº”é¿å…ä½¿ç”¨propsç»™stateèµ‹å€¼ã€‚v16ç»™ä¸äº†æˆ‘ä»¬è¿™ä¸ªé™æ€æ–¹æ³•ï¼ˆæŒ‚è½½ç»„ä»¶æ—¶ï¼Œå®ƒä¼šåœ¨renderä¹‹å‰æ‰§è¡Œï¼‰egï¼š 12345678910111213// getDerivedStateFromPropsçš„è¿”å›å€¼å°†ä½œä¸ºsetStateçš„å‚æ•°ï¼Œå¦‚æœè¿”å›nullï¼Œåˆ™ä¸æ›´æ–°stateï¼Œä¸èƒ½è¿”å›object æˆ– null ä»¥å¤–çš„å€¼ï¼Œå¦åˆ™ä¼šè­¦å‘Šã€‚class Test2 extends Component &#123; state = &#123; b: 0 &#125; static getDerivedStateFromProps(props, state): State &#123; if(props.b !== state.b) &#123; return &#123; b: props.b &#125;; &#125; &#125;&#125; å¦å¤–éœ€è¦æä¸€ä¸‹ï¼ŒgetDerivedStateFromPropsæ˜¯é™æ€æ–¹æ³•ï¼Œæ•…æ‹¿ä¸åˆ°thisï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå®ƒè®¾è®¡ä¸ºçº¯å‡½æ•°ã€‚ åŒæ—¶ä¹Ÿä¼šå‘ç°æœ‰äº†è¿™ä¸ªé™æ€æ–¹æ³•ï¼ŒcomponentWillReceivePropså¥½åƒä¹Ÿæ²¡ä»€ä¹ˆç”¨äº†ï¼ˆè¿™å°±èƒ½è§£é‡Šä¸ºä»€ä¹ˆv16ä¹ŸæŠŠå®ƒâ€™åˆ æ‰å’¯â€™ï¼‰ æ›´æ–° static getDerivedStateFromProps shouldComponentUpdate render getSnapshotBeforeUpdate componentDidUpdate è¿™é‡Œå°±è¯´è¯´ï¼Œå¦ä¸€ä¸ªæˆ‘ä¹‹å‰æ²¡æ€ä¹ˆæ³¨æ„åˆ°çš„ç‚¹getSnapshotBeforeUpdate åœ¨ react æ›´æ–° dom ä¹‹å‰è°ƒç”¨ï¼Œæ­¤æ—¶ state å·²æ›´æ–°ï¼› è¿”å›å€¼ä½œä¸º componentDidUpdate çš„ç¬¬3ä¸ªå‚æ•°ï¼› ä¸€èˆ¬ç”¨äºè·å– render ä¹‹å‰çš„ dom æ•°æ® egï¼š 12345678class Test3 extends Component &#123; getSnapshotBeforeUpdate (prevProps, prevState): Snapshot &#123; &#125; componentDidUpdate(prevProps, prevState, snapshot) &#123; // snapshot æ˜¯ä» getSnapshotBeforeUpdate çš„è¿”å›å€¼ï¼Œé»˜è®¤æ˜¯ null &#125;&#125; componentDidCatchæœ€åå†è¯´è¯´è¿™ä¸ªå¼‚å¸¸æ•è·,ç”¨äºæ•è·ç»„ä»¶æ ‘çš„å¼‚å¸¸ã€‚v16ç‰ˆæœ¬å¼•å…¥äº†æ‰€è°“Error Boundaryçš„æ¦‚å¿µ,è€Œä¿è¯äº†å‘ç”Ÿåœ¨ UI å±‚çš„é”™è¯¯ä¸ä¼šè¿é”å¯¼è‡´æ•´ä¸ªåº”ç”¨ç¨‹åºå´©æºƒã€‚å…¶å®å¯ä»¥ç†è§£ä¸ºtryÂ·Â·Â·catché€šå¸¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ•è·å¼‚å¸¸çš„ç”Ÿå‘½å‘¨æœŸé’©å­å°è£…æˆä¸€ä¸ªè¿™æ ·çš„ decorator æ¥åŒ…è£¹å¯èƒ½å‡ºé”™çš„ç»„ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091import React, &#123; Component &#125; from &#x27;react&#x27;export default (message = &#x27;å‡ºé”™å•¦!&#x27;) =&gt; (TargetComponent) =&gt; &#123; class ErrorBoundary extends Component &#123; constructor (props) &#123; super(props) this.state = &#123; hasError: false, error: null, info: null &#125; &#125; componentDidCatch (error, info) &#123; this.setState(&#123; hasError: true, error, info &#125;) &#125; render () &#123; const &#123; hasError &#125; = this.state if (hasError) &#123; return ( &lt;div className=&#x27;error-boundary&#x27;&gt; &lt;p className=&#x27;error-boundary-message&#x27;&gt; &#123; message &#125; &lt;/p&gt; &#123; this.renderError() &#125; &#123; this.renderComponentStack() &#125; &lt;/div&gt; ) &#125; return ( &lt;TargetComponent &#123; ...this.props &#125; /&gt; ) &#125; renderError () &#123; const &#123; error &#125; = this.state if (!error) &#123; return null &#125; return ( &lt;div className=&#x27;error-boundary-info&#x27;&gt; &lt;h6&gt;Error Stack:&lt;/h6&gt; &lt;div&gt; &#123; error.stack.split(&#x27;\\n&#x27;).map((line, index) =&gt; &#123; return ( &lt;p key=&#123; index &#125;&gt;&#123; line &#125;&lt;/p&gt; ) &#125;) &#125; &lt;/div&gt; &lt;/div&gt; ) &#125; renderComponentStack() &#123; const &#123; info &#125; = this.state if (!info || !info.componentStack) &#123; return null &#125; return ( &lt;div className=&#x27;error-boundary-info&#x27;&gt; &lt;h6&gt;ErrorInfo componentStack:&lt;/h6&gt; &lt;div&gt; &#123; info.componentStack.split(&#x27;\\n&#x27;).map((line, index) =&gt; &#123; return ( &lt;p key=&#123; index &#125;&gt;&#123; line &#125;&lt;/p&gt; ) &#125;) &#125; &lt;/div&gt; &lt;/div&gt; ) &#125; &#125; return ErrorBoundary&#125; å®Œæ•´æ–°ç”Ÿå‘½å‘¨æœŸ12345678910111213141516171819202122232425262728293031323334353637383940414243444546import React from &#x27;react&#x27;export default class MyComponent extends React.Component &#123; constructor(props) &#123; super(props); // åˆå§‹åŒ–stateæ–¹å¼ï¼ˆ1ï¼‰ this.state = &#123; &#125; &#125; static defaultProps = &#123; &#125; // åˆå§‹åŒ–stateæ–¹å¼ï¼ˆ2ï¼‰ state = &#123; &#125; static getDerivedStateFromProps(props, state) &#123; return state &#125; componentDidCatch(error, info) &#123; &#125; render() &#123; &#125; componentDidMount() &#123; &#125; shouldComponentUpdate(nextProps, nextState) &#123; &#125; getSnapshotBeforeUpdate(prevProps, prevState) &#123; &#125; componentDidUpdate(prevProps, prevState, snapshot) &#123; &#125; componentWillUnmount() &#123; &#125;&#125; ä»¥ä¸Š~","tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"React Portal å°è°ˆ","date":"2018-12-13T16:08:36.342Z","path":"2018/12/14/React_Portal/","text":"æœ€è¿‘åœ¨çœ‹ReactV16å¸¦æ¥çš„æ–°ä¸œè¥¿ï¼ŒV16ç‰ˆæœ¬ç›´æ¥æ”¯æŒäº†Portalã€‚ä»Šå„¿å°±æ€»ç»“ä¸€ä¸‹Portalè¿™ä¸ªè‡ªå·±ä¸æ˜¯é‚£ä¹ˆç†Ÿæ‚‰å´åˆéå¸¸é‡è¦çš„â€œä¼ é€é—¨â€å§ã€‚å…ˆè¯´è¯´ä¸ºä»€ä¹ˆéœ€è¦ä¼ é€é—¨ã€‚Reactçš„ä¸–ç•Œä¸€åˆ‡çš†ç»„ä»¶ï¼Œè¿›è¡Œrenderå°±éœ€è¦ä¸€ä¸ªrootæ ¹èŠ‚ç‚¹è¿›è¡ŒæŒ‚è½½ã€‚ç»„ä»¶å¥—ç»„ä»¶ä¸€å±‚ä¸€å±‚ï¼Œä¸è¿‡æœ€å¤–é¢ä¸€å±‚éƒ½æ˜¯æŒ‚åœ¨åœ¨è¿™ä¸ªrootæ ¹èŠ‚ç‚¹ä¸Šçš„ã€‚ æœ‰ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚Dialog(å¼¹çª—),é€šå¸¸å®ƒä¼šæ˜¾ç¤ºåœ¨å±å¹•æ­£ä¸­å¤®ï¼Œå®ƒåº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç»„ä»¶ã€‚å› æ­¤å°†è¿™ä¸ªå¼¹çª—ç»„ä»¶æ”¾åœ¨æ ¹èŠ‚ç‚¹ä¸‹çš„å­ç»„ä»¶é‡Œæ˜¾ç„¶æ˜¯ä¸åˆé€‚çš„ã€‚æˆ‘ä»¬å¸Œæœ›å°†å…¶æ¸²æŸ“åœ¨å’Œrootæ ¹èŠ‚ç‚¹åŒçº§çš„DOMä¸Šåœ¨Reactç»„ä»¶æ ‘çš„æœ€é¡¶å±‚ã€‚æ ·å¼ç‹¬ç«‹ï¼Œæ²¡å¿…è¦å—å…¶ä»–ç»„ä»¶çš„å¹²æ‰°ã€‚é™¤äº†Dialogéœ€è¦åœ¨æœ€é¡¶å±‚æ¸²æŸ“ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›(ä¹Ÿå¯ä»¥è¯´æ˜¯è¯‰æ±‚)åœ¨ä¸åŒçš„ä¸šåŠ¡ç»„ä»¶ä¸­å»ä½¿ç”¨å®ƒã€‚è¿™é‡Œå°±éœ€è¦Portalå’¯ã€‚ ï¼ˆ å¤©é‡å–œå­å±• ï¼‰ V16ä¹‹å‰å»å®ç°Dialogä¸Šä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940import React from &#x27;react&#x27;import &#123; unstable_renderSubtreeIntoContainer, unmountComponentAtNode &#125; from &#x27;react-dom&#x27;class Dialog extends React.Component &#123; constructor(props) &#123; super(props) &#125; componentDidMount() &#123; const doc = window.document this.node = doc.createElement(&#x27;div&#x27;) doc.body.appendChild(this.node) this.renderPortal(this.props) &#125; componentDidUpdate() &#123; this.renderPortal(this.props) &#125; componentWillUnmount() &#123; unmountComponentAtNode(this.node) window.document.body.removeChild(this.node) &#125; render() &#123; return null &#125; renderPortal(props) &#123; unstable_renderSubtreeIntoContainer( this, //å½“å‰ç»„ä»¶ &lt;div class=&#x27;dialog&#x27;&gt; &#123;props.children&#125; &lt;/div&gt;, this.node ) &#125;&#125; renderè¿”å›çš„æ˜¯nullï¼Œåœ¨componentDidMountä¸‹åœ¨bodyä¸Šåˆ›å»ºä¸€ä¸ªdivã€‚é€šè¿‡renderPortalå°†ç»„ä»¶å†…å®¹ï¼ˆprops.childrenï¼‰å¡è¿›å» è¿™é‡Œä¸»è¦ç”¨äº† react-domä¸­ unstable_renderSubtreeIntoContainer, unmountComponentAtNodeè¿™ä¸¤ä¸ªåº“ã€‚å…¶ä¸­unstable_renderSubtreeIntoContainerç®—æ˜¯ä¸€ä¸ªReactæ ‡å‡†å¤–çš„APIï¼Œä½œç”¨å˜›å°±æ˜¯â€œä¼ é€é—¨â€æŠŠä¸€éƒ¨åˆ†ç»„ä»¶ç»“æ„å¡åˆ°å¦å¤–ä¸€ä¸ªåœ°æ–¹ã€‚ unmountComponentAtNodeåˆ™æ˜¯åœ¨componentWillUnmountè¿™ä¸ªç”Ÿå‘½å‘¨æœŸé‡Œè°ƒç”¨å»æ¸…ç†unstable_renderSubtreeIntoContaineräº§ç”Ÿçš„å‰¯ä½œç”¨ V16å®ç°DialogReact V16çœŸçš„æ˜¯ä¸€ä¸ªå·¨å¤§çš„ç‰ˆæœ¬ã€‚æœ¬èº«æ”¯æŒäº†Portalã€‚æä¾›äº†createPortalå‡½æ•°ã€‚æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨componentDidMountã€componentDidUpdateä¸­renderPortalä¹Ÿä¸éœ€è¦åœ¨å»é€šè¿‡unmountComponentAtNodeæ¸…ç†å‰¯ä½œç”¨ 12345678910111213141516171819202122232425import React from &#x27;react&#x27;import &#123; createPortal &#125; from &#x27;react-dom&#x27;class Dialog extends React.Component &#123; constructor(props) &#123; super(props) this.node = doc.createElement(&#x27;div&#x27;) window.document.body.appendChild(this.node) &#125; componentWillUnmount() &#123; window.document.body.removeChild(this.node) &#125; render() &#123; return createPortal( &lt;div class=&#x27;dialog&#x27;&gt; &#123; this.props.children &#125; &lt;/div&gt;, this.node ) &#125;&#125; ä»¥ä¸Š~~~ 11ä¸­æ—¬å¼€å§‹ï¼Œå¼‚å¸¸åœ°å¿™ç¢Œã€‚é¡¹ç›®éœ€æ±‚çœŸçš„æ˜¯æ— ç©·æ— å°½ï¼Œå¤§ä½¬å¼€ä¼šè¡¨ç¤º19å¹´çš„éœ€æ±‚éƒ½æ’æ»¡äº†ã€‚ ä»£ç ä»£ç ä½•æ—¶æ˜¯ä¸ªå¤´ã€‚ å‰ä¸¤å¤©å’Œä»ç„¶åœ¨æ—¥æœ¬çš„å¥½å‹èŠå¤©ï¼Œæ—¥æœ¬çš„ç”Ÿæ´»è¿˜æ˜¯é‚£ä¹ˆæ³¢æ¾œä¸æƒŠã€æŒ‰éƒ¨å°±ç­å°æ—¥å­è›®æƒ¬æ„ã€‚å›æƒ³è‡ªå·±ä»æ—¥æœ¬å›æ¥è¿™å‡ å¹´ï¼Œä¸€å¼€å§‹ç–¯ç‹‚ç„¦èºäº†ä¸€æ³¢ï¼Œä¹‹åæ…¢æ…¢å¹³ç¨³åŠªåŠ›å­¦æŠ€æœ¯ã€çœ‹ä¹¦ä¸€ç›´åšæŒã€‚æŠ€æœ¯ã€å·¥èµ„éƒ½å†ä¸Šæ¶¨ï¼Œé™¤äº†è¿™äº›éšä¹‹è€Œæ¥çš„è¿˜æœ‰ä¸æ–­ä¸Šæ¶¨çš„ç„¦è™‘ã€‚æœ‰æ—¶å€™æœªæ¥çœŸçš„ä¸æ•¢æƒ³ã€‚ ç¡è§‰ğŸ›Œ","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"ReactSSRæ ·å¼åŠSEO","date":"2018-10-19T04:01:29.196Z","path":"2018/10/19/ReactSSRæ ·å¼åŠSEO/","text":"å‰ä¸€ç¯‡ä¸»è¦è®°å½•äº†ä¸€ä¸‹SSRé…ç½®ä»¥åŠç»“åˆReduxçš„ä½¿ç”¨ã€‚è¿™é‡Œç®€å•è¯´ä¸€ä¸‹React SSRä¸­æ ·å¼å¤„ç†å’Œæ›´ä¼˜é›…çš„SEO SSRæ ·å¼åœ¨Reactå®¢æˆ·ç«¯æ¸²æŸ“ï¼Œæ·»åŠ æ ·å¼å¾ˆå®¹æ˜“ã€‚å†™ä¸€ä¸ªcssæ ·å¼æ–‡ä»¶ï¼Œåœ¨å¯¹åº”ç»„ä»¶ä¸­å¼•ç”¨ã€‚æ ‡ç­¾ä¸Šé€šè¿‡classNameè¿™ä¸ªå±æ€§è°ƒç”¨å¯¹åº”æ ·å¼å°±ä¸‡äº‹Okäº†ã€‚å½“ç„¶æˆ‘ä»¬éœ€è¦åœ¨webpackä¸­é…ç½®loaderæ¥è§£æcssæ–‡ä»¶ã€‚ä¸€èˆ¬çš„é…ç½®å¦‚ä¸‹ï¼ˆä½¿ç”¨css modulesï¼‰ï¼š 12345678910111213module: &#123; rules: [&#123; test: /\\.css?$/, use: [&#x27;style-loader&#x27;, &#123; loader: &#x27;css-loader&#x27;, options: &#123; importLoader: 1, modules: true, localIdentName: &#x27;[name]_[local]_[hash:base64:5]&#x27; &#125; &#125;] &#125;]&#125; éœ€è¦å…ˆé€šè¿‡css-loaderè§£æcssæ–‡ä»¶ï¼Œä¹‹åå†é€šè¿‡style-loaderå°†æ ·å¼æ”¾åœ¨htmlçš„styleæ ‡ç­¾ä¸­ã€‚ é‚£ä¹ˆSSRä¹Ÿè¿™æ ·è¡Œå—~ 1yarn dev è·‘ä¸€ä¸‹æœåŠ¡ï¼Œå‘ç°å‘½ä»¤è¡ŒæŠ¥è¿™ä¸ªé”™è¯¯ï¼š 1234 return window &amp;&amp; document &amp;&amp; document.all &amp;&amp; !window.atob; ^ReferenceError: window is not defined åŸå› åœ¨äºæœåŠ¡å™¨ç«¯æ¸²æŸ“å“ªé‡Œæœ‰windowå¯¹è±¡ï¼Œå“ªé‡Œæœ‰DOMå•Šã€‚æˆ‘ä»¬æ˜¯é€šè¿‡è™šæ‹ŸDOMã€‚renderToStringè¿™ä¸ªæ–¹æ³•ç”Ÿæˆå‡ºæ¥çš„htmlå­—ç¬¦ä¸²ã€‚stackoverflowæœäº†ä¸€ä¸‹å‘ç°äº†isomorphic-style-loader è¿™ä¸ªä¸“é—¨ç”¨äºåŒæ„çš„style-loaderã€‚è¯ä¸å¤šå°‘æèµ·æ¥ã€‚å®¢æˆ·ç«¯çš„webpacké…ç½®ä¸éœ€è¦å˜æ›´è¿˜æ˜¯ä½¿ç”¨css-loader+style-loaderã€‚æœåŠ¡å™¨ç«¯å°±ä½¿ç”¨css-loader+isomorphic-style-loaderäº†(å’Œstyle-loaderç”¨æ³•ä¸€æ³¢ä¸€æ ·) 1234567891011121314// webpack.server.js module: &#123; rules: [&#123; test: /\\.css?$/, use: [&#x27;isomorphic-style-loader&#x27;, &#123; loader: &#x27;css-loader&#x27;, options: &#123; importLoader: 1, modules: true, localIdentName: &#x27;[name]_[local]_[hash:base64:5]&#x27; &#125; &#125;] &#125;] &#125; é…ç½®å¥½äº†Runä¸€ä¸‹ï¼Œä¸æŠ¥é”™äº†ä½†æ˜¯ä¼šé—ªä¸€ä¸‹å±ã€‚ç¦ç”¨æ‰jså‘ç°serverç«¯ç”Ÿæˆçš„htmlå¹¶æ²¡æœ‰æ ·å¼ï¼Œå½“å®¢æˆ·ç«¯JSæ¥ç®¡ç¨‹åºä¹‹åæ‰ä¼šæœ‰æ ·å¼å‡ºç°ã€‚è¿™æ ·çš„ä½“éªŒç›¸å½“ç³Ÿç³•ã€‚å½“ç„¶æˆ‘ä»¬ç¡®å®æ²¡æœ‰å‘æœåŠ¡å™¨ç«¯ç”Ÿæˆçš„HTMLæ·»åŠ styleæ ‡ç­¾ã€‚ç°åœ¨æœåŠ¡å™¨è¿”ç»™æˆ‘ä»¬çš„htmlæ˜¯è¿™æ ·çš„ 12345678910111213141516return ` &lt;html&gt; &lt;head&gt; &lt;title&gt;ssr&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#x27;root&#x27; &gt;$&#123; content &#125;&lt;/div&gt; &lt;script&gt; window.context = &#123; state: $&#123; JSON.stringify(store.getState()) &#125; &#125; &lt;/script&gt; &lt;script src=&#x27;/index.js&#x27; &gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; ` è¿™æ—¶æˆ‘ä»¬æƒ³åˆ°äº†contextè¿™ä¸ªç©æ„ã€‚åœ¨serverç«¯renderä¹‹å‰ã€‚æˆ‘ä»¬è®¾ç½®ä¸€ä¸ª 123let context = &#123; css: []&#125; æˆ‘ä»¬è¿˜çŸ¥é“åœ¨æœåŠ¡ç«¯æ¸²æŸ“çš„æ—¶å€™æœ‰this.props.staticContextè¿™æ ·ä¸€ä¸ªpropsæ‹¿åˆ°æˆ‘ä»¬è®¾ç½®contextã€‚å¦å¤–isomorphic-style-loaderæä¾›ç»™æˆ‘ä»¬äº†_getCss()è¿™ä¸ªæ–¹æ³•ã€‚å¯ä»¥åœ¨SSRè¿‡ç¨‹ä¸­æ‹¿åˆ°æ ·å¼ã€‚æœ‰äº†è¿™ä¸¤ä¸ªå¿…è¦æ¡ä»¶ã€‚æˆ‘ä»¬å°±å¯ä»¥åœ¨æ¯ä¸€ä¸ªç”¨åˆ°æ ·å¼çš„Componentä¸­é€šè¿‡componentWillMountè¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ·»åŠ è¿™æ ·ä¸€æ®µä»£ç ï¼š 12345componentWillMount () &#123; if (this.props.staticContext) &#123; // åªæœ‰æœåŠ¡ç«¯æ¸²æŸ“æ—¶å€™æœ‰this.props.staticContextä»¥åŠ_getCss() this.props.staticContext.css.push(styles._getCss()) &#125;&#125; è¿™æ ·æ ·å¼å°±å­˜å‚¨åœ¨contextè¿™ä¸ªå˜é‡çš„cssæ•°ç»„ä¸­å’¯ï¼Œæ”¹é€ ä¸€ä¸‹serverç«¯çš„htmlè¾“å‡ºä»£ç ï¼š 123456789101112131415161718const cssStr = context.css.length ? context.css.join(&#x27;\\n&#x27;) : &#x27;&#x27; return ` &lt;html&gt; &lt;head&gt; &lt;title&gt;ssr&lt;/title&gt; &lt;style&gt;$&#123;cssStr&#125;&lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#x27;root&#x27; &gt;$&#123;content&#125;&lt;/div&gt; &lt;script&gt; window.context = &#123; state: $&#123;JSON.stringify(store.getState())&#125; &#125; &lt;/script&gt; &lt;script src=&#x27;/index.js&#x27; &gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; ` ä¸‡äº‹ğŸ‘Œï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼ŒæŠŠcomponentWillMountæ‰€åšçš„äº‹æƒ…æå‡ºæ¥æä¸€ä¸ªHOCï¼ˆé«˜é˜¶ç»„ä»¶ï¼‰ã€‚ withStylesHOC.js 123456789101112131415161718import React, &#123; Component&#125; from &#x27;react&#x27;export default (DecoratedComponent, styles) =&gt; &#123; return class NewComponent extends Component &#123; componentWillMount () &#123; if (this.props.staticContext) &#123; this.props.staticContext.css.push(styles._getCss()) &#125; &#125; render () &#123; return &lt;DecoratedComponent &#123;...this.props&#125; /&gt; &#125; &#125;&#125; è¿™æ ·ç®€å•çš„å°è£…ä¸€ä¸ªHOCï¼Œä¹‹åæ¶‰åŠæ ·å¼çš„æ—¶å€™ç›´æ¥é€šè¿‡withStylesHOCåŒ…è£¹ä¸€ä¸‹å°±å¥½ã€‚ä¾‹å¦‚ä¸€ä¸ªç»“åˆReduxçš„Homeç»„ä»¶ï¼š 1export default connect(mapState, mapDispatch)(withStyle(Home, styles)) SSR-SEOè´¹å¤§åŠ›æ°”é€šè¿‡ä¸€ä¸ªnodeä¸­é—´å±‚å»å®ç°é¦–å±çš„SSRï¼Œé™¤å¼€é¦–å±é€Ÿåº¦ä¹‹å¤–ï¼Œå°±æ˜¯SEOè¿™ä¸€å¤§å—äº†ï¼Œå¯¹äºä¸€ä¸ªå•†ä¸šç½‘ç«™æ¥è®²çœŸçš„å¾ˆé‡è¦ã€‚SEOï¼ˆSearch Engine Optimizationï¼‰â€“ é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µè®©ç½‘ç«™åœ¨æœç´¢å¼•æ“çš„æ’åå°½é‡é å‰ä¸€ç‚¹ã€‚ç”±äºå®¢æˆ·ç«¯æ¸²æŸ“å‡ºæ¥çš„ç½‘ç«™åªæœ‰&lt;div id=&#39;root&#39;&gt;è¿™æ ·çš„htmlèŠ‚ç‚¹ã€‚å¤§å¤šæ•°æœç´¢å¼•æ“åˆ†æä¸å‡ºæ¥ç½‘ç«™ä¸Šæœ‰ä»€ä¹ˆã€‚SSRç›´æ¥æ¸²æŸ“å‡ºæ¥HTMLï¼Œè¿™æ ·å¯¹æœç´¢å¼•æ“å°±å‹å¥½äº†å¾ˆå¤šã€‚ SSRä¸­çš„SEOè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨githubä¸Šçš„ä¸€ä¸ªåº“react-helmeté¦–å…ˆéœ€è¦åœ¨å¯¹åº”çš„é¡µé¢ç»„ä»¶ä¸­å¼•å…¥react-helmetï¼Œå°±å¯ä»¥åœ¨Helmetæ ‡ç­¾å†…è‡ªç”±æ·»åŠ titleã€metaå’¯ 12345678910111213141516// Home.jaximport &#123; Helmet &#125; from &#x27;react-helmet&#x27;class Home extends Component &#123; render() &#123; return ( &lt;Fragment&gt; &lt;Helmet&gt; &lt;title&gt;SRR-Home&lt;/title&gt; &lt;meta name=&#x27;description&#x27; content=&#x27;this is a home Component&#x27; /&gt; &lt;/Helmet&gt; ... ... &lt;/&lt;Fragment&gt;&gt; ) &#125;&#125; ä¹‹åæŒ‰ç…§readmeæ‰€è¯´çš„ã€‚åœ¨serverç«¯è¿™æ ·å¤„ç† 12ReactDOMServer.renderToString(&lt;Handler /&gt;);const helmet = Helmet.renderStatic(); å¹¶åœ¨è¿”å›çš„htmlå­—ç¬¦ä¸²ä¸­ $&#123;helmet.title.toString()&#125; $&#123;helmet.meta.toString()&#125;è¿›è¡Œå¡«å…… 12345678910111213141516&lt;html&gt; &lt;head&gt; $&#123;helmet.title.toString()&#125; $&#123;helmet.meta.toString()&#125; &lt;style&gt;$&#123;cssStr&#125;&lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#x27;root&#x27; &gt;$&#123;content&#125;&lt;/div&gt; &lt;script&gt; window.context = &#123; state: $&#123;JSON.stringify(store.getState())&#125; &#125; &lt;/script&gt; &lt;script src=&#x27;/index.js&#x27; &gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; é‡æ–°è·‘ä¸€ä¸‹ æå®šï¼ å½“ç„¶SSR-SEOç»ä¸è¿™ä¹ˆç®€å•ã€‚ä»…ä»…åœ¨é¡µé¢ä¸Šæ·»åŠ headæ ‡ç­¾å†…åŠ ä¸Štitle å’Œmetaæ ‡ç­¾å½±å“æ˜¯æœ‰é™çš„ã€‚8102å¹´çš„æœç´¢çˆ¬è™«å·²ç»ä¸å•å•å»åŒ¹é…titleå’Œ descriptionï¼Œè€Œæ˜¯å…¨ç¨³çš„åŒ¹é…ï¼ˆä¹Ÿå°±æ˜¯è¯´titleå’Œdescriptæœ‰å½±å“ä½†æ˜¯å½±å“å¾ˆå°ï¼‰æœç´¢çˆ¬è™«ä¼šæŠŠæ•´ä¸ªç½‘ç«™æ‰€æœ‰çš„æ–‡æœ¬æ”¶é›†èµ·æ¥è¿›è¡Œåˆ†æã€‚ é‚£ä¹ˆå¦‚ä½•åšå¥½SEOé¢˜å¤–è¯é¡ºä¾¿è¯´ä¸€ä¸‹å¦‚ä½•åšå¥½SEOã€‚ä¸€ä¸ªç½‘ç«™æ— éä¸‰å¤§å—å†…å®¹ï¼Œæ–‡å­—ã€å¤šåª’ä½“ã€é“¾æ¥ã€‚è¦åšåˆ°çš„æ˜¯æ–‡å­—çš„åŸåˆ›æ€§ï¼Œå›¾ç‰‡çš„åŸåˆ›æ€§ä»¥åŠé«˜æ¸…åº¦è¿˜æœ‰ç«™å†…é“¾æ¥å°½é‡å’Œç«™å†…å†…å®¹ç›¸å…³ã€‚ å°±è¿™æ ·å§~ä»¥ä¸Š","tags":[{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"ssr","slug":"ssr","permalink":"http://yoursite.com/tags/ssr/"},{"name":"seo","slug":"seo","permalink":"http://yoursite.com/tags/seo/"}]},{"title":"React SSR Note(1)","date":"2018-10-16T09:32:59.917Z","path":"2018/10/16/React SSR Note(1)/","text":"SSRå·²ç»ä¸æ˜¯ä»€ä¹ˆæ–°è¯ã€æ–°æ¦‚å¿µäº†ã€‚ä¸ºäº†è§£å†³Reactã€Vueè¿™ç±»å•é¡µé¢ï¼ˆSPAï¼‰å¸¦æ¥çš„é¦–å±è¿‡æ…¢ä»¥åŠSEOç­‰é—®é¢˜éšä¹‹è€Œå‡ºã€‚Vueã€Reactå®˜æ–¹ä¹Ÿä¸€ç›´å†è·Ÿè¿›ç›¸å…³çš„æ”¯æŒã€‚åŒæ—¶ç¤¾åŒºä¹Ÿè¯ç”Ÿäº†Next.js(React)ä»¥åŠNuxt(vue)è¿™ç±»å·²ç»é…ç½®å¥½ï¼Œå¼€ç®±å³ç”¨çš„SSRè§£å†³æ–¹æ¡ˆã€‚ ä¹‹å‰åœ¨ç ”ç©¶å­¦ä¹ Webpackçš„æ—¶å€™ï¼ŒæŠ˜è…¾è¿‡React SSRçš„é…ç½®å’Œä½¿ç”¨ã€‚ä»é›¶é…ç½®Webpack4.0æ­å»ºä¸€ä¸ªReactå·¥ç¨‹å¹¶ä¸”åœ¨è›®å¤šè‡ªå·±çæçš„é¡¹ç›®ä¸­ä½¿ç”¨è¿‡ï¼Œè¿™å‡ å‘¨è‡ªå·±å†æŠ˜è…¾SSRä¸Reduxçš„ç»“åˆã€‚è¿™ä¸€å…¨é¢æ€»ç»“ä¸€ä¸‹ï¼Œå°±å½“æ¸©æ•…çŸ¥æ–°äº†ã€‚ ä»€ä¹ˆæ˜¯æœåŠ¡ç«¯æ¸²æŸ“&#x2F;ä¸ºä»€ä¹ˆä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“æœåŠ¡ç«¯æ¸²æŸ“é¡¾åæ€ä¹‰æµè§ˆå™¨é€šè¿‡urlå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†å¥½é¡µé¢çš„å†…å®¹å°†æ•´ä¸ªé¡µé¢è¿”è¿˜ç»™æµè§ˆå™¨ã€‚æ¯å½“è¯·æ±‚ä¸€ä¸ªurlï¼ŒæœåŠ¡å™¨è¦å°†è¯¥urlå¯¹åº”çš„é¡µé¢å†…å®¹å‘é€ç»™æµè§ˆå™¨ã€‚ è€ŒSPAå•é¡µé¢åº”ç”¨åˆ™æ˜¯åœ¨ä¸€å¼€å§‹ä¸€è‚¡è„‘å°†æ•´ä¸ªbundle.jsåŠ è½½è¿›æ¥ã€‚å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š æµè§ˆå™¨å‘é€è¯·æ±‚ -&gt; æœåŠ¡å™¨è¿”å›HTML(ç©ºçš„éª¨æ¶) -&gt; æµè§ˆå™¨å‘é€bundle.js -&gt; æœåŠ¡å™¨è¿”å›bundle.js -&gt;æµè§ˆå™¨æ‰§è¡ŒReact&#x2F;Vueä»£ç  ä¹‹åæ‰€æœ‰çš„urlå˜æˆæ“ä½œéƒ½é€šè¿‡è¿™ä¸ªjsæ¥å¤„ç†ï¼Œä¸éœ€è¦å†é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚webåº”ç”¨æ›´å…·å“åº”æ€§ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚ä½†æ˜¯ç”±äºä¸€å¼€å§‹è¦åŠ è½½ä¸€å¤§å¨bundle.jså°±ä¼šå¸¦æ¥é¦–å±è¿‡æ…¢çš„é—®é¢˜ã€‚ç”±äºæ•´ä¸ªç½‘é¡µçš„å†…å®¹éƒ½åœ¨jsä¸­ï¼Œè‡ªç„¶è€Œç„¶htmlæºç ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œä¸åˆ©äºSEOã€‚ ä¸ºäº†è§£å†³ç—›ç‚¹SSRå°±æ¥äº†ã€‚å®ƒä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œåªæ˜¯é¦–å±æ¸²æŸ“ï¼Œé¦–å±é€šè¿‡æœåŠ¡å™¨ç›´æ¥ç”Ÿæˆï¼Œä¹‹åçš„ç”±å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰æ¥ç®¡ã€‚è¿™æ ·æ—¢èƒ½è§£å†³é¦–å±é€Ÿåº¦ã€SEOè¿˜èƒ½åŒäº‹æ‹¥æœ‰å•é¡µé¢åº”ç”¨å¸¦ç»™ç”¨æˆ·çš„æµç•…æ€§ã€‚(è¿™é‡Œæœ‰ä¸€ä¸ªä¸“æœ‰åè¯å«åšï¼šåŒæ„â€“ä¸€å¥—ä»£ç åœ¨æœåŠ¡å™¨æ‰§è¡Œä¸€éï¼Œåœ¨å®¢æˆ·ç«¯æ‰§è¡Œä¸€é) å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š æµè§ˆå™¨å‘é€è¯·æ±‚ -&gt; æœåŠ¡å™¨è¿è¡ŒReactä»£ç ç”Ÿæˆé¡µé¢ -&gt; æœåŠ¡å™¨è¿”å›é¡µé¢ -&gt; æµè§ˆå™¨åŠ è½½bundle.js -&gt; bundle.jsçš„Reactä»£ç åœ¨æµè§ˆå™¨é‡æ–°æ‰§è¡Œ -&gt; bundle.jsçš„Reacté‡æ–°æ¥ç®¡é¡µé¢æ“ä½œã€‚ è¿™é‡Œä¸»è¦è¯´è¯´Reactä¸­çš„SSRæ ¸å¿ƒç”±äºè™šæ‹ŸDOMçš„å­˜åœ¨(çœŸå®DOMçš„JSå¯¹è±¡æ˜ å°„)åœ¨SPAä¸­ 1ReactDom.render(&lt;Home /&gt;, id/root) åœ¨SSRä¸­è™šæ‹Ÿdomçš„å­˜åœ¨è®©SSRå˜å¾—å¾ˆç®€å• 1renderToString(&lt;Home /&gt;) æŠŠè™šæ‹Ÿdomè½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œè¿”ç»™æœåŠ¡å™¨å°±æ˜¯äº† Simple Demoé¦–å…ˆå¯ä»¥åœ¨åˆ†åˆ«åˆ›å»ºserveræ–‡ä»¶å¤¹åŠclientæ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬è¿™é‡Œç®€å•çš„å†™å†™ä¸€å¥—ç›¸åŒå†…å®¹çš„ä»£ç server&#x2F;index.js 123456789101112131415161718192021222324252627282930313233import express from &#x27;express&#x27;import React from &#x27;react&#x27;import &#123; renderToString &#125; from &#x27;react-dom/server&#x27;import &#123; StaticRouter &#125; from &#x27;react-router-dom&#x27;import Routes from &#x27;../routes&#x27;const app = express() // é€šè¿‡expressæ­å»ºä¸€ä¸ªæœåŠ¡å™¨app.use(express.static(&#x27;public&#x27;)) // åªè¦è¯·æ±‚é™æ€æ–‡ä»¶å°±åœ¨publicè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­æ‰¾app.get(&#x27;/&#x27;, function(req, res) &#123; const content = renderToString( // åœ¨serverä½¿ç”¨react-router-doméœ€è¦ç”¨StaticRouter &lt;StaticRouter location=&#123; req.path &#125; context=&#123;&#123;&#125;&#125; &gt; &#123; Routes &#125; &lt;/StaticRouter&gt;) // é€šè¿‡ &lt;script src=&#x27;/index.js&#x27; &gt;&lt;/script&gt; åœ¨è°ƒç”¨client res.send(` &lt;html&gt; &lt;head&gt; &lt;title&gt;ssr&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#x27;root&#x27; &gt;$&#123; content &#125;&lt;/div&gt; &lt;script src=&#x27;/index.js&#x27; &gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; `)&#125;)var server = app.listen(3000) client&#x2F;index.js 1234567891011121314import React from &#x27;react&#x27;import ReactDom from &#x27;react-dom&#x27;import &#123; BrowserRouter &#125; from &#x27;react-router-dom&#x27;import Routes from &#x27;../routes&#x27;const App = () =&gt; &#123; return ( &lt;BrowserRouter&gt; &#123; Routes &#125; &lt;/BrowserRouter&gt; )&#125;ReactDom.hydrate(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;)) clientç«¯å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„Reactä»£ç è¿™é‡Œå°±ä¸åœ¨åºŸè¯ severã€clientå…±ç”¨äº†ä¸€ä¸ªè·¯ç”±é…ç½®routes.js 1234567891011import React from &#x27;react&#x27;import &#123; Route &#125; from &#x27;react-router-dom&#x27;import Home from &#x27;./containers/Home&#x27; //ä¸€ä¸ªç®€å•çš„Componentexport default ( &lt;div&gt; &lt;Route path=&#x27;/&#x27; exact component=&#123; Home &#125; &gt;&lt;/Route&gt; &lt;/div&gt;) è¿™é‡Œç€é‡è¯´ä¸€ä¸‹webpacké…ç½®.è¿™é‡Œæ‹†æˆä¸ªä¸‰ä¸ªæ–‡ä»¶ã€‚webpack.base.js ã€webpack.client.jsã€webpack.server.js 1234567891011121314151617// webpack.base.js module.exports = &#123; module: &#123; rules: [&#123; test: /\\.js?$/, loader: &#x27;babel-loader&#x27;, exclude: /node_modules/, options: &#123; presets: [&#x27;react&#x27;, &#x27;stage-0&#x27;,[&#x27;env&#x27;, &#123; targets: &#123; browsers: [&#x27;last 2 versions&#x27;] &#125; &#125;]] &#125; &#125;] &#125;&#125; 123456789101112131415// webpack.client.jsconst path = require(&#x27;path&#x27;)const merge = require(&#x27;webpack-merge&#x27;)const config = require(&#x27;./webpack.base&#x27;)const clientConfig = &#123; mode: &#x27;development&#x27;, entry: &#x27;./src/client/index.js&#x27;, output: &#123; filename: &#x27;index.js&#x27;, path: path.resolve(__dirname, &#x27;public&#x27;) &#125;&#125;module.exports = merge(config, clientConfig) 123456789101112131415161718// webpack.server.jsconst path = require(&#x27;path&#x27;)const nodeExternals = require(&#x27;webpack-node-externals&#x27;) // æ’é™¤ node_modules ç›®å½•ä¸­æ‰€æœ‰æ¨¡å—const merge = require(&#x27;webpack-merge&#x27;)const config = require(&#x27;./webpack.base&#x27;)const serverConfig = &#123; target: &#x27;node&#x27;, mode: &#x27;development&#x27;, entry: &#x27;./src/server/index.js&#x27;, output: &#123; filename: &#x27;bundle.js&#x27;, path: path.resolve(__dirname, &#x27;build&#x27;) &#125;, externals: [nodeExternals()]&#125;module.exports = merge(config, serverConfig) è¿™æ ·ä¸€ä¸ªæœ€ç®€å•çš„SSR Demoå°±æå®šäº† SSRä¸Reduxã€React-RouterSSRåŒæ„é…åˆReduxä½¿ç”¨è¿˜è›®å¤æ‚çš„ï¼Œä¸­é—´æ¶‰åŠåˆ°æ•°æ®çš„æ³¨æ°´å’Œè„±æ°´ã€‚é¦–å…ˆæˆ‘ä»¬é¢ä¸´çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯serverç«¯æ€ä¹ˆæ ¹æ®è·¯ç”±ï¼Œå¾€storeé‡Œé¢åŠ æ•°æ®ã€‚è¿™é‡Œæˆ‘ä»¬é€šè¿‡æ•°ç»„å¯¹è±¡çš„æ–¹å¼è®¾ç½®Routeã€‚å®Œæ•´Projectï¼š https://github.com/laclys/rengar æ¯”å¦‚ï¼š 123456789101112131415161718192021222324export default [&#123; path: &#x27;/&#x27;, component: App, loadData: App.loadData, key: &#x27;app&#x27;, routes: [&#123; path: &#x27;/&#x27;, component: Home, exact: true, loadData: Home.loadData, key: &#x27;home&#x27; &#125;, &#123; path: &#x27;/translation&#x27;, component: Translation, exact: true, loadData: Translation.loadData, key: &#x27;translation&#x27; &#125;, &#123; component: NotFound, &#125; ]&#125;] è¿™ä¹ˆä¸€ä¸ªè·¯ç”±ã€‚ç”¨è¿‡loadDataè¿›è¡Œserverç«¯å¯¹åº”æ•°æ®çš„æ‹‰å–ï¼ˆserverç«¯æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼‰ã€‚æ¯”å¦‚åœ¨Homeè¿™ä¸ªç»„ä»¶é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªloadDataé™æ€æ–¹æ³• 1234Home.loadData = (store) =&gt; &#123; // è´Ÿè´£åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¹‹å‰ï¼ŒæŠŠè¿™ä¸ªè·¯ç”±éœ€è¦çš„æ•°æ®æå‰åŠ è½½å¥½ return store.dispatch(getHomeList())&#125; é¡ºä¾¿æä¸€ä¸‹å®¢æˆ·ç«¯æ‹‰å–æ•°æ®å½“ç„¶ 12345componentDidMount() &#123; if (!this.props.list.length) &#123; // è¿™å±‚åˆ¤æ–­ä¸ºäº†é¿å…serverç«¯å·²ç»æ‹‰å–æ•°æ®äº†ï¼Œæ²¡å¿…è¦é‡å¤æ‹‰å–ã€‚è‡³äºæ€ä¹ˆä»serveræ¸²æŸ“çš„é¡µé¢æ‹¿åˆ°æ•°æ®åé¢å†è¯´ this.props.getList() &#125;&#125; æœ‰äº†è¿™äº›å‡†å¤‡å°±å¯ä»¥åœ¨serverç«¯ç”Ÿæˆé¦–å±çš„htmlã€‚è¿™é‡Œimport &#123; matchRoutes &#125; from &#39;react-router-config&#39;ä½¿ç”¨matchRoutesæ¥éå†routes 123456789101112131415161718192021222324252627app.get(&#x27;*&#x27;, function (req, res) &#123; const store = getStore(req) // æ ¹æ®è·¯ç”±çš„è·¯å¾„ï¼Œå¾€storeé‡Œé¢åŠ æ•°æ® const matchedRoutes = matchRoutes(routes, req.path) const promises = [] matchedRoutes.forEach(item =&gt; &#123; // åŒ¹é…å«æœ‰loadDataçš„è·¯ç”±ï¼Œæ‰§è¡Œå¹¶èµ‹å€¼åˆ°storeä¸­ if (item.route.loadData) &#123; const promise = new Promise((resolve, reject) =&gt; &#123; item.route.loadData(store).then(resolve).catch(resolve) &#125;) promises.push(promise) // ä¸ç®¡æ•°æ®åŠ è½½æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼ŒæŠŠèƒ½å‡†å¤‡çš„æ•°æ®éƒ½å‡†å¤‡å¥½ã€‚æ›´å¥½çš„å®¹é”™ä¸å¿…æ‹…å¿ƒé‚£ä¸ªæ¥å£è¯·æ±‚å¤±è´¥ã€‚éƒ½ä¼šæ‰§è¡Œpromise.all &#125; &#125;) Promise.all(promises).then(() =&gt; &#123; const context = &#123;&#125; const html = render(store, routes, req, context) // ç”Ÿæˆhtmlã€‚ if (context.action === &#x27;REPLACE&#x27;) &#123; res.redirect(301, context.url) &#125; else if (context.NOT_FOUND) &#123; // å¤„ç†404é¡µé¢ res.status(404) res.send(html) &#125; else &#123; res.send(html) &#125; &#125;)&#125;) æ¸²æŸ“htmlçš„renderå‡½æ•° 1234567891011121314151617181920212223242526272829export const render = (store, routes, req, context) =&gt; &#123; const content = renderToString( &lt;Provider store=&#123; store &#125; &gt; &lt;StaticRouter location=&#123; req.path &#125; context=&#123; context &#125; &gt; &lt;div&gt; &#123; renderRoutes(routes) &#125; &lt;/div&gt; &lt;/StaticRouter&gt; &lt;/Provider&gt;) return ` &lt;html&gt; &lt;head&gt; &lt;title&gt;ssr&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#x27;root&#x27; &gt;$&#123; content &#125;&lt;/div&gt; &lt;script&gt; window.context = &#123; state: $&#123; JSON.stringify(store.getState()) &#125; &#125; &lt;/script&gt; &lt;script src=&#x27;/index.js&#x27; &gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; `&#125; å…¶ä¸­ 12345&lt;script&gt; window.context = &#123; state: $&#123; JSON.stringify(store.getState()) &#125; &#125;&lt;/script&gt; é€šè¿‡è¿™ç§æ–¹å¼å°†serverç«¯å·²ç»è·å–çš„storeæ•°æ®è¿›è¡Œæ³¨å…¥ã€‚åˆ°æ—¶å®¢æˆ·ç«¯jsæ¥ç®¡ä¹‹åç›´æ¥ä»contextä¸­æ‹¿ client&#x2F;index: 123456789101112131415const store = getClientStore() const App = () =&gt; &#123; return ( &lt;Provider store=&#123; store &#125; &gt; &lt;BrowserRouter&gt; &lt;div&gt; &#123; renderRoutes(routes) &#125; &lt;/div&gt; &lt;/BrowserRouter&gt; &lt;/Provider&gt; )&#125;ReactDom.hydrate(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;)) getClientStore 1234export const getClientStore = () =&gt; &#123; const defaultState = window.context.state // å®¢æˆ·ç«¯getstoreæ—¶ï¼Œæ‹¿serverå·²ç»è·å–è¿‡å¾—æ•°æ®ã€‚è¿™å—å«åšè„±æ°´ return createStore(reducer, defaultState, applyMiddleware(thunk.withExtraArgument(clientAxios)))&#125; thunk.withExtraArgumentæ˜¯redux-thunkä¸­ä¸€ä¸ªå¯ä»¥ä¼ å…¥ä¸€ä¸ªå€¼ã€‚åœ¨ä½¿ç”¨redux-thunkæ—¶å€™è°ƒç”¨ é¡ºé“æä¸€ä¸‹æœåŠ¡å™¨ç«¯è·å–è¯·æ±‚cookieè¿™å—ã€‚å¯ä»¥é€šè¿‡axiosçš„createæ–¹æ³•æ‹¿åˆ° 123456789const createInstance = (req) =&gt; axios.create(&#123; baseURL: &#x27;http://47.95.113.63/ssr/&#x27;, headers: &#123; cookie: req.get(&#x27;cookie&#x27;) || &#x27;&#x27; &#125;&#125;)export default createInstance ä»¥ä¸Šï¼æ£é¼“ä¹‹åSSRç¡®å®æ˜¯ä¸€ä¸ªæœ‰æ„æ€çš„ä¸œè¥¿ã€‚å¾ˆå¤šä¸œè¥¿ä¸èƒ½è¯´æ˜¯å‘ï¼Œåªèƒ½è¯´æ˜¯è‡ªå·±è¿˜æ²¡äº†è§£åˆ°ã€‚åç»­è¿˜ä¼šå†çœ‹çœ‹CSSæ ·å¼åœ¨serverç«¯ä¸­çš„å¤„ç†å’Œæ›´å¥½çš„SEOå¤„ç†ã€‚","tags":[{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"SSR","slug":"SSR","permalink":"http://yoursite.com/tags/SSR/"}]},{"title":"å°ç¨‹åºNote2","date":"2018-09-27T15:16:00.469Z","path":"2018/09/27/å°ç¨‹åºNote2/","text":"æœ€è¿‘ä¸€ä¸ªæœˆï¼Œä¸»è¦çš„ç²¾åŠ›è¿˜æ˜¯åœ¨å°ç¨‹åºè¿™è¾¹ï¼Œå…¬å¸çš„é¡¹ç›®æ˜¯ï¼Œè‡ªå·±é—²æš‡ä¹‹ä½™å†™çš„å°é¡¹ç›®ä¹Ÿæ˜¯ã€‚å…¬å¸é¡¹ç›®å°±ä¸è¯´äº†ï¼Œè‡ªå·±çš„å°é¡¹ç›®æ¶™æ›‡å‰åç”¨äº†ä¸€ä¸ªæœˆï¼Œ101commitså®Œæˆäº†1.0.0ç‰ˆã€‚ä»æœ‰æƒ³æ³•åˆ°è‡ªå·±è®¾è®¡å†åˆ°å¼€å‘å®Œå®Œå…¨å…¨èµ°å®Œè¿™ä¸€å¥—æµç¨‹ï¼Œè¿˜æ˜¯å¾ˆæ»¡è¶³çš„ã€‚ è¿™é‡Œè¿˜æ˜¯èŠèŠæœ€è¿‘ç¼–å†™å°ç¨‹åºä¸€äº›é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ ï¼ˆä¸­ç§‹åœ¨ä¸‰é‡Œå±¯äººè¡Œå¤©æ¡¥æ‹åˆ°çš„æ—¥è½ï¼Œå¾ˆç¾ï¼‰ ç®€å•è¯´è¯´ç™»å½•å°ç¨‹åºç™»å½•ï¼Œè¿™é‡ŒæŠ›å¼€åç«¯ï¼ˆå…¶å®é•‡ç­‰å¤æ‚çš„è¿˜æ˜¯è·å–ç”¨æˆ·ç™»å½•ä¿¡æ¯å¹¶æ¶‰åŠä¸Šä¼ ç”¨æˆ·åˆ°æœåŠ¡å™¨è¿™ä¸ªè¿‡ç¨‹çš„åç«¯æ“ä½œï¼‰è¯´è¯´å‰ç«¯ç™»å½•ã€‚ é¦–å…ˆè¯´è¯´1.9ç‰ˆæœ¬æ–°åŠ çš„æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•ï¼ˆä¸éœ€è¦æˆæƒï¼Œé™é»˜è·å–ï¼‰å¦‚æœåªæ˜¯æƒ³åœ¨UIæ˜¾ç¤ºç”¨æˆ·çš„ä¿¡æ¯æ¯”å¦‚æ˜µç§°ï¼Œæ¥è‡ªé‚£é‡ŒÂ·Â·Â·ï¼Œå°±å¯ä»¥ç”¨&lt;open-data&gt;è¿™ä¸ªç»„ä»¶ã€‚ä½¿ç”¨èµ·æ¥è¶…çº§ç®€å•ï¼Œå¼Šç«¯å°±æ˜¯æ²¡æœ‰æˆæƒï¼Œå¹¶æ²¡æœ‰çœŸæ­£æ‹¿åˆ°æ•°æ®ã€‚å¦‚æœè¦ä¸Šä¼ ç”¨æˆ·ä¿¡æ¯åˆ°æœåŠ¡å™¨ï¼Œå°±å¿…é¡»getUserInfoåœ¨jsä¸­æ‹¿åˆ°æ•°æ®ã€‚ ä¸‹é¢å†è¯´è¯´æˆæƒç™»å½•ã€‚ æ—©æœŸè·å–ç”¨æˆ·ç™»å½•ä¿¡æ¯æ˜¯é€šè¿‡wx.getUserInfoè¿™ä¸ªæ¥å£è·å–çš„ï¼Œä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ã€‚ä½†å¾®ä¿¡å¤§æ¦‚æ˜¯è§‰å¾—APIçš„æ–¹å¼å¤ªè¿‡çµæ´»ï¼Œå¾®ä¿¡å›¢é˜Ÿä¸å¸Œæœ›å¼€å‘è€…æ»¥ç”¨è¿™äº›æ–¹æ³•ï¼Œæ‰€ä»¥ç™»å½•æˆæƒçš„æ“ä½œæ”¾åœ¨äº†buttonè¿™ä¸ªç»„ä»¶ä¸Šã€‚è®©ç”¨æˆ·ä½¿ç”¨ç»„ä»¶ä¸»åŠ¨ç‚¹å‡» &lt;button open-type=&quot;getUserInfo&quot; bindgetUserInfo=&quot;handleUserInfo&quot;&gt;æˆæƒ&lt;/button&gt; è¿™æ ·ã€‚æˆæƒå¼¹çª—è°ˆè¿‡ä¸€æ¬¡ï¼Œå°±ä¸å†å‡ºç°ï¼Œå¯ä»¥åœ¨getUserInfoå‡½æ•°ä¸­æ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯ã€‚ç„¶è€Œä¸Šé¢è¿™ç§æ–¹æ³•æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œæ¯æ¬¡éƒ½éœ€è¦ç”¨æˆ·ç‚¹å‡»ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´çµæ´»çš„éšæ—¶å¯ä»¥æ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯çš„æ–¹å¼ã€‚è¿™é‡Œåˆè¦ä½¿ç”¨å…ˆå‰è¯´çš„wx.getUserInfoæ¥å£äº†ã€‚è¿™ä¸ªæ¥å£å¹¶æ²¡æœ‰åºŸå¼ƒéœ€è¦å’Œbuttonç»„ä»¶é…åˆä½¿ç”¨ã€‚åªæœ‰ç”¨æˆ·æˆæƒé€šè¿‡ï¼Œwx.getUserInfoæ‰å¯ä»¥è·å–ç”¨æˆ·ä¿¡æ¯ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨wx.settingæ¥åˆ¤æ–­ç”¨è¿‡æ˜¯å¦å·²ç»æˆæƒç™»å½•.è¿™é‡Œç®€å•å†™äº†ä¸€ä¸ªuserAuthorizedå‡½æ•°ï¼Œæ”¾åœ¨ç”Ÿå‘½å‘¨æœŸonloadä¸­å°±å¯ä»¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æˆæƒï¼Œå¹¶æ‹¿åˆ°å€¼å’¯ã€‚ 12345678910111213141516171819userAuthorized: function() &#123; wx.getSetting(&#123; success: data =&gt; &#123; if (data.authSetting[&#x27;scope.userInfo&#x27;]) &#123; // ç”¨æˆ·æˆæƒäº† wx.getUserInfo(&#123; success: data =&gt; &#123; console.log(data) this.setData(&#123; authorized: true, userInfo: data.userInfo &#125;) &#125; &#125;) &#125; &#125; &#125;)&#125; è¿™é‡Œè¿˜è¦è¯´çš„å°±æ˜¯ç”±äºç™»å½•ã€åˆ†äº«è¿™ç±»æ“ä½œå¾®ä¿¡å¼ºåˆ¶ç”¨buttonç»„ä»¶\bç‚¹å‡»æ‰§è¡Œã€‚ä¸ºäº†æ ·å¼çš„è‡ªç”±ï¼Œå¯ä»¥ç®€å•å†™ä¸€ä¸ªimage-buttonç»„ä»¶ã€‚ wxml: 123&lt;button bind:getuserinfo=&quot;onGetUserInfo&quot; open-type=&quot;&#123;&#123; openType &#125;&#125;&quot; plain class=&quot;container&quot; &gt; &lt;slot name=&quot;img&quot; &gt;&lt;/slot&gt;&lt;/button&gt; wxss: 12345/* å»è¦†ç›–btnçš„é»˜è®¤æ ·å¼ */.container &#123; padding: 0 !important; border: none !important;&#125; js: 1234567891011121314151617Component(&#123; options: &#123; multipleSlots: true &#125;, properties: &#123; openType: String &#125;, methods: &#123; onGetUserInfo: function(ev) &#123; this.triggerEvent(&#x27;getuserinfo&#x27;, ev.detail) &#125; &#125;&#125;) wx.navigateBackï¼ˆï¼‰è¿”å›ä¸Šä¸€é¡µé¢å¦‚ä½•ä¼ å‚æ•°ä¸€å¼€å§‹è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‡‡ç”¨çš„æ˜¯å¾€localStorageä¸­å­˜å€¼ã€å–å€¼çš„æ–¹å¼ã€‚ç»´æŠ¤localStorageæ˜¯ä¸ªè›®éº»çƒ¦çš„ä¸€ä»¶äº‹ã€‚ä¹‹åå‘ç°äº†getCurrentPages()å‡½æ•°è·å–é¡µé¢æ ˆçš„å®ä¾‹ä»è€Œè·å–ä¸Šä¸€ä¸ªé¡µé¢æ•°æ®çš„æ–¹å¼ã€‚ä»£ç å¦‚ä¸‹éå¸¸å¥½ç”¨ 123456789101112131415let pages = getCurrentPages(); // è·å–é¡µé¢å †æ ˆlet currPage = pages[pages.length - 1]; //å½“å‰é¡µé¢let prevPage = pages[pages.length - 2]; //ä¸Šä¸€ä¸ªé¡µé¢ //å¯ä»¥ç›´æ¥è°ƒç”¨ä¸Šä¸€ä¸ªé¡µé¢å¯¹è±¡çš„setData()æ–¹æ³•ï¼ŒæŠŠæ•°æ®å­˜åˆ°ä¸Šä¸€ä¸ªé¡µé¢ä¸­å»let prevData = prevPage.__data__ // å¯ä»¥é€šè¿‡è¿™ç§hackçš„æ–¹å¼è·å–åˆ°ä¸Šä¸€ä¸ªé¡µé¢çš„dataprevPage.setData(&#123; dataï¼šdata&#125;)wx.navigateBack(&#123; delta: 1 &#125;) scroll-viewéšè—æ»šåŠ¨æ¡æ–¹æ³•è¿™ä¸ªæ˜¯å‰ä¸¤å¤©æ‰çœ‹åˆ°çš„ 12345::-webkit-scrollbar&#123;width: 0;height: 0;color: transparent;&#125; ä¾§æ»‘åˆ é™¤åœ¨Appä¸Šè›®æ™®éçš„ä¸€ä¸ªæ“ä½œï¼Œå°ç¨‹åºè¿™è¾¹æœ¬æ¥æ‰“ç®—ç”¨åŒç»„å¦ä¸€ä¸ªé¡¹ç›®çš„ä»£ç ï¼Œç²˜è´´å¤åˆ¶è½»æ¾æå®šã€‚ä¸è¿‡ä»–ä»¬è¿™ä¸ªç»„ä»¶è¦ä¼ å®šé«˜ä¸è¯´è¿˜æœ‰ä¸å°‘å¤šä½™çš„åŠŸèƒ½ï¼Œç´¢æ€§è‡ªå·±å†™ä¸€ä¸ªï¼Œè¿™é‡Œå°±ä¸èµ˜è¨€äº†ã€‚åç»­å¯èƒ½ä¼šç»´æŠ¤ä¸€ä¸‹ wx-side-slip-comp åè®°åŒ—äº¬çš„ä¹æœˆå¾ˆèˆ’æœç§‹é«˜æ°”çˆ½ï¼Œç§‹å¤©çœŸæ˜¯ä¸€ä¸ªå¥½å­£èŠ‚ã€‚æŠ½äº†ä¸¤ä¸ªå‘¨æœ«åˆ†åˆ«å»äº†é’å²›å’Œå—äº¬è§äº†ä¸€æ³¢è€åŒå­¦ã€‚è½¬çœ¼æ¯•ä¸šå››å¹´ï¼Œå¤§å®¶è¿˜æ˜¯è€æ ·å­åŒæ—¶ä¹Ÿæˆ–å¤šæˆ–å°‘å˜äº†ä¸€äº›ã€‚è¿˜æœ‰æ¼«é•¿çš„ä¸¤å¤©ï¼Œåä¸€å°±æ¥å’¯~","tags":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://yoursite.com/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]},{"title":"å°ç¨‹åºå¼€å‘é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œåæ§½","date":"2018-08-18T17:15:02.425Z","path":"2018/08/19/å°ç¨‹åºå¼€å‘é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œåæ§½/","text":"å°ç¨‹åºåœ¨å¾®ä¿¡è¿™ä¸ªè¶…çº§å¹³å°çš„å¸¦åŠ¨ä¸‹ï¼Œè¿™ä¸¤å¹´ç€å®æ˜¯è¶Šæ¥è¶Šç«ã€‚åˆšå‡ºæ¥é‚£ä¸€é˜µï¼Œç¿»äº†ç¿»æ–‡æ¡£ç®€å•çš„çœ‹äº†çœ‹ï¼Œæ²¡æœ‰ç»„ä»¶ã€æ²¡æœ‰wsx(è™½ç„¶ç°åœ¨ä¹Ÿå¾ˆéš¾ç”¨ï¼Œæœ‰æ€»æ¯”æ²¡æœ‰å¼º)è¿˜æœ‰æ— ç©·æ— å°½çš„å‘ã€‚ä¸€ç›´æ²¡æœ‰æ·±å…¥å»å­¦ä¹ å»äº†è§£ã€‚æœŸé—´ç¾å›¢å¼€æºäº†ä¸€ä¸ªmpvueï¼Œä¸€ä¸ªåŸºäºVueçš„å°ç¨‹åºå¼€å‘æ¡†æ¶ã€‚ä¸Šæ‰‹æ²¡ä»€ä¹ˆæˆæœ¬ï¼Œè‡ªå·±å†™äº†ä¸€ä¸ªæå…¶ç®€å•ç®€é™‹æŸ¥è¯¢å¿«é€’çš„å°ç¨‹åºâ€“å¿«é€’å»å“ªå„¿å’¯ã€‚æœ€è¿‘å·¥ä½œä¸Šæ¥äº†å°ç¨‹åºçš„éœ€æ±‚ï¼Œç»„å†…äº¤æµä¹‹åæ‰“ç®—ç”¨å°ç¨‹åºåŸç”Ÿçš„é‚£ä¸€å¥—æã€‚ç°å­¦ç°æall inäº†ä¸¤å‘¨å°ç¨‹åºã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹é‡åˆ°çš„ä¸€äº›å°é—®é¢˜æˆ–è€…å‘å§ã€‚ åæ§½é‚£æˆ‘ä»¬å°±ä»åæ§½å¼€å§‹ ï¼ˆå¾ˆå–œæ¬¢çš„ä¸€éƒ¨ç”µå½±ï¼‰ ç¹çè¿‡æ—¶çš„APIåœ¨ç½‘é¡µç«¯å¼€å‘webï¼Œè¯´é“å¤„ç†è¯·æ±‚ç›¸æ¯”axiosã€fetchå·²ç»æˆäº†ä¸»æµï¼Œé“¾å¼è°ƒç”¨tryÂ·Â·Â·catchå¤„ç†é”™è¯¯ã€‚ä½†æ˜¯å°ç¨‹åºå´ç”¨ç€è¿‡æ—¶çš„ES3é£æ ¼çš„API(wx.request)ã€‚è¿™æ ·åœ¨ä½¿ç”¨èµ·æ¥å¾ˆä¸ä¼˜é›…ï¼Œåœ¨ä½¿ç”¨äº†è°ƒç”¨çš„æ—¶å€™å¾ˆå®¹æ˜“é€ æˆå›è°ƒåœ°ç‹±ã€‚æƒ³è¦ä½¿ç”¨promiseè¿™ç§é“¾å¼è°ƒç”¨çš„å®è¡Œã€‚æˆ‘ä»¬ä¸å¾—ä¸å»å°è£…ä¸€ä¸ªHTTPç±»ã€‚ä¸‹é¢æ˜¯è‡ªå·±å°è£…çš„ä¸€ä¸ªHTTPç±» 123456789101112131415161718192021222324252627282930313233export class HTTP &#123; request(&#123; url, data=&#123;&#125;, method=&quot;GET&quot; &#125;) &#123; return new Promise((resolve, reject) =&gt; &#123; this._request(url, resolve, reject, data, method) &#125;) &#125; _request(url, resolve, reject, data=&#123;&#125;, method=&quot;GET&quot;) &#123; wx.request(&#123; url: config.api_base_url + url, method, data, header: &#123; &#x27;content-type&#x27;: &#x27;application/json&#x27; &#125;, success: (res) =&gt; &#123; const code = res.statusCode.toString() // åˆ¤æ–­çŠ¶æ€ç  if (code.startsWith(&#x27;2&#x27;)) &#123; resolve(res.data) &#125; else &#123; reject() &#125; &#125;, fail: (err) =&gt; &#123; reject() &#125; &#125;) &#125;&#125; é¢å‘JSONç¼–ç¨‹æ¥ç€APIè®¾è®¡çš„è¿‡æ—¶ï¼Œä¸å¾—ä¸åæ§½è¿™ç§é¢å‘JSONç¼–ç¨‹çš„æ–¹å¼ã€‚å¼€å‘ä¸€ä¸ªå°ç¨‹åºéœ€è¦app.jsonå»é…ç½®å…¨å±€çš„åº”ç”¨é…ç½®ã€è·¯ç”±é…ç½®è¿˜æœ‰å…¨å±€UIé…ç½®ã€‚æ¯ä¸ªé¡µé¢ï¼Œæ¯ä¸ªç»„ä»¶ä¹Ÿæœ‰ç›¸åº”jsonæ–‡ä»¶å»é…ç½®ã€‚ wxsçœŸçš„å¾ˆéš¾ç”¨ä½œä¸ºé¡µé¢çš„è„šæœ¬è¯­è¨€ï¼Œå¾®ä¿¡è¿™è¾¹è‡ªå·±ç°æˆçš„JSä¸ç”¨ï¼Œè‡ªå·±æäº†ä¸€å¥—åµŒå…¥å¼è„šæœ¬è¯­è¨€ï¼Œé‡Œé¢åªèƒ½å†™ES3çš„è¯­æ³•ä¸è¯´ï¼ˆè¿˜ä¸æ˜¯å®Œæ•´ç‰ˆçš„ES3è¯­æ³•ï¼‰æ²¡æœ‰ Array, Object å¯¹è±¡ï¼›æˆ–é‡åˆ°å¼•å…¥ lodash ä¼šæŠ¥é”™ TypeError: Cannot read property â€˜prototypeâ€™ of undefined jsé¡µé¢ä¸­æ— æ³•ä½¿ç”¨ç»å¯¹è·¯å¾„ wxss é‡Œçš„æ³¨é‡Šåªèƒ½ç”¨ &#x2F;â€¦&#x2F; å†™æ³•ï¼Œä¸èƒ½ç”¨ &#x2F;&#x2F;â€¦ componentç»„ä»¶ä¸­ä¸æ”¯æŒonShowè¿™ä¸ªç”Ÿå‘½å‘¨æœŸ é‡åˆ°çš„ä¸€äº›é—®é¢˜ åœ¨å¼€å‘æ¨ªå‘æ»‘åŠ¨å›¾ç‰‡çš„ç»„ä»¶çš„æ—¶å€™ï¼Œè‡ªç„¶è€Œç„¶æƒ³åˆ°åœ¨sroll-viewç»„ä»¶ä¸Šæ·»åŠ scroll-xå±æ€§ï¼Œä½†æ˜¯ä¾ç„¶åˆ’ä¸åŠ¨ã€‚ è§£å†³ï¼šçˆ¶çº§åœ¨è®¾ç½®å®½é«˜çš„åŒæ—¶å¿…é¡»è®¾white-space: nowrap; å­çº§è¦ç”¨display: inline-block;ç”¨æµ®åŠ¨éƒ½ä¸è¡Œ é¡µé¢é…ç½®èƒŒæ™¯è‰²å¯ä½¿ç”¨ backgroundColor,æ¨¡æ‹Ÿå™¨é‡Œå¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚æœ€åå‘ç°backgroundColor æ˜¯æŒ‡çª—ä½“èƒŒæ™¯é¢œè‰²ï¼Œè€Œä¸æ˜¯é¡µé¢èƒŒæ™¯è‰²ã€‚ textareaç»„ä»¶æ˜¯åŸç”Ÿç»„ä»¶ï¼Œplaceholder-style ç›®å‰åªæ”¯æŒè®¾ç½® fontSizeã€fontWeightã€color å±æ€§ mapã€textarea ä¸ºåŸç”Ÿç»„ä»¶ï¼Œé¡µé¢å±‚çº§æœ€é«˜ï¼Œå°±ç®—è®¾ç½®äº†z-indexä¹Ÿæ— æ³•è¢«è¦†ç›–ã€‚ï¼ˆè¿™ä¸ªæ˜¯çœŸçš„å‘ï¼‰ textç»„ä»¶ï¼Œçœ‹åå­—æˆ‘ä»¬è‡ªç„¶è€Œç„¶æƒ³åˆ°è¿™ä¸ªæ˜¯ä¸æ˜¯å’Œç½‘é¡µä¸­çš„spanæ ‡ç­¾ä¸€æ ·ã€‚ä½†æ˜¯ä¸¤ä¸ªtextæ ‡ç­¾æ”¾åœ¨ä¸€èµ·ä¼šå‡ºç°é«˜åº¦ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œä»¥åŠç±»ä¼¼ç½‘é¡µä¸­çš„preæ ‡ç­¾ï¼Œä¼šä¿ç•™æ–‡æœ¬ä¸­çš„ç©ºæ ¼å’Œæ¢è¡Œç¬¦å·ï¼ˆå¼€å‘çš„æ—¶å€™å‘ç°æ€ä¹ˆæ¢è¡Œäº†ï¼Œä¸€ä¸ªåŠ²çš„è°ƒæ ·å¼ï¼Œç»“æœå‘ç°&#x3D;ã€‚&#x3D;çœŸçš„æ˜¯æ— è¯­ï¼‰ è§£å†³: ç´¢æ€§å…¨æ¢æˆviewç»„ä»¶äº† å‘æ¶ˆæ¯æ¨¡ç‰ˆæ—¶éœ€è¦è·å¾—æäº¤è¡¨å•æ—¶çš„ formIdï¼Œé€šè¿‡ form åŠé”®ç›˜å³ä¸‹è§’å®Œæˆæäº¤äº‹ä»¶å¯¹è±¡ e.detail è·å–ä¸åˆ° formIdï¼Œåªèƒ½é€šè¿‡ form button æ¥è·å–ã€‚ componentåœ¨å¤„ç†æ•°æ®å˜åŒ–çš„æ—¶å€™ å¯ä»¥ä½¿ç”¨propertiesä¸­è®¾ç½®çš„observeæˆ–è€…é¡µé¢ä¸­å†™wxs,wxså…¶å®ç›¸å½“äºvueé‡Œé¢çš„è¿‡æ»¤å™¨ã€‚è¿™ä¸¤ä¸ªå¯ä»¥ç»“åˆæƒ…å†µä½¿ç”¨ wx:if å’Œhiddenç»“åˆå®é™…æƒ…å†µé€‚ç”¨ã€‚hiddenä¸èƒ½ç›´æ¥èµ‹å€¼åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šï¼Œéœ€è¦æ”¾åœ¨ç»„ä»¶é‡Œçš„æœ€å¤–å±‚çš„viewä¸Šã€‚ç”¨è¿‡ä¼ å‚çš„å½¢å¼ä½¿ç”¨ ä»¥ä¸Š å°ç¨‹åºçš„å¼€å‘æ€ä¹ˆè¯´çœŸçš„æ˜¯åˆçˆ±åˆæ¨ï¼Œå¾ˆæ˜¯å¾®å¦™ã€‚è¿™ä¸¤å‘¨çš„å¼€å‘å­¦ä¹ æ„Ÿè§‰åˆå›åˆ°äº†å½“æ—¶ç ”ç©¶RNçš„æ—¶å€™ï¼Œå½“æ•ˆæœã€æˆæœåšå‡ºæ¥çš„æ—¶å€™å¾ˆæœ‰æˆå°±æ„Ÿã€‚åŒæ—¶å°ç¨‹åºä¹Ÿè›®é€‚åˆè‡ªå·±çæçš„ï¼Œæœ€è¿‘åœ¨æçš„ä¸€ä¸ªrepoTeemo,é™¤æ­¤ä¹‹å¤–è¿™ä¸¤å¤©å°ç¨‹åºå®˜æ–¹æœ‰å…¬æµ‹äº†serverlessï¼Œæ„Ÿè§‰å‘æŒ¥çš„ç©ºé—´æ›´å¤§äº†ã€‚æœ€è¿‘è‡ªå·±è¿˜çœŸæœ‰ä¸ªå¥½ç‚¹å­ï¼Œç­‰æå®Œè¿™ä¸ªå°è¯•ä¸€æ³¢ï¼ˆè‡ªå¨±è‡ªä¹ï¼‰","tags":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://yoursite.com/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]},{"title":"2018.7","date":"2018-07-29T14:29:34.323Z","path":"2018/07/29/7æœˆ/","text":"ä¸Šç¯‡åšæ–‡è‡³ä»Šï¼Œåˆé—´éš”äº†ä¸€ä¸ªå¤šæœˆã€‚å…¶å®è¿™ä¸€ä¸ªæœˆè‡ªæˆ‘æ„Ÿè§‰æˆé•¿äº†ä¸å°‘ï¼Œå­¦åˆ°ä¹Ÿç”¨åˆ°äº†ä¸å°‘ä¸œè¥¿ã€‚ä¸€ç›´æ‡’äºåŠ¨ç¬”æ‹–åˆ°äº†ä¸ƒæœˆçš„å°¾å·´ã€‚ å·¥ä½œä¸Šå·¥ä½œä¸Šæ­£å¼å¼€æäº†ä¸€ä¸ªæ–°é¡¹ç›®ã€‚å‰ç«¯è¿™è¾¹Reactå…¨å®¶æ¡¶ã€‚Reactå…¨å®¶æ¡¶æ— éå°±é‚£ç‚¹ä¸œè¥¿ï¼Œä½†è¿™å›ç¡®å®æ”¶è·äº†ä¸å°‘ã€‚æœ€å¤§çš„æ”¶è·è¿˜æ˜¯å·¥ç¨‹åŒ–å’Œæ‹†åˆ†è¿™ä¸€å—ã€‚ä¹‹å‰è‡ªå·±å†™å‰ç«¯é¡¹ç›®äº¦æˆ–æ˜¯åœ¨æ— äºŒå†™RNå›å¤´æ¥çœ‹ç¦»å·¥ç¨‹åŒ–å·®çš„å¥½è¿œï¼Œè¿™æ¬¡çš„å·¥ä½œæ‰çœŸçœŸåˆ‡åˆ‡æ„Ÿå—åˆ°äº†ä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹ã€‚ åœ¨è¿™æ¬¡å·¥ä½œä¸­ï¼Œåœ¨ç­‰å¾…åç«¯æä¾›æ¥å£çš„æ—¶é—´ï¼Œé¦–å…ˆåšäº†ä¸€ä¸ªçº¯JSçš„ç»„ä»¶åº“ï¼Œç»„ä»¶åº“åˆ†é€šç”¨ç»„ä»¶å’Œé€»è¾‘ç»„ä»¶ä¸¤ç§ã€‚ä¸€å¼€å§‹è‡ªå·±ä¸å¤ªç†è§£å·²ç»æœ‰Antdè¿™æ ·UIç»„ä»¶åº“ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è‡ªå·±æä¸€å¥—ã€‚å’Œè€å¤§è¯·æ•™ä¹‹åç»™å‡ºçš„è§£é‡Šæ˜¯è¿™æ ·çš„æˆ‘ä»¬æ‰€åšçš„åå°ä¹‹åè¿˜ä¼šé¢å‘Cç«¯ï¼Œä¸å…¶ç”¨ä¸€ä¸ªå¤§è€Œå…¨çš„å¼€æºé¡¹ç›®ä¿®æ”¹ï¼Œä¸å¦‚ä¸€ç‚¹ç‚¹å®Œå–„ä¸€ä¸ªå°é¡¹ç›®ï¼Œå¯ä»¥é¿å…å¾ˆå¤šå†—ä½™çš„ä»£ç åŒæ—¶é¡¹ç›®ä¸ä»…ä»…åªæ˜¯çº¯UIç»„ä»¶è¿˜ä¼šæœ‰å¾ˆå¤šä¸šåŠ¡å¼ºç›¸å…³çš„ç»„ä»¶ï¼Œå…ˆå®Œå–„æå¥½ç»„ä»¶ä¹‹åæ­£å¼å¼€å‘é¡¹ç›®åœ¨é¡µé¢ä¸Šç”©ç»„ä»¶å°±æ˜¯å’¯ã€‚ åœ¨ç»„ä»¶åº“å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æ–¹ä¾¿å¼€å‘ï¼Œä½¿ç”¨äº†Storybookè¿™ä¸ªç¥å™¨ã€‚Storybookå¯ä»¥è¯´æ˜¯ä¸€ä¸ªUIç»„ä»¶çš„å¼€å‘ç¯å¢ƒ,å¾ˆæ–¹ä¾¿çš„å»äº¤äº’æµ‹è¯•ç»„ä»¶ï¼Œä»¥åŠç”Ÿæˆç»„ä»¶æ–‡æ¡£ã€‚å…¶å®å®˜æ–¹æ–‡æ¡£ä¹Ÿç›¸å½“æ¸…æ¥šã€‚æ­£å¦‚å®ƒé¡µé¢å±•ç¤ºçš„åŠ¨å›¾ä¸€æ ·ï¼Œäº¤äº’ä½“éªŒå»å¼€å‘ç»„ä»¶ï¼Œè°ƒè¯•æµ‹è¯•éƒ½å¾ˆæ–¹é¢ã€‚è¿™é‡Œæš‚æ—¶ä¸å±•å¼€è¯´äº†äº†ï¼Œåç»­ä¸“é—¨å†™ä¸€ç¯‡ä»‹ç»ä¸€ä¸‹ã€‚æ ·å¼ç»„ä»¶ä¹‹å¤–å°±æ˜¯å’Œä¸šåŠ¡å¼ºå…³è”çš„ä¸šåŠ¡ç»„ä»¶ã€‚è‡ªå·±åœ¨è¿™ä¸€å—çš„å¼€å‘åšçš„ä¸æ˜¯å¾ˆå¥½ï¼Œæ²¡æœ‰æƒ³æ¸…ä¸šåŠ¡ä¾¿ç€æ‰‹å¼€å‘åœ¨ä¹‹åé¡¹ç›®ä½¿ç”¨ä¸­ï¼Œå‘ç°è¿™é‡Œæœ‰ä¸è¶³é‚£é‡Œæœ‰ä¸è¶³è¿”å·¥æ·»åŠ å±æ€§é€»è¾‘ååå¤å¤å¥½å‡ æ¬¡ã€‚ä»¥åè¿˜æ˜¯è¦å…ˆæƒ³å¥½ç†æ¸…æ¥šä¹‹åå†codingã€‚ ç»„ä»¶åº“åšå¾—å·®ä¸å¤šäº†ã€åç«¯APIä¹Ÿå¼€å‘å®Œæ¯•äº†ç»ˆäºåˆ°äº†é¡¹ç›®å¼€å‘ï¼Œæ€»ä½“æ¥è¯´æœ‰äº†ç»„ä»¶åº“çš„å¼€å‘é“ºå«ï¼Œæ­£å¼å¼€å‘èµ·æ¥éå¸¸æ•ˆç‡ã€‚åœ¨è±†ç“£å·¥ä½œæœ€ç›´è§‚çš„æ„Ÿå—å°±æ˜¯å·¥ä½œä¸Šçš„ä»»åŠ¡ã€æ–‡æ¡£æ¸…æ™°æ˜äº†ï¼Œæ‰€æœ‰ç ”å‘éƒ½å¿ƒç…§ä¸å®£åœ°ç»´æŠ¤è¿™ä¸ªä¼ ç»Ÿå’Œæ–‡åŒ–ï¼Œè¿™ç‚¹çœŸçš„å¾ˆéš¾å¾—ã€‚æissueè®¨è®ºç¡®å®šéœ€æ±‚ï¼Œprojectsä»»åŠ¡æ’æœŸã€‚å¼€å‘ä¹‹åæPRï¼ŒåŒäº‹ä»”ç»†åœ°Reviewä»£ç ï¼Œæœ€ååŒäº‹çš„ä¸€å¥LGTMç»“æŸè¿™ä¸ªPRçš„å¼€å‘ã€‚è¿™ä¸€ç³»åˆ—çœ‹ä¼¼ç†æ‰€å› å½“çš„ï¼Œè§„èŒƒçš„æµç¨‹æ“ä½œï¼Œåœ¨å›½å†…å¿«æ–‡åŒ–ä¸‹å¤ªéš¾å¾—äº†ã€‚ å›åˆ°å‰ç«¯å·¥ç¨‹ä¸Šæ¥ï¼Œé¦–å…ˆæ˜¯é¡¹ç›®æ‹†åˆ†çš„å¾ˆç»†è‡´ã€‚å°±è¯´Reduxè¿™ä¸€å—actionsã€constã€effectã€reducerã€sagasã€store(è¿™é‡Œæ˜¯ä¹‹åä¸€ä¸ªæ–‡ä»¶configure-store.jsè¿›è¡Œreduxçš„ä¸€äº›é…ç½®åŒ…æ‹¬åŒºåˆ†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä»¥åŠsagaçš„é…ç½®)è¶³è¶³æœ‰å…­ä¸ªæ–‡ä»¶å¤¹ã€‚ä¸€å¼€å§‹ä¸Šæ‰‹çš„æ—¶å€™å¾ˆæ‡µé€¼ï¼Œä¸è¿‡ç¡®å®å¾ˆæ¸…æ™°ã€‚è‡ªå·±åœ¨å·¥ä½œä¹‹ä½™çš„å­¦ä¹ ä¸­ï¼Œè‡ªå·±çš„é‚£ä¸ªé¡¹ç›®ä¹Ÿå®Œå…¨æŒ‰å·¥ä½œä¸­çš„ç»†åŒ–è§„æ¨¡è‡ªå·±å®è·µäº†ä¸€ç•ªã€‚Reduxè™½è¯´ç¹çï¼Œä¸è¿‡çœŸæ­£ææ¸…æ¥šReduxå·¥ä½œæµï¼Œç†Ÿç»ƒä¸Šæ‰‹ä¹‹åã€‚Reduxè¿™ç§æ¸…æ™°çš„æ•°æ®å˜åŒ–æµç¨‹ä¸è¦å¤ªèµã€‚æˆ‘è®¤ä¸ºReduxæœ€èƒ½æå‡çš„ä¸æ˜¯å¼€å‘æ•ˆç‡ï¼Œè€Œæ˜¯ç»´æŠ¤æ•ˆç‡ã€‚è¿™å°±æ˜¯Reduxçš„å¯é¢„æµ‹æ€§å§ã€‚å†æœ‰å°±æ˜¯ä»åŒäº‹çš„ä»£ç ä¸Šå­¦åˆ°äº†å¥½å¤šï¼Œåœ¨ä¹‹å‰çš„å…¬å¸å®Œå…¨æ²¡æœ‰è¿™ç§æ„Ÿå—ï¼Œè‡ªå·±è¿˜æ˜¯è¦åŠ æ²¹ å·¥ä½œä¹‹å¤–è¿™ä¸€ä¸ªæœˆï¼Œä¸ºäº†æå®šå·¥ä½œä»¥åŠå°è¯•ä¸€äº›æ–°ä¸œè¥¿æäº†è¿™ä¹ˆä¸€ä¸ªReacté¡¹ç›®Irelia,é™¤äº†ä¸Šé¢è¯´çš„ç»†åŒ–reduxå¼€å‘æµç¨‹ä¹‹å¤–ï¼Œä¸»è¦å°è¯•äº†å®Œå…¨ä½¿ç”¨&#x2F;Immutable.jså»ç®¡ç†æ•°æ®ä»¥åŠStyled-componentsè¿™ç§ç»„ä»¶çš„æ–¹å¼å®Œæˆæ ·å¼çš„ä¹¦å†™,å®è·µè¯æ˜è¿™ä¸¤ä¸ªåº“çœŸçš„æ˜¯è¶…çº§å¥½ç”¨ã€‚ å…ˆè¯´Immutable.jsï¼Œå®ƒå¼¥è¡¥äº†Javascriptæ²¡æœ‰ä¸å¯å˜æ•°æ®ç»“æ„çš„é—®é¢˜ã€‚ç”±äºæ˜¯ä¸å¯å˜çš„ï¼Œå¯ä»¥æ”¾å¿ƒçš„å¯¹å¯¹è±¡è¿›è¡Œä»»æ„æ“ä½œã€‚åœ¨å…¨å±€ä½¿ç”¨ä¹‹åï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ‹…å¿ƒå¼•ç”¨ç±»å‹çš„å˜é‡æ‰€å¼•å‘çš„ä¸€ç³»åˆ—å‰¯ä½œç”¨å’¯ã€‚ è¯è¯´å·¥ä½œä¸Šçš„é¡¹ç›®æ²¡ç”¨immutable.jsï¼Œä¸Šå‘¨äº”å°±é‡åˆ°äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ã€‚å¦‚æœç”¨Immutable.jså°±å¯ä»¥å®Œå…¨æœç»è¿™å—çš„é—®é¢˜äº†,éå¸¸çœå¿ƒã€‚å½“ç„¶æ·±æ‹·è´ä¹Ÿå¯ä»¥åšåˆ°ï¼ˆå·®åˆ«åœ¨äºæ€§èƒ½ï¼‰ã€‚immutable.jsæä¾›äº†å¾ˆå¤šå¼ºå¤§çš„APIï¼Œé…åˆReactä»¥åŠReduxå¯ä»¥è¯´é«˜æ•ˆã€æ–¹ä¾¿ã€å®‰å…¨ã€‚reducerä¸­ä½¿ç”¨viewè°ƒç”¨éœ€è¦æ³¨æ„çš„ç‚¹ï¼š æ—¢ç„¶å…¨å±€ä½¿ç”¨äº†immutable.jsï¼Œå†ç”Ÿæˆæ–°æ•°æ®ï¼Œè·å–æ–°æ•°æ®ä¼ é€’åˆ°actionä¹‹å‰ä¸€å®šè¦æ³¨æ„å°†å…¶è½¬åŒ–æˆimmutableï¼ˆå¤§éƒ¨åˆ†æƒ…å†µä½¿ç”¨fromJSå°±å¥½:fromJSä¼šåŒ…è£¹ä¸€ä¸ªJSå¯¹è±¡ä½¿å…¶å˜æˆimmutableå¯¹è±¡ã€‚ï¼ˆå†…éƒ¨çš„å¯¹è±¡ä¹Ÿä¼šå˜ï¼‰ï¼‰æ€»ç»“ä¸€å¥è¯å°±æ˜¯ï¼šåŒä¸€ç±»å‹ï¼Œæ‰ä¸ä¼šå‡ºé”™; pureComponentå’Œimmutable.jså®Œç¾å¥‘åˆå¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ç”¨ã€‚ å†æ¥è¯´è¯´Styled-componentsï¼Œå¯ä»¥è¯´æ˜¯css in jsä¸Šçš„åˆä¸€ç§å°è¯•ã€‚è®©æ ·å¼ä¹Ÿç»„ä»¶åŒ–åŒæ—¶é€»è¾‘ç»„ä»¶å’Œå±•ç¤ºç»„ä»¶åˆ†ç¦»ã€‚ä½¿ç”¨styled-componentsä¸éœ€è¦å†ä½¿ç”¨classNameå±æ€§æ¥æ§åˆ¶æ ·å¼ï¼Œè€Œæ˜¯å°†æ ·å¼å†™æˆæ›´å…·è¯­ä¹‰åŒ–çš„ç»„ä»¶çš„å½¢å¼ã€‚Styled-componentsçš„å†™æ³•å¯ä»¥è®©æ ·å¼æš´éœ²propsè®©å¤–å±‚JSå»æ§åˆ¶ã€‚è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦ClassNameã€styleè¿™æ ·çš„ä¸­é—´äººã€‚ æ­¤å¤–Styled-componentsæ”¯æŒå…¨éƒ¨Cssç‰¹æ€§ï¼Œå½’æ ¹ç»“åº•æœ¬è´¨è¿˜æ˜¯cssï¼Œä»€ä¹ˆåŠ¨ç”»ã€ä¼ªç±»éƒ½ä¸åœ¨è¯ä¸‹ã€‚è¿˜æœ‰ä¸€ä¸ªä¼˜ç‚¹å°±æ˜¯ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦è€ƒè™‘classNameå‘½åé—®é¢˜ã€‚ä½¿ç”¨Styled-componentsä¼šç»™ç”Ÿæˆçš„Reactç»„ä»¶æ·»åŠ ä¸€ä¸ªå€¼ä¸ºéšæœºå­—ç¬¦ä¸²çš„classNameã€‚ä½¿ç”¨åŒä¸€ä¸ªStyled-componentsç”Ÿæˆçš„å¤šä¸ªReactç»„ä»¶çš„classNameæ˜¯ä¸åŒçš„ï¼Œè¿™ç§éšæœºclassNameçš„æœºåˆ¶ä½¿å¾—ç»„ä»¶ä¹‹é—´çš„classNameå€¼ä¸ä¼šå†²çªï¼Œä»è€Œè§£å†³äº†CSSå…¨å±€ä½œç”¨åŸŸçš„é—®é¢˜ï¼Œä¹Ÿçœå»äº†å‘½åçš„éº»çƒ¦ã€‚ è¿™ç§æ§åˆ¶æ ·å¼çš„ç¼–ç¨‹æ–¹å¼ä¸å…‰èƒ½è§£å†³CSSå…¨å±€ä½œç”¨åŸŸçš„é—®é¢˜ï¼Œè€Œä¸”ç§»é™¤äº†æ ·å¼å’Œç»„ä»¶é—´çš„æ˜ å°„å…³ç³»çœŸçš„å¥½ç”¨ã€‚ Note æ–°ç‰ˆReactä¸å†æ¨èå¯¹è±¡çš„æ–¹å¼å»æ”¹å˜ 123this.setState(&#123; a: 1&#125;) æ¨èå¼‚æ­¥å‡½æ•°çš„å½¢å¼ä»£æ›¿å¯¹è±¡ä¼ å…¥setStateä¸­ 12345this.setState((prevState) =&gt; &#123; return &#123; a: prevState.a + 1 &#125;&#125;) å…¶ä¸­preState ç­‰ä»·äºthis.state æƒ³åœ¨æœ€å¤–å±‚åŒ…ä¸€å±‚ï¼Œä½†åˆä¸æƒ³è¢«æ˜¾ç¤ºã€‚å¯ä»¥è¯•è¯•React16å¼•å…¥çš„Fragmentã€‚ä¸€ä¸ªJSXç©ºæ ‡ç­¾ ref&#x3D;{(input) &#x3D;&gt; { this.input &#x3D; input }}è¿™ç§ä½¿ç”¨refè·å–domï¼Œä¸€å®šè¦è®°å¾—setStateæ˜¯å¼‚æ­¥çš„ è¯´åˆ°React ref,React16.3åŠ å…¥äº†æ–°çš„React.createRef APIã€‚ç›®å‰è·å–ref domå…ƒç´ æœ‰ä¸‰ç§æ–¹æ³• 1ï¼‰String Ref 2ï¼‰Callback Ref 3ï¼‰React.createRefReactå®˜æ–¹è¡¨ç¤ºString Refå°†ä¼šåœ¨æœªæ¥ç‰ˆæœ¬è¢«ç§»å‡ºï¼Œå»ºè®®ç”¨æˆ·ä½¿ç”¨Callback Refã€React.createRefæ¥ä»£æ›¿String Refä¸€äº›é—®é¢˜: Reactå…ƒç´ åœ¨åˆ›å»ºå’Œæ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼Œå®šä¹‰æˆStringç±»å‹çš„refä¼šè¢«å°è£…ä¸ºä¸€ä¸ªé—­åŒ…å‡½æ•°ï¼Œç­‰å¾…commité˜¶æ®µè¢«æ‰§è¡Œï¼Œè¿™æ ·ä¼šå¯¹Reactæ€§èƒ½äº§ç”Ÿä¸€äº›å½±å“ã€‚ String Refæ— æ³•è¢«ç»„åˆï¼Œå½“çˆ¶ç»„ä»¶å·²ç»ç»™å­ç»„ä»¶ä¼ é€’äº†refï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ— æ³•å†åœ¨å­ç»„ä»¶ä¸Šæ·»åŠ refäº†, Callback Refæ–¹å¼ä¾¿å¯é¿å…ã€‚ åœ¨æ ¹ç»„ä»¶ä¸Šä½¿ç”¨æ— æ³•ç”Ÿæ•ˆã€‚ å¦å¤–ï¼ŒReact16è¿˜å¦å¤–æä¾›äº†ä¸€ä¸ªå…³äºrefçš„API React.forwardRefï¼Œä¸»è¦ç”¨äºç©¿è¿‡çˆ¶å…ƒç´ ç›´æ¥è·å–å­å…ƒç´ çš„refã€‚ ç”Ÿå‘½å‘¨æœŸä¸­componentWillReceivePropsã€‚æ²¡æœ‰propså‚æ•°æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œåªæœ‰çˆ¶ç»„ä»¶æ¥å—äº†propsæ‰ä¼šæ‰§è¡Œï¼Œåªè¦çˆ¶ç»„ä»¶renderå‡½æ•°é‡æ–°æ‰§è¡Œäº†ï¼Œå­ç»„ä»¶componentWillReceivePropså°±ä¼šæ‰§è¡Œã€‚ å¯ä»¥é€šè¿‡React16ç”Ÿå‘½å‘¨æœŸä¸­componentDidCatchï¼Œåˆ›å»ºä¸€ä¸ªerror-boundaryï¼Œç”¨æ¥æ•è·å…¶å†…åµŒå¥—çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿçš„é”™è¯¯ã€‚ï¼ˆ* æ— æ³•æ•è·å¼‚æ­¥ä»¥åŠäº‹ä»¶å›è°ƒå¼•å‘çš„é”™è¯¯ï¼‰ ä¾¿æ·çš„æ·±æ‹·è´ JSON.parse(JSON.stringify(obj)) åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰ä½¿ç”¨immutable.js\bï¼Œå¯ä»¥å¼•å…¥lodash.isequal 12import isEqual from &#x27;lodash.isequal&#x27;isEqual(obj1, obj2) Reduxreducerå¯ä»¥æ¥å—stateï¼Œä½†ç»å¯¹ä¸èƒ½ä¿®æ”¹stateï¼›storeå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼›åªæœ‰storeæ‰èƒ½æ”¹å˜è‡ªå·±çš„å†…å®¹ï¼›reducerå¿…é¡»çº¯å‡½æ•°ä¸èƒ½æœ‰å‰¯ä½œç”¨ï¼›stateåœ¨å…¶ä»–åœ°æ–¹åªè¯»åªæœ‰åœ¨storeä¸­æ‰èƒ½ä¿®æ”¹ã€‚æ¯ä¸€å—åŠŸèƒ½æ‹†åˆ†ä¸€ä¸ªå°storeï¼Œé€šè¿‡combineReducersåˆå¹¶ã€‚æ¯ä¸€ä¸ªåŠŸèƒ½(ç»„ä»¶)çš„storeå¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ¨¡æ¿ï¼šå…¶ä¸­index.jså¯ä»¥è¿™ä¹ˆå†™ 12345import reducer from &#x27;./reducer&#x27;import * as actionCreators from &#x27;./actionCreators&#x27;import * as constants from &#x27;./constants&#x27;export &#123; reducer, actionCreators, constants &#125; use redux chrome tool 1234567891011import &#123; createStore, compose, applyMiddleware&#125; from &#x27;redux&#x27;import thunk from &#x27;redux-thunk&#x27;import reducer from &#x27;./reducer&#x27;const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || composeconst store = createStore(reducer, composeEnhancers( applyMiddleware(thunk)))export default store this.props.childrenå¯ä»¥è¯»å–ç»„ä»¶ä¸‹çš„å­èŠ‚ç‚¹ã€‚this.props.childrenå¯ä»¥ç”¨React.Children.mapéå†å­èŠ‚ç‚¹ï¼Œå¥½å¤„æ˜¯ä¸ç”¨æ‹…å¿ƒæ•°æ®ç±»å‹æ˜¯undefinedè¿˜æ˜¯Obj åœ¨é¡¹ç›®ä¸­æœ€å¥½åˆ†ç¦»å¼€ä¸šåŠ¡ç»„ä»¶å’ŒUIç»„ä»¶ã€‚UIç»„ä»¶èƒ½å†™æˆStatelessæ–¹å¼è¿˜æ˜¯è¦å†™æˆè¿™ç§æ–¹å¼ä»¥æé«˜æ€§èƒ½ã€‚ Styled-componentsä¸­å¯ä»¥é€šè¿‡innerRefæ‹¿åˆ°çœŸå®Dom å®ç°reacté¡µé¢ä¹‹é—´çš„å¼‚æ­¥åŠ è½½æ“ä½œå¯ä»¥å°è¯•ä½¿ç”¨react-loadableè¿™ä¸ªç»„ä»¶ ä»¥ä¸Š~~~~","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"},{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"Redux-saga","date":"2018-06-27T06:36:53.590Z","path":"2018/06/27/redux-saga/","text":"å…¬å¸çš„reacté¡¹ç›®ï¼Œåœ¨ç®¡ç†å¼‚æ­¥actionè¿™ä¸€å—ï¼Œéƒ½ç”¨çš„æ˜¯redux-sagaè¿™ä¸ªä¸­é—´ä»¶ã€‚ä¹‹å‰è‡ªå·±åœ¨åšé¡¹ç›®&#x2F;ç»ƒä¹ çš„æ—¶å€™ï¼Œéƒ½æ˜¯ç”¨redux-thunkè¿™ä¸ªæ¯”èµ·sagaè½»é‡å¾ˆå¤šçš„è§£å†³æ–¹æ¡ˆã€‚è¿™ä¸¤å¤©æ­£å¥½åœ¨å­¦ä¹ å’Œæ‘¸ç´¢redux-sagaã€‚é¡ºä¾¿æ€»ç»“ä¸€ä¸‹ã€‚ redux-thunk&#x2F;redux-sagaé¦–å…ˆredux-thunkå’Œredux-sagaéƒ½æ˜¯reduxçš„ä¸­é—´ä»¶ï¼Œç›®çš„æ˜¯è§£å†³reduxåº”ç”¨ä¸­çš„å¼‚æ­¥é—®é¢˜ã€‚reduxæœ¬èº«æ˜¯ä¸æ”¯æŒå¼‚æ­¥çš„ï¼Œaction creatorç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚è¿™é‡Œredux-thunké€šè¿‡åå‡ è¡Œä»£ç ï¼Œåˆ¤æ–­action creatorå‡½æ•°è¿”å›çš„æ˜¯ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯å¯¹è±¡æ˜¯å‡½æ•°çš„è¯å†ç”¨dispatchå‘å‡ºå»ã€‚ä¹‹å‰è‡ªå·±å†™è¿‡ä¸€ä¸ªç®€å•çš„redux-thunkçš„æ¨¡æ‹Ÿã€‚å¤§è‡´å°±æ˜¯è¿™æ ·çš„ 12345678910const thunk = (&#123;dispatch, getState&#125;) =&gt; next =&gt; action =&gt; &#123; // å¦‚æœæ˜¯å‡½æ•°ï¼Œæ‰§è¡Œä»¥ä¸‹ï¼›å‚æ•°æ˜¯dispatchå’ŒgetState if (typeof action === &#x27;function&#x27;) &#123; return action(dispatch, getState) &#125; // å•¥äº‹æ²¡å¹² åŸæ ·è¿”å› return next(action)&#125;export default thunk redux-sagaä¹Ÿæ˜¯è§£å†³åŒæ ·çš„é—®é¢˜ï¼Œä½†æ˜¯redux-sagaæ˜¯é€šè¿‡åœ¨reduxåŸæœ‰çš„æ•°æ®æµä¸­å†åŠ äº†ä¸€å±‚ï¼Œå¯¹actionè¿›è¡Œç›‘å¬ã€‚æ•è·åˆ°ç›‘å¬çš„Actionåå¯ä»¥æ´¾ç”Ÿä¸€ä¸ªæ–°çš„ä»»åŠ¡å¯¹stateè¿›è¡Œç»´æŠ¤ï¼Œæ›´æ”¹stateæ¥é©±åŠ¨viewå±‚å˜åŒ–ã€‚sagaå’Œthunkéƒ½æ˜¯å¯ä»¥å¤„ç†å¼‚æ­¥æ“ä½œå’Œåè°ƒå¤æ‚çš„dispatchã€‚ä¸åŒé¢æ˜¯thunkæ˜¯åœ¨actionåˆ›å»ºçš„æ—¶å€™æ‰è°ƒç”¨ï¼Œsagaæ˜¯åœ¨åº”ç”¨å…¥å£å°±å¯åŠ¨äº†ï¼Œä¸€ç›´åœ¨ç›‘å¬actionï¼Œå¹¶ä½œå‡ºç›¸åº”å¤„ç†ã€‚è¯´ç™½äº†å°±æ˜¯sagaå°†æ‰€æœ‰çš„å¼‚æ­¥æ“ä½œé€»è¾‘æ”¶é›†åœ¨ä¸€ä¸ªåœ°æ–¹é›†ä¸­å¤„ç†ã€‚ç›¸æ¯”thunkçš„å¤„ç†æ–¹å¼ï¼Œæ›´èƒ½å‰¥ç¦»reduxåº”ç”¨çš„å‰¯ä½œç”¨ï¼Œè®©æ•°æ®å¤„ç†æ›´åŠ ä¼˜é›…ï¼ˆä¹Ÿæ›´åŠ éº»çƒ¦&#x3D;ã€‚&#x3D;ï¼‰ sagaæ ¸å¿ƒåŸç†æ˜¯åˆ©ç”¨äº†generatorï¼Œä½¿å¼‚æ­¥æ“ä½œæµç¨‹æ›´åŠ ä¼˜é›…ã€‚sagaséƒ½æ˜¯ç”¨Generatorå‡½æ•°å®ç°çš„ã€‚ ä»¥generatorå½¢å¼ç»„ç»‡é€»è¾‘åºåˆ—ï¼ˆfunction* + yieldï¼‰ï¼ŒæŠŠä¸€ç³»åˆ—çš„ä¸²è¡Œ&#x2F;å¹¶è¡Œæ“ä½œé€šè¿‡yieldæ‹†åˆ†å¼€ åˆ©ç”¨iteratorçš„å¯â€œæš‚åœ&#x2F;æ¢å¤â€ç‰¹æ€§ï¼ˆiter.next()ï¼‰åˆ†æ­¥æ‰§è¡Œ é€šè¿‡iteratorå½±å“å†…éƒ¨çŠ¶æ€ï¼ˆiter.next(result)ï¼‰ï¼Œæ³¨å…¥å¼‚æ­¥æ“ä½œç»“æœ åˆ©ç”¨iteratorçš„é”™è¯¯æ•è·ç‰¹æ€§ï¼ˆiter.throw(error)ï¼‰ï¼Œæ³¨å…¥å¼‚æ­¥æ“ä½œå¼‚å¸¸ ä½¿ç”¨ä¸‹é¢è¯´è¯´æ€ä¹ˆå¼•å…¥redux-saga 123456789101112import &#123; createStore, applyMiddleware &#125; from &#x27;redux&#x27;import createSagaMiddleware from &#x27;redux-saga&#x27;//å¼•å…¥sagaæ–‡ä»¶import &#123; rootSaga &#125; from &#x27;./rootSaga&#x27;//ä½¿ç”¨ redux-saga æ¨¡å—çš„ createSagaMiddleware å·¥å‚å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ª Saga middlewareã€‚//è¿è¡Œ rootSaga ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ applyMiddleware å°† middleware è¿æ¥è‡³ Storeã€‚ç„¶åä½¿ç”¨ const sagaMiddleware = createSagaMiddleware()const middlewares = [ sagaMiddleware ]const store = createStore(rootReducer, applyMiddleware(...middlewares))sagaMiddleware.run(rootSaga) ä¸€äº›Apiåœ¨ä½¿ç”¨ä¸Šæ˜¯é€šè¿‡yield Effectsçš„æ–¹å¼å®Œæˆçš„ã€‚ï¼ˆAn Effect is simply an object which contains some information to be interpreted by the middleware.ï¼‰ call:yield call(Generator, param)yieldä¸€ä¸ªcall åˆ°Generator,sagaç­‰å¾…Generatoræ‰§è¡Œä¹‹å,æ¥æ”¶è¿”å›å€¼ç»§ç»­æ‰§è¡Œ,callæ˜¯å µå¡çš„,å°±æ˜¯ç­‰å¾…æ‰§è¡Œå®Œå†ç»§ç»­æ‰§è¡Œ,è¿”å›çš„æ˜¯æ‰§è¡Œå®Œæ­£å¸¸è¿”å›çš„ç»“æœ. take:æ˜¯é˜»å¡çš„,åªæœ‰ç›‘å¬åˆ°ä»–(action.type),æ‰ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œ. put:ç±»ä¼¼dispatchæ–¹æ³•,è§¦å‘ä¸€ä¸ªaction fork:éé˜»å¡çš„,é‡åˆ°å®ƒä¸éœ€è¦ç­‰å¾…ä»–æ‰§è¡Œå®Œæ¯•,å°±å¯ä»¥ç»§ç»­å¾€ä¸‹æ‰§è¡Œ,forkè¿”å›çš„æ˜¯ä¸€ä¸ªä»»åŠ¡,å¯ä»¥è¢«å–æ¶ˆ cancel:é’ˆå¯¹forkæ–¹æ³•è¿”å›çš„ä»»åŠ¡,è¿›è¡Œå–æ¶ˆ redux-saga helper takeï¼šè¯­ä¹‰ç›¸å½“äºonce takeEveryï¼šè¯­ä¹‰ç›¸å½“äºonï¼Œå…è®¸å¹¶å‘actionï¼ˆä¸Šä¸€ä¸ªæ²¡å®Œæˆä¹Ÿç«‹å³å¼€å§‹ä¸‹ä¸€ä¸ªï¼‰ takeLatestï¼šé™åˆ¶ç‰ˆçš„onï¼Œä¸å…è®¸å¹¶å‘actionï¼ˆpendingæ—¶åˆæ¥ä¸€ä¸ªå°±cancelæ‰pendingçš„ï¼Œåªåšæœ€æ–°çš„ï¼‰ takeEvery, takeLatestæ˜¯åœ¨takeä¹‹ä¸Šçš„å°è£…ï¼Œtakeæ‰æ˜¯åº•å±‚APIï¼Œçµæ´»æ€§æœ€å¤§ï¼Œèƒ½æ‰‹åŠ¨æ»¡è¶³å„ç§åœºæ™¯ ä¸€äº›ä½¿ç”¨åœºæ™¯ æ¥å£è®¿é—®123456789function* fetchProducts() &#123; try &#123; const products = yield call(Api.fetch, &#x27;/products&#x27;) yield put(&#123; type: &#x27;PRODUCTS_RECEIVED&#x27;, products &#125;) &#125; catch(error) &#123; yield put(&#123; type: &#x27;PRODUCTS_REQUEST_FAILED&#x27;, error &#125;) &#125;&#125; Login&#x2F;Logout12345678function* loginFlow() &#123; while (true) &#123; yield take(&#x27;LOGIN&#x27;) // ... perform the login logic yield take(&#x27;LOGOUT&#x27;) // ... perform the logout logic &#125;&#125; è¿™æ ·å†™å°±èƒ½ä¿è¯actionçš„æ‰§è¡Œé¡ºåºã€‚LOGOUTæ°¸è¿œåœ¨LOGINä¹‹åå‘ç”Ÿã€‚ ä¼˜ç¼ºç‚¹ ä¼˜ï¼šredux-sagaçš„åŠ å…¥è®©æµç¨‹æ‹†åˆ†çš„æ›´åŠ ç»†åŒ–ã€‚ä»¥åŒæ­¥çš„æ–¹å¼å»å†™å¼‚æ­¥ä»£ç ï¼Œä»£ç å±‚æ¬¡ç»“æ„æ›´åŠ æ¸…æ™°ã€‚ä¾¿äºæµ‹è¯• ç¼ºï¼šæ‹†åˆ†ç»†åŒ–æ„å‘³ç€æµç¨‹ä¸Šå¤šä¸€ä¸ªç¯èŠ‚ï¼Œå¢åŠ äº†ä»£ç å¤æ‚åº¦ï¼Œå’Œå¼€å‘å·¥ä½œé‡ã€‚ å­¦ä¹ è¿™ä¸€å—ï¼Œç»†åŒ–æ‹†åˆ†ä¸“é—¨å†™äº†ä¸ªä¾‹å­ï¼Œæ„Ÿè§‰æŠŠèƒ½ç”¨çš„éƒ½ç”¨äº†ï¼šhttps://github.com/laclys/Ezreal ä»¥ä¸Š~~~~","tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"},{"name":"redux","slug":"redux","permalink":"http://yoursite.com/tags/redux/"}]},{"title":"Reactæ‚è®°","date":"2018-06-23T17:11:58.961Z","path":"2018/06/24/Reactæ‚è®°/","text":"ï¼ˆä¸Šæµ·Â·å‡Œç©ºSOHOï¼‰ Reactæ€§èƒ½ä¼˜åŒ–ï¼šæ€§èƒ½ä¼˜åŒ–è€ç”Ÿå¸¸è°ˆï¼Œç½‘ä¸Šçš„æ–‡ç« ä¹Ÿä¸€å¤§å †ï¼Œè‡ªå·±æ€»ç»“ä¸€ä¸‹ï¼Œä¹Ÿåšä¸€ä¸ªè®°å½•ã€‚ 1ï¼‰å•ç»„ä»¶ï¼šä¼ é€’å‚æ•°è¦å°‘ä¼ ï¼Œå°½å¯èƒ½å‡å°‘Reactåœ¨ä¼ é€’å‚æ•°æ—¶å€™çš„è´Ÿæ‹…ã€‚å½“ç„¶åœ¨ä½¿ç”¨æ•°æ®çš„æ—¶å€™å°½å¯èƒ½ä½¿ç”¨ä¸€ä»½æ•°æ®ï¼Œè€Œä¸æ˜¯é‡æ–°å®šä¹‰ä¸€ä»½ã€‚ åœ¨ä½¿ç”¨ å‡½æ•°çš„æ—¶å€™ï¼š NGï¼š æ¯æ¬¡æ‰§è¡Œrenderå‡½æ•°çš„æ—¶å€™bindéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ 1&lt;button onClick=&#123;this.handleClick.bind(this)&#125;&gt;&lt;/button&gt; æ¯”ä¸Šä¸€ä¸ªå¥½ä¸€ç‚¹ï¼Œä½†æ¯æ¬¡æ‰§è¡Œrenderçš„æ—¶å€™éƒ½ä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªå‡½æ•° 1&lt;button onClick=&#123;() =&gt; this.handleClick()&#125;&gt;&lt;/button&gt; Goodï¼š 1234constructor(props) &#123; super(props) this.handleClick = this.handleClick.bind(this) // æ„é€ å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šthis&#125; 1&lt;button onClick=&#123;this.handleClick&#125;&gt;&lt;/button&gt; åœ¨ä¼ é€’å‚æ•°çš„æ—¶å€™NGï¼šæ¯æ¬¡éƒ½ä¼šç”Ÿæˆæ–°å¯¹è±¡ 1&lt;div style=&#123;color: &#x27;red&#x27;&#125;&gt;&lt;/div&gt; GOODï¼š æå‰å®šä¹‰å¥½éœ€è¦çš„å¯¹è±¡ã€‚ç›®çš„å°±æ˜¯ä½¿ç”¨ä¸€ä»½æ•°æ®ï¼Œè€Œä¸æ˜¯é‡æ–°å®šä¹‰ä¸€ä»½ å†ç»™å­ç»„ä»¶ä¼ é€’å‚æ•°çš„æ—¶å€™ ï¼Œåªä¼ é€’éœ€è¦çš„å‚æ•°ã€‚ï¼ 2ï¼‰ å¤šç»„ä»¶ï¼šè¯´é“å¤šç»„ä»¶æœ‰ä¸€ä¸ªæƒ…å†µå°±æ˜¯ï¼šå­ç»„ä»¶æ˜¯ä¸éœ€è¦å˜åŒ–çš„ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶çš„renderæ‰§è¡Œäº†å˜åŒ–ï¼Œå­ç»„ä»¶ä¹Ÿä¼šè·Ÿç€å†æ¬¡æ¸²æŸ“ä¾‹,fuç»„ä»¶renderä¸­é€šè¿‡ä¸€ä¸ªæ”¹å˜nameçš„btnï¼Œä½¿stateä¸­çš„nameå˜åŒ–ã€‚åœ¨ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™ï¼Œstateä¸­çš„titleæ²¡æœ‰å˜åŒ–ï¼ŒchildComæ¸²æŸ“çš„å†…å®¹æ²¡æœ‰æ”¹å˜å½“ç„¶æ˜¯ä¸éœ€è¦å†æ¸²æŸ“çš„ï¼Œä½†äº‹å®ä¸ŠchildComåˆé‡æ–°æ¸²æŸ“äº† 12345678render() &#123; return ( &lt;div&gt;hello,&#123;this.state.name&#125;&lt;/div&gt; &lt;button onClick=&#123;this.changeName&#125;&gt;&lt;/button&gt; &lt;childCom title = &#123;this.state.title&#125; /&gt; )&#125; psï¼šåœ¨reactæ€§èƒ½æ£€æµ‹ã€‚åœ¨å¼€å‘urlä¸­åŠ ä¸Šï¼Ÿreact_perf-&gt;åˆ·æ–°åœ¨chromeä¸­çš„performanceä¸­å³å¯å¾—åˆ°æˆ‘ä»¬éœ€è¦çš„æ€§èƒ½æ£€æµ‹çš„è¿‡ç¨‹æ•°æ®ï¼ˆé‡ç‚¹çœ‹ï¼šuser Timingï¼‰ è¿™æ˜¯æˆ‘ä»¬å°±å¯ä»¥åœ¨å­ç»„ä»¶é‡Œé€šå¤šshouldComponentUpdateæ¥å¤„ç†ç»„ä»¶éœ€ä¸éœ€è¦æ¸²æŸ“ã€‚é»˜è®¤ç›´æ¥return trueæ¸²æŸ“ç»„ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬ä¸å¸Œæœ›å­ç»„ä»¶åœ¨çˆ¶ç»„ä»¶titleæ²¡å˜åŒ–çš„æ—¶å€™å†æ¬¡æ¸²æŸ“ï¼Œè¿™é‡Œæˆ‘ä»¬å°±è¦å®šåˆ¶ä¸€ä¸‹shouldComponentUpdate 1234shouldComponentUpdate(nextProps, nextState) &#123; if (nextProps.title == this.props.title) return false return true&#125; å½“ç„¶åœ¨react15ä¹‹å ä½¿ç”¨pureComponentå°±å¯ä»¥äº†ã€‚å®ƒçš„æ ¸å¿ƒåŸç†ä¹Ÿæ˜¯é‡å†™äº†shouldComponentUpdate 3ï¼‰è€ç”Ÿå¸¸è°ˆkeyçš„é—®é¢˜ 4ï¼‰ä½¿ç”¨ä¸å¯å˜çš„JSï¼ˆimmutable.jsï¼‰ã€‚åœ¨è¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼Œå…·ä½“åŸç†å°±æ˜¯ é€šè¿‡ä¸å¯å˜å¾—æ•°æ®ç»“æ„ï¼ˆç›´æ¥æ¯”è¾ƒhashå€¼ï¼‰å‡å°‘æˆ‘ä»¬çš„æ¸²æŸ“æ¬¡æ•°ã€‚ 5ï¼‰å¦‚æœä½¿ç”¨äº†Reduxã€‚ä¼—æ‰€å‘¨çŸ¥ reduceræ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œçº¯å‡½æ•°çš„ç‰¹ç‚¹å°±æ˜¯ç¨³å®šè¾“å…¥ï¼Œç¨³å®šè¾“å‡ºã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªåº“ï¼ˆreselectï¼‰é€šè¿‡ç¼“å­˜è¾“å…¥è¿‡çš„ç»“æœï¼Œè¿›è€Œä¼˜åŒ–æ€§èƒ½ï¼Œç¨‹åºé€Ÿåº¦ã€‚ 6ï¼‰ReactåŒæ„ SSR é¦–å±æ¸²æŸ“é€Ÿåº¦ React Contextï¼šåœ¨ä½¿ç”¨react-reduxçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦åœ¨æœ€å¤–å±‚åŒ…è£¹ä¸€ä¸ªProviderã€‚æŠŠreduxçš„storeæ”¾è¿›å»ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨é¡¹ç›®çš„ä»»æ„ç»„ä»¶ä¸­è‡ªç”±è¯»å–storeå†…å®¹äº†ã€‚è¿™é‡Œç”¨è¿ç”¨äº†contextã€‚ contextæ˜¯å…¨å±€çš„ï¼Œç»„ä»¶å£°æ˜ï¼Œæ‰€æœ‰å­å…ƒç´ å¯ä»¥ç›´æ¥è·å– contextå¯¹æ•°æ®æ ¡éªŒå¼ºè¦æ±‚ï¼(å­&#x2F;çˆ¶éƒ½éœ€è¦è®¾ç½®) è¿™é‡Œæ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import React from &#x27;react&#x27;import PropTypes from &#x27;prop-types&#x27;class Sidebar extends React.Component &#123; render () &#123; &lt;div&gt; &lt;p&gt;Top Place&lt;/p&gt; &lt;Navbar /&gt; &lt;/div&gt; &#125;&#125;class Navbar extends React.Component &#123; static contextTypes = &#123; user: PropTypes.string &#125; render () &#123; &lt;div&gt; &lt;p&gt;&#123;this.context.user&#125;ã®Navbar Place&lt;/p&gt; &lt;/div&gt; &#125;&#125;class Page extends React.Component &#123; static childContextTypes = &#123; user: PropTypes.string &#125; constructor (props) &#123; super(props) this.state = &#123;user: &#x27;Lac&#x27;&#125; &#125; getChildContext () &#123; return this.state &#125; render () &#123; return ( &lt;div&gt; &lt;p&gt;my name is &#123;this.state.user&#125;&lt;/p&gt; &lt;Sidebar /&gt; &lt;/div&gt; ) &#125;&#125;export default Page ä»¥ä¸Š è¿™ä¸¤ä¸ªæœˆè¿‡å¾—æ— æ¯”çº ç»“ï¼Œç»éªŒæ•™è®­å°±æ˜¯ï¼šçœŸçš„æ²¡äº‹åˆ«çæŠ˜è…¾ï¼Œéå¸¸ç´¯ã€‚ è¸è¸å®å®ï¼Œå¥½å¥½å·¥ä½œæ‰æ˜¯çœŸçš„ã€‚","tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"å…³äºç›´æ’­","date":"2018-05-14T02:37:31.312Z","path":"2018/05/14/å…³äºç›´æ’­/","text":"æ­£å¤„äºéš¾å¾—çš„ç©ºæ¡£æœŸï¼Œäº”ä¸€å»å’Œå¤§å­¦çš„åŸºå‹å»æ—¥æœ¬çš„ä¸œåŒ—ç©äº†ä¸€å¤§åœˆï¼ˆä¸œäº¬-ä»™å°-è§’é¦†-ç”°æ³½æ¹–-ç§‹ç”°-å¼˜å‰-é’æ£®-ä¸œäº¬ï¼‰ï¼Œå›æ¥ä¹Ÿè¯¥æ”¶æ”¶å¿ƒäº†ã€‚å‘¨æœ«æ— äº‹ï¼Œæµ…æµ…çš„ç ”ç©¶äº†ä¸€ä¸‹ç°åœ¨å¤§çƒ­çš„ç›´æ’­æŠ€æœ¯ã€‚åŒæ—¶ä¹Ÿåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚ ç›´æ’­æµç¨‹ï¼ˆåŸç†ï¼‰PCç«¯&#x2F;IOS&#x2F;Android -&gt; å‹ç¼©ç¼–ç è¿‡ç¨‹ï¼ˆH.264&#x2F;ACCï¼‰-&gt; å­—å¹•å åŠ ï¼ˆè§†é¢‘æœ¬èº«å¤„ç†ï¼‰-&gt; æ¨æµ -&gt; CDN -&gt; ç›´æ’­ï¼ˆç»ˆç«¯æ˜¾ç¤ºç›´æ’­æµï¼‰ ç›´æ’­åè®®ä¸»æµçš„å·®ä¸å¤šå°±è¿™ä¸‰ä¸ªï¼šHLSåè®® RTMPåè®® HTTP-FLVåè®® HLSåè®®ï¼šAppleå…¬å¸æ¨å‡ºçš„ï¼Œæš‚æ—¶åªæ”¯æŒSafariï¼Œåˆ‡ç‰‡æ ¼å¼æ˜¯tsã€‚å®ç°åŸç†å…·ä½“å°±æ˜¯videoï¼Œå®ƒæœ‰ä¸€ä¸ªM3U8ç´¢å¼•æ–‡ä»¶ã€‚è¿™ä¸ªç´¢å¼•æ–‡ä»¶å¯¹åº”ç€æ•°ä¸ªtsæ ¼å¼çš„æ–‡ä»¶åˆ‡ç‰‡ã€‚ M3U8æ–‡ä»¶åªæ˜¯å½“å‰æ—¶é—´æ®µçš„ç´¢å¼•,segment.tséƒ½ä¼šæœ‰ä¸ªæ—¶é•¿,åœ¨segmentæ€»æ—¶é•¿ä¹‹å‰,videoä¼šé‡æ–°å‘æœåŠ¡å™¨è¯·æ±‚m3u8æ–‡ä»¶ï¼Œè¿™æ˜¯æµè§ˆå™¨è‡ªèº«çš„è¡Œä¸ºï¼Œæ­¤æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›æ–°çš„m3u8æ–‡ä»¶ï¼Œæ›´æ–°åçš„segment.tsæ–‡ä»¶å°†ä¼šæ”¹å˜(m3u8æ–‡ä»¶ç»“æ„å¹¶ä¸ä¸€å®šå…¨æ˜¯ç”±tsæ–‡ä»¶ç»„æˆï¼Œæœ‰å¯èƒ½ä¼šåµŒå¥—ä¸€å±‚m3u8æ–‡ä»¶) å¯¹äºtsæ–‡ä»¶æ¥è¯´ï¼štsæ–‡ä»¶ä¼šæœ‰ä¸€ä¸ªPATçš„åŒ…ï¼Œè§£ææ—¶ï¼Œè¿™ä¸ªpatçš„åŒ…ä¼šå‘Šè¯‰ä½ å»æ‰¾ä¸€ä¸ªPMTçš„åŒ…ï¼ŒPMTä¼šå‘Šè¯‰ä½ åé¢è¦è§£æåˆ°çš„tsæ–‡ä»¶ä¸­ï¼Œå“ªäº›æ˜¯è§†é¢‘å“ªäº›æ˜¯éŸ³é¢‘ã€‚ RTMPåè®®ï¼ˆReal Time Messaging Protocolï¼‰ï¼ˆå®æ—¶æ€§æ¯”è¾ƒå¥½ä¸è¿‡ä½¿ç”¨èµ·æ¥æ¯”è¾ƒå¤æ‚,ä¼ è¾“çš„è§†é¢‘æ ¼å¼ä¸ºflvï¼‰ HTTP-FLVç»“åˆäº†HLSçš„ä¼˜ç‚¹,é‡‡ç”¨HTTPè¯·æ±‚,åˆç»“åˆäº†RTMPä½å»¶æ—¶çš„ç‰¹æ€§,å› ä¸ºä¸­é—´å»ºç«‹äº†FLVçš„é•¿è¿æ¥,ä¸­é—´é€šä¿¡è¿‡ç¨‹ç›¸å¯¹RTMPåè®®å°±ä¸å†å¤æ‚ HTTP-FLVä¼˜ç‚¹ï¼ˆç›¸å¯¹RTMP): å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…é˜²ç«å¢™å¹²æ‰°ï¼ˆæœ‰äº›æœºæˆ¿åªå…è®¸80ç«¯å£é€šè¿‡ï¼‰ å¯ä»¥å¾ˆå¥½çš„å…¼å®¹HTTP 302è·³è½¬ å¯ä»¥ä½¿ç”¨HTTPS å¾ˆå¥½çš„æ”¯æŒç§»åŠ¨ç«¯ ç›´æ’­æºçš„åˆ¶ä½œ æˆ‘ä»¬éœ€è¦å®‰è£…Nginxï¼Œmacçš„è¯ç›´æ¥1brew install nginx-full --with-rtmp-module å¦‚æœå®‰è£…çš„æ—¶å€™é‡åˆ° ä¸å­˜åœ¨çš„é—®é¢˜ï¼šbrew tap denji&#x2F;nginx æ¢ä¸€ä¸ªgithubæºå³å¯ã€‚ å®‰è£…æˆåŠŸï¼Œå¯åŠ¨Nginxï¼Œåœ¨http://localhost:8080/éªŒè¯å³å¯ã€‚ å®‰è£…ffmpeg 1brew install ffmpeg é…ç½®Nginx 12cd /usr/local/etc/nginx/code nginx.conf 123456789101112131415161718192021rtmp&#123; server &#123; listen 1935; chunk_size 4000; # RTMP ç›´æ’­æµé…ç½® application rtmplive &#123; live on; max_connections 1024; &#125; # hls ç›´æ’­æµé…ç½® application hls&#123; live on; hls on; hls_path /usr/local/var/www/hls; hls_fragment 5s; &#125; &#125;&#125; 12345678location /hls &#123; types&#123; application/vnd.apple.mpegurl m3u8; video/mp2t ts; &#125; root /usr/local/var/www; add_header Cache-Control no-cache;&#125; å‡†å¤‡è§†é¢‘è¿™é‡Œç®€å•èµ·è§ï¼Œåœ¨ç½‘ä¸Šæ‰¾ä¸€ä¸ªmp4æ ¼å¼çš„æµ‹è¯•è§†é¢‘æ¨¡æ‹Ÿç›´æ’­æµ åˆ©ç”¨ffmpegæ¨æµ è¿™é‡Œåˆ†åˆ«å°è¯•äº†ä¸¤ç§åè®®çš„ç›´æ’­ã€‚æ¨æµæ–¹å¼åˆ†åˆ«æ˜¯ï¼š RTMP:ffmpeg -re -i test2.mp4 -vcodec libx264 -acodec aac -f flv rtmp:&#x2F;&#x2F;localhost:1935&#x2F;rtmplive&#x2F;rtmp ä½¿ç”¨ VLC æ‰“å¼€ rtmp:&#x2F;&#x2F;localhost:1935&#x2F;rtmplive&#x2F;rtmp ç›´æ’­æˆåŠŸâˆš hls:ffmpeg -re -i test2.mp4 -vcodec libx264 -acodec aac -f flv rtmp:&#x2F;&#x2F;localhost:1935&#x2F;hls&#x2F;stream safaræ‰“å¼€ http://localhost:8080/hls/stream.m3u8 ç›´æ’­æˆåŠŸâˆš é’æ£®Â·å¼˜å‰ï¼š","tags":[{"name":"ç›´æ’­","slug":"ç›´æ’­","permalink":"http://yoursite.com/tags/%E7%9B%B4%E6%92%AD/"},{"name":"HLS","slug":"HLS","permalink":"http://yoursite.com/tags/HLS/"},{"name":"RTMP","slug":"RTMP","permalink":"http://yoursite.com/tags/RTMP/"}]},{"title":"å…³äºRNé¡¹ç›®å‡çº§(-)","date":"2018-04-27T17:03:14.008Z","path":"2018/04/28/å…³äºRNé¡¹ç›®å‡çº§(-)/","text":"è¯´é“RNï¼Œä¾ç¨€è®°å¾—å»å¹´åˆšæ¥æ—¶æ¥è§¦çš„æ—¶å€™è¿˜æ˜¯0.38ã€‚ä¹‹åå…¬å¸è¦æAppï¼Œé€‰äº†ä¸€ä¸ªä¸æ–°ä¸æ—§çš„ç‰ˆæœ¬0.44.3ã€‚å†åˆ°ä¹‹åä¸ºäº†åšä¸€ä¸ªæ»¤é•œçš„æ•ˆæœï¼Œä¾èµ–äºgl-reactå’Œgl-react-nativeè¿™ä¸ªåº“ã€‚ä¸ºäº†è¿½ç©¶æ›´å¥½çš„ä½“éªŒå’Œå…¼å®¹Androidæœºï¼Œå°†ç‰ˆæœ¬å‡çº§æˆäº†0.46.4ã€‚ç¦»èŒä¹‹åæœ€è¿‘ä¸€ç›´åœ¨çœ‹webï¼Œæ²¡æ€ä¹ˆçœ‹RNè¿™å—ã€‚æ²¡æƒ³åˆ°ç°åœ¨RNå·²ç»æ›´æ–°åˆ°äº†0.55.3ã€‚ï¼ˆFBå›¢é˜Ÿæ˜¯çœŸçš„å‹¤å¿«ï¼‰,ä¸»è¦æ˜¯é—²çš„è›‹ç–¼ã€‚æŠŠè‡ªå·±çš„ä¸€ä¸ªä¸ªäººå°é¡¹ç›®å‡çº§äº†ä¸€æ³¢ã€‚é¡ºä¾¿æ€»ç»“ä¸€ä¸‹è¿™ä¸€å¹´RN ç»„ä»¶å’ŒAPIçš„å˜åŒ–ä»¥åŠå‡çº§æ–¹æ³•ã€‚ ç»„ä»¶ä¸Šçš„å˜åŒ–ï¼šæ–°å¢äº†ï¼šImageBackgroundï¼ˆèƒŒæ™¯å›¾ç‰‡ç»„ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®¹å™¨ç»„ä»¶ã€‚å½“ç„¶æœ‰äº†å®ƒï¼Œä¹Ÿå°±ä¸æ”¯æŒImageç›´æ¥åŒ…è£¹çš„å½¢å¼ï¼‰ã€FlatListã€SectionListã€VirtualizedListï¼ˆFlatListã€SectionListçš„åº•å±‚å®ç°ï¼‰ã€SwipeableFlatListï¼ˆç±»ä¼¼äºioså¤‡å¿˜å½•ä»å³å¾€å·¦åˆ’å‡ºç°çš„æ•ˆæœï¼Œå¸¦æ»‘åŠ¨æ˜¾ç¤ºæ›´å¤šèœå•çš„FlatListç»„ä»¶ï¼‰ã€MaskedViewIOSï¼ˆå¯ä»¥ä¸ºç»„ä»¶æ·»åŠ ä¸€ä¸ªé€æ˜çš„é®ç½©ï¼‰ä»¥åŠä¸ºäº†é€‚é…ipXï¼Œ0.50å‡ºç°çš„SafeAreaViewã€‚ æ–°å¢çš„Apiï¼šè‡ªèº«ä½¿ç”¨ä¸Šï¼Œä¸»è¦ç”¨äº†AccessibilityInfoï¼ˆåˆ¤æ–­å±å¹•é˜…è¯»å™¨æ˜¯å¦å¤„äºæ¿€æ´»çŠ¶æ€ï¼‰ä»¥åŠDeviceInfoï¼ˆä¸€ä¸ªç±»ä¸“é—¨æä¾›å±å¹•å°ºå¯¸ï¼Œå­—ä½“ç¼©æ”¾ç­‰ä¿¡æ¯ï¼‰ã€‚YellowBoxï¼ˆå¯ä»¥å±è”½æŒ‡å®šçš„è­¦å‘Šï¼Œè¿™ä¸ªå…¶å®ä¹Ÿå¾ˆå¥½ç”¨ï¼Œ0.44ç‰ˆæœ¬æä¾›çš„ã€‚åœ¨å…¬å¸é¡¹ç›®ä¸­ç”±äºä½¿ç”¨äº†code pushã€‚ä½†æ˜¯åœ¨å¼€å‘ç¯å¢ƒæ²¡æœ‰é…ç½®keyã€‚æ¯æ¬¡åˆ·æ–°éƒ½ä¼šå¼¹é”™ï¼Œæœ‰äº†å®ƒå°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚å½“ç„¶æ›´å¥½çš„åŠæ³•å°±æ˜¯åœ¨devç¯å¢ƒé…ä¸ªkeyï¼‰BackAndroidä¹Ÿè¢«BackHandleræ‰€æ›¿æ¢ã€‚åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šåšäº†åŠ å¼ºå’Œè¡¥å……ã€‚ å…¶ä»–ï¼š View.propTypes -&gt; ViewPropTypes takeSnapshot:ä» UIManager ç§»åŠ¨åˆ° ReactNative(æˆªå›¾çš„è¯ï¼Œç–¯ç‹‚å®‰åˆ©ï¼šreact-native-view-shot) react-navigation ä»£æ›¿ Navigatorã€NavigationExperimentalã€‚ï¼ˆå‰ä¸€é˜µå°è¯•äº†ä¸€ä¸‹ react-native-router-flux ä½“éªŒä¹Ÿä¸é”™ï¼‰ æ€ä¹ˆå‡çº§RNä¸€å‘¨ä¸€ä¸ªç‰ˆæœ¬ï¼Œå°ç‰ˆæœ¬ä¹‹å‰æœ‰æ—¶å€™éƒ½è·¨åº¦å¾ˆå¤§ã€‚æ›´åˆ«æå¤§ç‰ˆæœ¬0.4x-&gt;0.5xè¿™ç§äº†ã€‚å‡çº§æ–¹å¼æœ‰ä¸¤ç§ï¼š ä½¿ç”¨react-native-git-upgrade æ‰‹åŠ¨shengji æˆ‘è¿™è¾¹æ¯”è¾ƒå€¾å‘æ‰‹åŠ¨å‡çº§ï¼Œèƒ½å‡å°‘å¾ˆå¤šä¸å¿…è¦çš„éº»çƒ¦ã€‚ä½¿ç”¨å‰è€…æ˜¯é€šè¿‡gitè‡ªåŠ¨åˆå¹¶æ›´æ–°ã€‚ç‰ˆæœ¬è·¨åº¦è¾ƒå¤§çš„æ—¶å€™åœ¨nativeå±‚å„ç§å†²çªï¼Œè·Ÿå¤´ç—›çš„ä¸€ä»¶äº‹ã€‚æ‰‹åŠ¨å‡çº§è¿™é‡Œå°±ç®€å•å¾ˆå¤šã€‚å¯ä»¥åˆå§‹åŒ–ä¸€ä¸ªæœ€æ–°çš„rné¡¹ç›®ï¼Œä¹‹åå¯¹æ¯”è€é¡¹ç›®çš„ä»¥æ¥æ–‡ä»¶ï¼Œè¿›è¡Œç‰ˆæœ¬æ”¹å˜ã€‚ç„¶ååˆ é™¤node_modules &amp;&amp; npm i.(å½“ç„¶è¿™é‡Œè¦æ³¨æ„çš„å°±æ˜¯ ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“&#x2F;ç»„ä»¶ï¼Œä¸€å®šè¦ä¸€ä¸ªä¸€ä¸ªå»æ£€ç´¢ä¸åŒç‰ˆæœ¬RNå¯¹åº”çš„ç‰ˆæœ¬)ã€‚ é™¤äº†è¿™äº›ä¹‹å¤–å°±æ˜¯ï¼š Navigator -&gt; react-navigation BackAndroid -&gt; BackHandler PropTypes -&gt; prop-types(React16å¼€å§‹PropTypesè¢«è¿ç§»åˆ°äº†prop-typesé‡Œï¼Œéœ€è¦å¦è¡Œå®‰è£…å’Œå¼•ç”¨) è®¿é—®ä¿®é¥°ç¬¦protected -&gt; public Viewã€‚propTypes -&gt; ViewPropTypes codePushã€‚éœ€è¦åœ¨package.jsonä¸­ç§»é™¤ä¾èµ–ä¹‹åé‡æ–°npm iå®‰è£… æ‚æ¢äº†æ–°çš„2017 mac pro ç¼–è¯‘é€Ÿåº¦ç›¸æ¯”ä¹‹å‰çš„15ç‰ˆå¿«äº†å¾ˆå¤šã€‚13kå¤§æ´‹ä¸æ˜¯ç™½èŠ±çš„ ç”¨äº†æ–°ç”µè„‘ï¼Œåœ¨æ„å»ºrnç¨‹åºçš„æ—¶å€™é‡åˆ°äº†è¿™ä¸ªé”™è¯¯ï¼š æŸ¥äº†å¥½åŠå¤©åŸå› ï¼ŒåŸæ¥æ˜¯æ–°ç”µè„‘æ²¡æœ‰è£…watchman 1brew install watchman å°±å¥½ã€‚","tags":[{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"}]},{"title":"ä»é›¶é…ç½®Webpack4.0æ­å»ºä¸€ä¸ªReactå·¥ç¨‹","date":"2018-04-09T08:44:58.000Z","path":"2018/04/09/ä»é›¶é…ç½®Webpack4.0æ­å»ºä¸€ä¸ªReactå·¥ç¨‹/","text":"æœ€è¿‘ä¸€ç›´å¤§éƒ¨åˆ†ç²¾åŠ›éƒ½åœ¨æAppä»¥åŠNodeã€‚å‰ç«¯è¿™å—ä½œä¸ºåˆå¿ƒï¼Œè¿˜æ˜¯ä¸èƒ½è½ä¸‹ã€‚è¿™é‡Œä¸ç”¨cliã€‚ä¸€æ­¥ä¸€æ­¥è®°å½•ä»é›¶é…ç½®Webpackï¼Œæ¥æ­å»ºèµ·Reacté¡¹ç›®ã€‚å¤ä¹ ä¸€ä¸‹Webpackçš„é…ç½®ã€‚ä»¥åŠä¸€äº›å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸€äº›æ€è€ƒ å‰æ®µå·¥ç¨‹åŒ–æ€è€ƒè¯´é“å‰ç«¯å·¥ç¨‹åŒ–ï¼Œæœ€é‡è¦çš„ä¸€ä¸ªç›®çš„å°±æ˜¯ï¼šè§£æ”¾ç”Ÿäº§åŠ›ã€‚å¯¹æºä»£ç è¿›è¡Œé¢„å¤„ç†ã€è‡ªåŠ¨æ‰“åŒ…&#x2F;è‡ªåŠ¨æ›´æ–°é¡µé¢æ˜¾ç¤ºã€å»å¤„ç†å›¾ç‰‡ä¾èµ–å’Œæ­£å¼ç¯å¢ƒç»Ÿä¸€è¿™å‡ ç‚¹åœ¨å¼€å‘ä¸­æå¤§æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚åœ¨æ­å»ºèµ·é¡¹ç›®å·¥ç¨‹ä¹‹åå¼€å‘äººå‘˜åªéœ€è¦å…³æ³¨ä¸šåŠ¡&#x2F;ä»£ç å³å¯ã€‚ç¬¬äºŒç‚¹å°±æ˜¯ä¿è¯é¡¹ç›®è´¨é‡ï¼Œåœ¨å¤šäººåä½œï¼Œä¸åŒç¯å¢ƒä¸‹å¼€å‘ã€‚é€šè¿‡code lintç­‰çº¦æŸä»¥åŠgit commité¢„å¤„ç†ä¿è¯ä»£ç é£æ ¼çš„ä¸€è‡´ç»Ÿä¸€ï¼Œè¿™ä¸€ç‚¹å¯¹åç»­çš„ä»£ç ç»´æŠ¤å¾ˆé‡è¦ã€‚ç¬¬ä¸‰å°±æ˜¯ä¼˜åŒ–ã€‚é€šè¿‡å‰ç«¯å·¥ç¨‹åŒ–ã€è‡ªåŠ¨åŒ–å»åˆç†çš„å‹ç¼©åˆå¹¶èµ„æºæ–‡ä»¶ã€‚è¿™äº›å¤§éƒ¨åˆ†æ°å·§webpackå¸®æˆ‘ä»¬å®Œæˆäº†ã€‚åœ¨vueå’Œreactå¼€å‘ä¸­ï¼Œé€šè¿‡è„šæ‰‹æ¶å·¥å…·ï¼Œç”Ÿæˆé¡¹ç›®ä¹‹åï¼Œåªè¦runä¸€ä¸‹é¡¹ç›®å°±è·‘èµ·æ¥äº†ã€‚ç„¶è€Œcliç»™æˆ‘ä»¬æä¾›çš„åªæ˜¯ä¸€ä¸ªæ³›æ¨¡æ¿ã€‚ç„¶è€Œæˆ‘ä»¬æƒ³è¦å»å®šåˆ¶å®ƒã€ä¿®æ”¹å®ƒã€‚å°±éœ€è¦æ·±å…¥äº†è§£å®ƒï¼ŒçŸ¥é“ä»–æ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„ã€‚æˆ‘æƒ³è€ƒè™‘çš„å‰ç«¯å·¥ç¨‹åŒ–ï¼Œè¿™æ˜¯æ¯ä¸€ä¸ªå‰ç«¯erç»•ä¸å¼€çš„è¯é¢˜ã€‚å‘è¶Šæ—©å¼€è¶Šå¥½&gt;_&lt; WebpackåŸºç¡€é…ç½®è¿™é‡Œé¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®webpackå·¥ç¨‹æ¶æ„çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿâ€“ loaderæœºåˆ¶ ï¼ˆä¸åŒloaderå»å¤„ç†ä¸åŒçš„æ–‡ä»¶ã€‚ç”šè‡³ä½ å¯ä»¥è‡ªå·±åˆ›é€ ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä½œå‡ºå¯¹åº”çš„loaderæ¥å¤„ç†å®ƒï¼‰ é¦–å…ˆ æˆ‘ä»¬npm initåˆ›å»ºä¸€ä¸ªé¡¹ç›®ã€‚æ¥ä¸‹æ¥å®‰è£…åˆå§‹åŒ–éœ€è¦çš„ä¾èµ–ï¼š 1234npm i react --savenpm i react-dom --savenpm i webpack --savenpm i webpack-cli --save æœ€åŸºæœ¬çš„ä¾èµ–åŒ…å®‰è£…å®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºWebAppçš„å…¥å£æ–‡ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªsrcæ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºä¸¤ä¸ªç©ºæ–‡ä»¶app.js(ä½œä¸ºå…¥å£æ–‡ä»¶) ä»¥åŠApp.jsxï¼ˆå£°æ˜æˆ‘ä»¬appé¡µé¢ä¸Šçš„å†…å®¹ï¼‰ã€‚æœ‰äº†å…¥å£æ–‡ä»¶ï¼Œå°±å¯ä»¥è¿›è¡ŒWebpackçš„åŸºæœ¬é…ç½®ã€‚è¿™é‡Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºbuildæ–‡ä»¶å¤¹åœ¨ä¸‹é¢webpack.config.jsé‡Œè¿›è¡Œé…ç½®ï¼š 12345678910111213const path = require(&#x27;path&#x27;) // å¼•å…¥â€˜pathâ€™ï¼Œä¸ºäº†åœ¨è¿™é‡Œä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œé¿å…ç›¸å¯¹è·¯å¾„åœ¨ä¸åŒç³»ç»Ÿæ—¶å‡ºç°ä¸å¿…è¦çš„é—®é¢˜module.exports =&#123; // åº”ç”¨å…¥å£ entry: &#123; app: path.join(__dirname, &#x27;../src/app.js&#x27;) // app.jsä½œä¸ºæ‰“åŒ…çš„å…¥å£ &#125;, // è¾“å‡ºç›®å½• output: &#123; filename: &#x27;[name].[hash].js&#x27;, //nameä»£è¡¨entryå¯¹åº”çš„åå­—; hashä»£è¡¨ æ•´ä¸ªappæ‰“åŒ…å®Œæˆåæ ¹æ®å†…å®¹åŠ ä¸Šhashã€‚ä¸€æ—¦æ•´ä¸ªæ–‡ä»¶å†…å®¹å˜æ›´ï¼Œhashå°±ä¼šå˜åŒ– path: path.join(__dirname, &#x27;../dist&#x27;), // æ‰“åŒ…å¥½ä¹‹åçš„è¾“å‡ºè·¯å¾„ publicPath: &#x27;/public&#x27; // é™æ€èµ„æºæ–‡ä»¶å¼•ç”¨æ—¶çš„è·¯å¾„ï¼ˆåŠ åœ¨å¼•ç”¨é™æ€èµ„æºå‰é¢çš„ï¼‰ &#125; æœ‰äº†å…¥å£å’Œè¾“å‡ºã€‚æˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨webpackäº†ã€‚è¿™é‡Œåœ¨app.jséšä¾¿å†™ä¸€æ®µç®€å•çš„jsä»£ç æ‰§è¡Œï¼š 1webpack --config build/webpack.config.js --mode development ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬æŠŠè¿™æ®µä»£ç åŠ åˆ°scripté‡Œï¼š 1&quot;build&quot;: &quot;webpack --mode development --config build/webpack.config.js&quot; ï¼ˆWebpack4 ä¸æ·»åŠ modeï¼Œä¼šæœ‰ï¼šThe â€˜modeâ€™ option has not been set. Set â€˜modeâ€™ option to â€˜developmentâ€™ or â€˜productionâ€™ to enable defaults for this environment.è­¦å‘Šã€‚å¯¹åº”optionï¼šdevelopment or productionï¼‰ å°±ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¤šå‡ºä¸€ä¸ªdistæ–‡ä»¶å¤¹ã€‚é‡Œé¢å°±æ˜¯å‹ç¼©æ‰“åŒ…å¥½çš„ä»£ç  Webpack LoaderåŸºç¡€æˆ‘ä»¬è¦å¤„ç†.jsxä»¥åŠ.jsæ–‡ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦åœ¨ä¸Šé¢çš„webpack.config.jsåŠ å…¥æ–°é…ç½® 12345678910111213141516// é…ç½®loadermodule: &#123; rules: [ &#123; test: /.jsx$/, //ä½¿ç”¨loaderçš„ç›®æ ‡æ–‡ä»¶ã€‚è¿™é‡Œæ˜¯.jsx loader: &#x27;babel-loader&#x27; &#125;, &#123; test: /.(js)$/, //ä½¿ç”¨loaderçš„ç›®æ ‡æ–‡ä»¶ã€‚è¿™é‡Œæ˜¯.js loader: &#x27;babel-loader&#x27;, exclude: [ path.join(__dirname, &#x27;../node_modules&#x27;) // ç”±äºnode_moduleséƒ½æ˜¯ç¼–è¯‘è¿‡çš„æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸è®©babelå»å¤„ç†å…¶ä¸‹é¢çš„jsæ–‡ä»¶ ] &#125; ]&#125; è¿™é‡Œæˆ‘ä»¬ç”¨babel-loaderå¤„ç†jsxæ–‡ä»¶ã€‚å…‰åœ¨è¿™é‡Œé…ç½®ä¸æƒ³æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€äº›ä¾èµ–babel-loaderä»¥åŠbabel-core(è¿™æ˜¯babelçš„æ ¸å¿ƒå¤„ç†ä»£ç )ã€‚æœ‰äº†è¿™äº›æˆ‘ä»¬åœ¨app.jså’ŒAppã€‚jsxå†™ä¸€ä¸ªæœ€ç®€å•çš„reactä»£ç ï¼š 123456789101112131415161718//app.jsimport React from &#x27;react&#x27;import ReactDOM from &#x27;react-dom&#x27;import App from &#x27;./App.jsx&#x27;ReactDOM.render(&lt;App /&gt;, document.body)//App.jsximport React from &#x27;react&#x27;export default class App extends React.Component &#123; render () &#123; return ( &lt;div&gt;this is app&lt;/div&gt; ) &#125;&#125; æ‰§è¡Œä¸€ä¸‹npm run buildï¼Œå‘ç°æŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰è¿›è¡Œbabelçš„é…ç½®ã€‚åœ¨æ ¹ç›®å½•åŠ ä¸Šä¸€ä¸ª.babelrcçš„æ–‡ä»¶ 123456&#123; &quot;presets&quot;: [ [&quot;es2015&quot;, &#123;&quot;loose&quot;: true&#125;], &quot;react&quot; ]&#125; å¹¶å®‰è£…ç›¸å…³ä¾èµ–ï¼šbabel-preset-es2015ã€babel-preset-es2015-looseï¼ˆè¿™ä¸ªæ˜¯å®½æ¾æ¨¡å¼ï¼‰ã€babel-preset-reactã€‚ å†æ¬¡buildï¼Œdistæ–‡ä»¶å¤¹å°±ä¼šå‡ºç°æ–°æ‰“åŒ…çš„jsæ–‡ä»¶å’¯ ç”Ÿæˆä¸€ä¸ªHTMLè¿™é‡Œæˆ‘ä»¬æƒ³è¦åœ¨distæ–‡ä»¶å¤¹ç”Ÿæˆä¸€ä¸ªhtmlé¡µé¢å»æŸ¥çœ‹ æˆ‘ä»¬å¤„ç†è¿‡åçš„jsä»£ç å¯ä¸å¯ä»¥ç”¨ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©â€™html-webpack-pluginâ€™è¿™ä¸ªplugin 1npm i html-webpack-plugin -D åœ¨webpack.config.jsé‡Œæ·»åŠ  1const HTMLPlugin = require(&#x27;html-webpack-plugin&#x27;) ä»¥åŠåº•éƒ¨è¿½åŠ ï¼š 1234plugins: [ new HTMLPlugin() // ç”Ÿæˆä¸€ä¸ªhtmlé¡µé¢ï¼ŒåŒæ—¶åœ¨webpackç¼–è¯‘çš„æ—¶å€™ã€‚æŠŠæˆ‘ä»¬æ‰€ç”Ÿæˆçš„entryéƒ½æ³¨å…¥åˆ°è¿™ä¸ªhtmlé¡µé¢ä¸­,è·¯å¾„éƒ½æ˜¯æ ¹æ®æˆ‘ä»¬outputé…ç½®çš„æ¥èµ°çš„ã€‚] å¦å¤–ä¸è¦å¿˜äº† å°†outputé…ç½®ä¸­çš„publicPathè®¾ä¸ºç©ºï¼Œä¾¿äºæˆ‘ä»¬æµ‹è¯•ã€‚ ä¸Šé¢æ­¥éª¤èµ°å®Œï¼Œæˆ‘ä»¬åœ¨buildä¸€ä¸‹ï¼Œå‘ç°distæ–‡ä»¶å¤¹ä¸­å¤šå‡ºæ¥äº†ä¸€ä¸ªindex.htmlæ–‡ä»¶ã€‚ æ‰“å¼€æµ‹è¯•ä¸€ä¸‹ã€‚å‘ç°æˆ‘ä»¬çš„chromeä¸Šå‡ºç°äº†â€œthis is appâ€çš„å­—æ · ~æå®šï¼ ReactæœåŠ¡ç«¯æ¸²æŸ“é…ç½®ç°åœ¨å•é¡µé¢åº”ç”¨å¤§è¡Œå…¶é“çš„å¹´ä»£ï¼Œä¸ºäº†è§£å†³SEOä¸å‹å¥½ä»¥åŠé¦–å±è¿‡é•¿çš„çº¹ç†ã€‚æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ä¹Ÿæ˜¯ç»•ä¸å¼€çš„ã€‚react-domæ˜¯reactä¸“ä¾›webç«¯å¼€å‘æ¸²æŸ“çš„å·¥å…·ã€‚è€ŒæœåŠ¡ç«¯æ²¡æœ‰window&#x2F;documentç­‰å±æ€§ï¼šReactDOM.render(, document.body)è¿™å¥æ˜¯ç”¨ä¸äº†çš„ã€‚ ä¸‹é¢å°±æ¥è¯´è¯´nodeæœåŠ¡ç«¯æ‰§è¡Œç¯å¢ƒä»£ç åœ¨webpackä¸‹æ€ä¹ˆæå®šï¼šé¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨srcç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªserveræ¸²æŸ“çš„å…¥å£ 123456//server-entry.jsimport React from &#x27;react&#x27;import App from &#x27;./App.jsx&#x27;export default &lt;App /&gt; ä¹‹ååœ¨buildä¸­åœ¨åŒºåˆ«å¼€webç«¯çš„webpacké…ç½®ï¼Œå¦å¤–åˆ›å»ºä¸€ä¸ªæ–°çš„é…ç½®æ–‡ä»¶æš‚ä¸”å«ï¼šwebpack.config.server.jså¤§éƒ¨åˆ†å†…å®¹éƒ½å’Œwebç«¯çš„é…ç½®ä¸€æ ·ï¼š 1234567891011121314151617181920212223242526272829303132const path = require(&#x27;path&#x27;) // å¼•å…¥â€˜pathâ€™ï¼Œä¸ºäº†åœ¨è¿™é‡Œä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œé¿å…ç›¸å¯¹è·¯å¾„åœ¨ä¸åŒç³»ç»Ÿæ—¶å‡ºç°ä¸å¿…è¦çš„é—®é¢˜module.exports =&#123; target: &#x27;node&#x27;, //webpackæ‰“åŒ…å‡ºæ¥çš„å†…å®¹ä½¿ç”¨åœ¨ä»€ä¹ˆç¯å¢ƒä¸‹ // åº”ç”¨å…¥å£ entry: &#123; app: path.join(__dirname, &#x27;../src/server-entry.js&#x27;) // app.jsä½œä¸ºæ‰“åŒ…çš„å…¥å£ &#125;, // è¾“å‡ºç›®å½• output: &#123; filename: &#x27;server-entry.js&#x27;, // nodeç«¯æ²¡æœ‰æµè§ˆå™¨ç¼“å­˜è¿™ä¸ªæ¦‚å¿µï¼Œå¹¶ä¸”éœ€è¦åœ¨nodeä¸­ç›´æ¥importè¿™ä¸ªæ–‡ä»¶ã€‚æ•…ç›´æ¥å‘½åå°±å¥½ path: path.join(__dirname, &#x27;../dist&#x27;), // æ‰“åŒ…å¥½ä¹‹åçš„è¾“å‡ºè·¯å¾„ publicPath: &#x27;&#x27;, libraryTarget: &#x27;commonjs2&#x27; // æ‰“åŒ…å‡ºæ¥jsæ¨¡å—æ‰€ä½¿ç”¨çš„æ–¹æ¡ˆï¼ˆumdã€amdã€cmdã€commonJSï¼‰è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨commonjs2ï¼Œé€‚ç”¨äºnodeç«¯ &#125;, // é…ç½®loader module: &#123; rules: [ &#123; test: /.(jsx)$/, //ä½¿ç”¨loaderçš„ç›®æ ‡æ–‡ä»¶ã€‚è¿™é‡Œæ˜¯.jsx loader: &#x27;babel-loader&#x27; &#125;, &#123; test: /.(js)$/, //ä½¿ç”¨loaderçš„ç›®æ ‡æ–‡ä»¶ã€‚è¿™é‡Œæ˜¯.js loader: &#x27;babel-loader&#x27;, exclude: [ path.join(__dirname, &#x27;../node_modules&#x27;) // ç”±äºnode_moduleséƒ½æ˜¯ç¼–è¯‘è¿‡çš„æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸è®©babelå»å¤„ç†å…¶ä¸‹é¢çš„jsæ–‡ä»¶ ] &#125; ] &#125;&#125; å€¼å¾—æ³¨æ„çš„å°±æ˜¯æˆ‘ä»¬éœ€è¦åŠ ä¸Štargetå’Œoutputä¸­libraryTargetè¿™ä¸¤ä¸ªé…ç½®ã€‚ä¹‹åæ”¹ä¸€ä¸‹æˆ‘ä»¬çš„npm scriptï¼š 1234&quot;build:web&quot;: &quot;webpack --mode development --config build/webpack.config.js&quot;,&quot;build:server&quot;: &quot;webpack --mode development --config build/webpack.config.server.js&quot;,&quot;clear&quot;: &quot;rimraf dist&quot;,&quot;build&quot;: &quot;npm run clear &amp;&amp; npm run build:web &amp;&amp; npm run build:server&quot; (rimrafæ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨åˆ é™¤æ–‡ä»¶å¤¹çš„åº“ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨rmçš„æ–¹å¼) 1npm run build èµ°ä¸€æ³¢ã€‚å‘ç°distå¤šå‡ºäº†server-entry.jsè¿™ä¸ªæ‰“åŒ…å¥½çš„æ–‡ä»¶ã€‚æ‰“å¼€ç§‹ä¸€çœ¼ï¼Œæœ‰åˆ«äºwebæ‰“åŒ…ï¼ˆæ˜¯ä¸€ä¸ªè‡ªæ‰§è¡Œçš„æ–¹æ³•ï¼‰ã€‚å·²ç»å˜æˆäº†nodeæ¨¡å—å¯¼å‡ºçš„æ–¹å¼å’¯ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨expressæ­å»ºä¸€ä¸ªæœåŠ¡ï¼Œçœ‹çœ‹æ˜¯å¦æˆåŠŸï¼š 12345678910111213const express =require(&#x27;express&#x27;)const ReactSSR = require(&#x27;react-dom/server&#x27;)const serverEntry = require(&#x27;../dist/server-entry&#x27;).defaultconst app = express()app.get(&#x27;*&#x27;, (req, res) =&gt; &#123; const appStr = ReactSSR.renderToString(serverEntry) res.send(appStr)&#125;)app.listen(2333, () =&gt; &#123; console.log(&#x27;server is listening on 2333&#x27;)&#125;) react SSRè¿™å—ä¸æ˜¯è¿™ç¯‡blogçš„é‡ç‚¹å°±ä¸ç»†è¯´ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ã€‚æˆ‘ä»¬çš„server-entryæ˜¯é€šè¿‡export defaultå¯¼å‡ºçš„ä¸importé…å¥—ã€‚åœ¨nodeä¸­ç”¨requireçš„æ–¹å¼éœ€è¦require(â€˜..&#x2F;dist&#x2F;server-entryâ€™).defaultä¸€ä¸‹è¿™ä¸€å—çš„çŸ¥è¯†ç‚¹å¯ä»¥çœ‹é˜®ä¸€å³°è€å¸ˆå†™çš„åšæ–‡ å¯åŠ¨æœåŠ¡å™¨ï¼š chromeä¸Šå‡ºç°ï¼šthis is app æå®šï¼ æ·»åŠ htmlæ¨¡æ¿ç„¶è€Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œæˆ‘ä»¬é€šè¿‡æœåŠ¡ç«¯æ¸²æŸ“å‡ºæ¥çš„åªæ˜¯ï¼šæ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼ŒäºŒæ¥ï¼Œä¹‹å‰æˆ‘ä»¬å°†ç›´æ¥æŒ‚åœ¨åœ¨bodyä¸Šå…¶å®ä¹Ÿæ˜¯ä¸å¯¹çš„ã€‚è¿™é‡Œæˆ‘ä»¬è¿«åˆ‡éœ€è¦ä¸€ä¸ªhtmlæ¨¡æ¿ã€‚åœ¨srcä¸‹åˆ›å»ºä¸€ä¸ªtemplate.htmlæ–‡ä»¶ï¼š 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;root&quot;&gt;&lt;!--app--&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; æ›´æ”¹webpack.config.jsé…ç½®ï¼Œåœ¨HTMLPluginä¸­æ·»åŠ é€‰é¡¹ï¼š 123new HTMLPlugin(&#123; template: path.join(__dirname, &#x27;../src/template.html&#x27;) // ä»¥template.htmlä½œä¸ºæ¨¡æ¿æ–‡ä»¶ç”Ÿæˆhtml&#125;) å› ä¸ºç‰µæ‰¯é™æ€æ–‡ä»¶ã€‚webç«¯å’Œwerverç«¯webpackçš„é…ç½®ï¼šè¾“å‡ºç›®å½•ä¸­çš„publicPath: â€˜publicâ€™ å½“ç„¶app.jsä¸­å°±éœ€è¦æŒ‚è½½åœ¨rootèŠ‚ç‚¹ä¸Šäº†ã€‚ReactDOM.render(, document.getElementById(â€˜rootâ€™)) è¯´å®Œwebç«¯ï¼Œå†ææœåŠ¡ç«¯ã€‚åœ¨server.jsä¸­æ”¹ä¸ºï¼š 1234567891011121314151617181920const express =require(&#x27;express&#x27;)const fs = require(&#x27;fs&#x27;)const ReactSSR = require(&#x27;react-dom/server&#x27;)const serverEntry = require(&#x27;../dist/server-entry&#x27;).defaultconst path = require(&#x27;path&#x27;)const tplPath = path.join(__dirname, &#x27;../dist/index.html&#x27;)const template = fs.readFileSync(tplPath, &#x27;utf8&#x27;) // ä¸æŒ‡å®šutf-8,é»˜è®¤æ˜¯bufferconst app = express()app.use(&#x27;/public&#x27;, express.static(path.join(__dirname, &#x27;../dist&#x27;))) //é™æ€æ–‡ä»¶æŒ‡å®šè¯·æ±‚è¿”å›app.get(&#x27;*&#x27;, (req, res) =&gt; &#123; const appStr = ReactSSR.renderToString(serverEntry) res.send(template.replace(&#x27;&lt;!--app--&gt;&#x27;, appStr))&#125;)app.listen(2333, () =&gt; &#123; console.log(&#x27;server is listening on 2333&#x27;)&#125;) å› ä¸ºæ”¹äº†ä¹‹å‰çš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°buildä¸€ä¸‹å†å¯åŠ¨æœåŠ¡ 1npm run build &amp;&amp; node server/server.js è¿™å°±å‡ºæ¥äº† æœ€å ï¼šå‘Šè¯‰æˆ‘ä»¬æœåŠ¡ç«¯æ¸²æŸ“ï¼Œéœ€è¦ç”¨è¿™ä¸ªreact16æ–°åŠ çš„è¿™ä¸ªæ–¹æ³•ReactDOM.hydrate()å¤§æ¦‚æ„æ€å°±æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ReactDOM.hydrate()ï¼Œåœ¨webç«¯å»æ¸²æŸ“å†…å®¹ã€‚reactå›å»å¯¹æ¯”å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç”Ÿæˆçš„ä»£ç ä¹‹é—´çš„å·®åˆ«ã€‚å¦‚æœæœ‰å·®åˆ«ï¼Œä»–ä¼šç”¨å®¢æˆ·ç«¯çš„ä»£ç æ›¿æ¢æ‰æœåŠ¡ç«¯çš„ä»£ç ã€‚ 123456import React from &#x27;react&#x27;import ReactDOM from &#x27;react-dom&#x27;import App from &#x27;./App.jsx&#x27;ReactDOM.hydrate(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;)) å†èµ°ä¸€æ³¢å°±æ²¡æœ‰è­¦å‘Šäº†ã€‚ webpack-dev-serverwebpack dev serveræ˜¯ä¸€ä¸ªé€šè¿‡webpacké…ç½®å¯åŠ¨çš„server é…ç½®èµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚é¦–å…ˆï¼š 1npm i webpack-dev-server -D ä¹‹åéœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºå¼€å‘ç¯å¢ƒ 1const isDev = process.env.NODE_ENV === &#x27;development&#x27; å°†webpack.config.jsä¸­çš„moudle.exports,æ‹¿å‡ºæ¥ã€‚èµ‹å€¼ä¸ºconst configä¹‹åï¼š 12345678910111213141516171819if (isDev) &#123; config.devServer = &#123; host: &#x27;0.0.0.0&#x27;, // æˆ‘ä»¬å¯ä»¥å…è®¸æˆ‘ä»¬ç”¨ä»»æ„æ–¹å¼è¿›è¡Œè®¿é—®ï¼ˆ127.0.0.1ï¼Œlocalhost, æœ¬æœºipï¼‰ port: &#x27;8888&#x27;, contentBase: path.join(__dirname, &#x27;../dist&#x27;), // hot: true, //å¯åŠ¨çƒ­åŠ è½½ overlay: &#123; // é”™è¯¯æé†’å¼¹çª—å°é®å±‚ errors: true //åªæ˜¾ç¤ºerror &#125;, // å’Œoutputé…ç½®å¯¹åº”èµ·æ¥ publicPath: &#x27;/public&#x27;, // è®¿é—®æ‰€æœ‰é™æ€è·¯å¾„éƒ½è¦å‰é¢åŠ /publicæ‰èƒ½è®¿é—®ç”Ÿæˆçš„é™æ€æ–‡ä»¶ historyApiFallback: &#123; index: &#x27;/public/index.html&#x27; // æ‰€æœ‰404çš„è¯·æ±‚å…¨éƒ¨è®¿é—®è¯¥é…ç½®ä¸‹çš„url &#125; &#125;&#125;module.exports = config ä¹‹åå¯åŠ¨å¯ä»¥ä½¿ç”¨è¿™æ¡å‘½ä»¤ï¼š 1cross-env NODE_ENV=development webpack-dev-server --config build/webpack.config.js --mode development å…¶ä¸­cross-envä¹Ÿéœ€è¦å®‰è£…ã€‚è¿™é‡Œä»–æ˜¯ä¸ºäº†è§£å†³macä¸‹(*nix)å’Œwinç¯å¢ƒå˜é‡è®¾ç½®ä¸ä¸€è‡´è¿™ä¸ªé—®é¢˜ã€‚æ‰§è¡Œå®Œæ¯•ï¼Œhttp://localhost:8888/å°±å¯ä»¥ä½¿ç”¨äº† Webpack3 -&gt; Webpack4ä¸€äº›å˜åŒ–ä¸æ˜¯å¾ˆå…¨ï¼Œè‡ªå·±é…ç½®æ—¶å€™ç¢°åˆ°çš„ï¼Œä¸æ–­æ›´æ–°ä¸­Â·Â·Â· Webpack4ä¹‹åï¼Œå‘½ä»¤è¡Œå¯åŠ¨éƒ½æ‹†åˆ†å¼€æ¥æ”¾åˆ°äº†webpack-clié‡Œã€‚éœ€è¦å•ç‹¬å®‰è£… webpack4åŠ å…¥äº†modeè¿™ä¸ªoptionã€‚ä¸å†™ä¼šæœ‰è­¦å‘Šï¼ˆdevelopment&#x2F;productionï¼‰ 4é»˜è®¤åŠ äº†devtoolè¿™ä¸ªé€‰é¡¹ webpack3ä¸­webpack.optimize.CommonsChunkPluginåœ¨4é‡Œé¢è¢«åºŸå¼ƒæ‰äº†ï¼Œåœ¨configåŠ é…ç½®ï¼ŒåŸºæœ¬ç­‰åŒ12345678// node_modulesé‡Œçš„ä»£ç æ‰“åŒ…åˆ°vendoré‡Œoptimization: &#123; spliteChunk: &#123; chunks: &#x27;all&#x27; &#125;, runtimeChunk: true&#125; 4åºŸå¼ƒ123pluginsä¸­defaultPlugins.concat([ new webpack.NoEmitOnErrorsPlugin()])","tags":[{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"webpack","slug":"webpack","permalink":"http://yoursite.com/tags/webpack/"},{"name":"ReactSSR","slug":"ReactSSR","permalink":"http://yoursite.com/tags/ReactSSR/"}]},{"title":"nodeå›¾ç‰‡åˆæˆ","date":"2018-03-09T17:12:26.000Z","path":"2018/03/10/nodeå›¾ç‰‡åˆæˆ/","text":"æœ€è¿‘åœ¨å·¥ä½œä¸Šæœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯åœ¨server(node.js)ï¼Œå°†å‡ å¼ å›¾ç‰‡å’Œæ–‡å­—åˆæˆã€‚ ç»è¿‡googleä¸€ç•ªï¼Œå°è¯•äº†3ä¸ªåº“ï¼š node-imagesï¼š å›½äººå¼€å‘çš„ä¸€ä¸ªè½»é‡çº§ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…ä¾èµ–çš„å›¾ç‰‡å¤„ç†åº“ã€‚å¯ä»¥å®ç°å›¾ç‰‡å¤§å°ï¼Œåˆå¹¶ç­‰åŠŸèƒ½ã€‚æœ¬æ‰“ç®—ä½¿ç”¨å®ƒæ¥å®Œæˆéœ€æ±‚ã€‚ä¸è¿‡å·²ç»è¿‘ä¸€å¹´ä¸ç»´æŠ¤äº†ã€‚node 8.xç‰ˆæœ¬è·‘æ­¥èµ·æ¥ã€‚çœ‹äº†ä¸€ä¸‹issueï¼Œå‘ç°å„ä¸ªå¹³å°ã€ç³»ç»Ÿçš„å…¼å®¹æ€§å ªå¿§ã€‚è¿˜æ˜¯ä¸å»è¸©è¿™ä¸ªå‘äº†ã€‚å¦å¤–å…¶ä¹Ÿä¸æ”¯æŒæ–‡å­—å†™å…¥ã€‚ node-canvasï¼šåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œæœåˆ°ä¸å°‘Demoï¼Œæ²¡æœ‰åšæ·±å…¥è°ƒç ”ã€‚åº”è¯¥æ˜¯å¯ä»¥å®ç°éœ€æ±‚ã€‚ ç»ˆäºåˆ°äº†é‡ç‚¹ï¼šgmã€‚nodeJså¯¹GraphicsMagickå’ŒImageMagickçš„å°è£…ã€‚å›¾ç‰‡å¤„ç†çš„è€ç‰Œå·¥å…·ï¼ŒåŒ…å«å„ç§å„æ ·çš„åŠŸèƒ½ã€‚ç”±äºä¸¤ä¸ªå·¥å…·æœ¬èº«éƒ½ä¸æ˜¯jså®ç°ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–å®‰è£…ã€‚è¿™é‡Œå°±ä¸»è¦è¯´è¯´gmã€‚ installï¼šåœ¨å®‰è£…gmä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…GraphicsMagickå’ŒImageMagickmacè¿™é‡Œï¼š 12brew install imagemagickbrew install graphicsmagick linuxçš„è¯ï¼Œæ‹¿apt-getå®‰è£…å°±okã€‚ è¿™ä¸¤ä¸ªå®‰è£…å®Œæ¯•ä¹‹åã€‚åœ¨å·¥ç¨‹ç›®å½•ï¼š 1npm i gm --save å°±ok usageï¼šæˆ‘ä»¬ç°åœ¨æƒ³æŠŠå›¾ä¸€ï¼ˆtest.jpg)(600*600ï¼‰çš„å³ä¸‹è§’æ·»åŠ å›¾äºŒ(1.jpg)(140*140ï¼‰ï¼Œä½¿å…¶åˆæˆä¸€å¼ å›¾ã€‚è¿™é‡Œ æˆ‘ä»¬ä½¿ç”¨gmçš„drawæ–¹æ³•ã€‚ 1234567891011const gm = require(&#x27;gm&#x27;)gm(&#x27;./test.jpg&#x27;) .draw(&#x27;image Over 460, 460, 140, 140 &quot;./1.jpg&quot;&#x27;) .write(`./output/$&#123;Date.now()&#125;.jpg`, function(err) &#123; if (!err) &#123; console.log(&#x27;done&#x27;) &#125;else &#123; console.log(err.message || &quot;å‡ºé”™äº†ï¼&quot;); &#125; &#125;) è·‘ä¸€ä¸‹ç¨‹åºï¼Œoutputç›®å½•ä¸‹å°±å¤šå‡ºæ¥ä¸€å¼ åˆæˆçš„ç…§ç‰‡å’¯ã€‚å½“ç„¶gmè¿˜æœ‰å¾ˆå¤šç§åˆæˆç…§ç‰‡çš„æ–¹å¼ï¼šcompose&#x2F;mosaic&#x2F;append(apiæ–‡æ¡£è¯´çš„å¾ˆç»†è‡´è¿™é‡Œå°±ä¸å±•å¼€äº†) gmçš„APiæ–‡æ¡£åœ°å€æ˜¯ï¼šgm apiæ–‡æ¡£ å›¾ç‰‡å’Œå›¾ç‰‡åˆæˆå¾ˆç®€å•ä¹‹åæˆ‘ä»¬è¿˜æƒ³æ·»åŠ ä¸€æ®µæ–‡å­—,æŸ¥é˜…apiæˆ‘ä»¬å‘ç°æœ‰è¿™ä¸ªæ–¹æ³•ï¼šdrawText .drawText(x, y, text [, gravity]) å¦‚æœæ²¡æœ‰gravityå‚æ•°ï¼Œé‚£ä¹ˆå°±å°†textç»˜åˆ¶åˆ°å›¾ç‰‡ä¸­çš„(x,y)åæ ‡å¤„ã€‚å¦‚æœå¸¦æœ‰gravityå‚æ•°ï¼Œä»(x,y)åæ ‡å¼€å§‹åˆ°å³ä¸‹è§’æ„æˆçš„å›¾ç‰‡èŒƒå›´å†…ï¼Œä¾æ®gravityå«ä¹‰ç»˜åˆ¶æ–‡å­—ã€‚ gravityçš„é€‰é¡¹å¦‚ä¸‹ï¼š NorthWest, North, NorthEast, West, Center, East, SouthWest, South, or SouthEast 12345678910gm(&#x27;./test.jpg&#x27;) .draw(&#x27;image Over 460, 460, 140, 140 &quot;./1.jpg&quot;&#x27;) .drawText(100, 100, &#x27;wa~~~&#x27;) .write(`./output/$&#123;Date.now()&#125;.jpg`, function(err) &#123; if (!err) &#123; console.log(&#x27;done&#x27;) &#125;else &#123; console.log(err.message || &quot;å‡ºé”™äº†ï¼&quot;); &#125; &#125;) ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨å›¾ç‰‡ å·¦ä¸Šä¸ºï¼ˆ0ï¼Œ0ï¼‰ã€‚ï¼ˆ100ï¼Œ100ï¼‰çš„ä½ç½®æ·»åŠ wa~è·‘ä¸€ä¸‹è¿™æ˜¯æŠ¥äº†ä¸€ä¸ªé”™ï¼š 1Error: unable to read font `/usr/local/share/ghostscript/fonts/n019003l.pfb&#x27; @ error/annotate.c/RenderFreetype/1123: `(null)&#x27; è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰è£…ghostscript(ä¸€å¥—å»ºåŸºäºAdobeã€PostScriptåŠå¯ç§»æ¤æ–‡æ¡£æ ¼å¼ï¼ˆPDFï¼‰çš„é¡µé¢æè¿°è¯­è¨€ç­‰è€Œç¼–è¯‘æˆçš„å…è´¹è½¯ä»¶ã€‚) 1brew install ghostscript å®‰è£…å¥½äº†åœ¨æ‰§è¡Œå°±okäº†ã€‚é¡ºåŠ¿æˆ‘ä»¬å†è¯•è¯•ä¸­æ–‡ã€‚ 1.drawText(100, 100, &#x27;å“‡~~~&#x27;) ä¹±ç äº†ã€‚googleä¸€ä¸‹å‘ç°gmã€GraphicsMagickçš„ä½¿ç”¨ä¸­ï¼Œä¸­æ–‡ä¹±ç é—®é¢˜å±¡è§ä¸é²œã€‚è§£å†³æ–¹æ¡ˆæ€»ç»“èµ·æ¥å°±æ˜¯1ï¼‰utf-8ç¼–ç ï¼›2ï¼‰è¦æŒ‡å®šä¸­æ–‡å­—ä½“åº“ è¿™é‡Œæˆ‘ä»¬ä¸‹è½½äº†å¾®è½¯é›…é»‘çš„ttfæ–‡ä»¶ï¼Œæ”¾åœ¨æ ¹ç›®å½•çš„fontæ–‡ä»¶å¤¹ä¸‹.æˆ‘ä»¬å†æ·»åŠ ä¸€äº›å­—ä½“å±æ€§ï¼š 123456789101112gm(&#x27;./test.jpg&#x27;) .draw(&#x27;image Over 460, 460, 140, 140 &quot;./1.jpg&quot;&#x27;) .drawText(100, 100, &#x27;å“‡&#x27;) .fontSize(36) .fill(&#x27;#fff&#x27;) .font(&#x27;./font/å¾®è½¯é›…é»‘.ttf&#x27;) .write(`./output/$&#123;Date.now()&#125;.jpg`, function(err) &#123; if (!err) &#123;console.log(&#x27;done&#x27;)&#125;else&#123; console.log(err.message || &quot;å‡ºé”™äº†ï¼&quot;); &#125; &#125;) è¿™æ · ç™½çš„çš„36å·å­—çš„å“‡å°±å‡ºç°åœ¨äº†å›¾ç‰‡ä¸Šã€‚","tags":[{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"}]},{"title":"RN-CameraRoll","date":"2018-03-05T14:24:02.000Z","path":"2018/03/05/RN-CameraRoll/","text":"æœ€è¿‘APPæœ‰ä¸€ä¸ªä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦å°†APPä¸­webåŠ è½½å‡ºæ¥çš„å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°,ä¿å­˜è‡³æœ¬åœ°ç›¸å†Œã€‚å¾ˆæ–¹ä¾¿çš„æ˜¯RNä¸ºæˆ‘ä»¬æä¾›äº†CameraRollæ¨¡å—ï¼Œä»¥è·å¾—å»è®¿é—®æœ¬åœ°ç›¸å†Œï¼Œä»¥åŠå°†å›¾ç‰‡å­˜å‚¨è‡³ç›¸å†Œçš„åŠŸèƒ½ã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦ç”¨å°†å›¾ç‰‡å­˜å‚¨è¿™ä¸ªåŠŸèƒ½ã€‚è®¿é—®ç›¸å†Œçš„è¯ï¼Œç”±äºCameraRollæ²¡æœ‰æä¾›ç›¸å†ŒUIé¡µé¢ä»¥åŠè¯¸å¤šåŠŸèƒ½ã€‚è¦å®ç°é€‰å–å›¾ç‰‡çš„è¯è¿˜æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„react-native-image-crop-pickerå¾®å¦™ã€‚åŸºæœ¬æ²¡ä»€ä¹ˆå‘ CameraRollä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒIOSè¿™è¾¹éœ€è¦åœ¨info.plistä¸­æ·»åŠ NSPhotoLibraryUsageDescriptionï¼Œè®¿é—®ç›¸å†Œçš„æƒé™ã€‚ä»¥åŠåœ¨ä½¿ç”¨è¯¥æ¨¡å—å‰ä½ éœ€è¦å…ˆé“¾æ¥RCTCameraRollåº“(åœ¨node_modules&#x2F;react-native&#x2F;Libraries&#x2F;CameraRoll)å°†RCTCameraRollå·¥ç¨‹æ·»åŠ åˆ°å½“å‰å·¥ç¨‹çš„Librariesæ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åæŠŠibRCTCameraRoll.atåŠ åœ¨TARGETS-&gt;Build Phaese-&gt;Link Binary With Librariesé‡Œé¢CameraRollä¸»è¦æœ‰ä¸‰ä¸ªé™æ€æ–¹æ³•ä»¥ä¾›ä½¿ç”¨ã€‚1.static saveImageWithTag(tag) &#x2F;&#x2F;ä¿å­˜ä¸€ä¸ªå›¾ç‰‡åˆ°ç›¸å†Œ2.static saveToCameraRoll(tag, type?) &#x2F;&#x2F;æŠŠå›¾ç‰‡æˆ–è§†é¢‘ä¿å­˜åˆ°ç›¸å†Œä¸­3.static getPhotos(params: object) &#x2F;&#x2F;è¿”å›ä¸€ä¸ªå¸¦æœ‰å›¾ç‰‡æ ‡è¯†ç¬¦å¯¹è±¡çš„Promise è¯ä¸å¤šè¯´ï¼Œä¸Šä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144import React, &#123; Component &#125; from &#x27;react&#x27;import &#123; Text, View, Image, CameraRoll, StyleSheet, Dimensions, Alert, ScrollView, TouchableOpacity&#125; from &#x27;react-native&#x27;const fetchParams = &#123; first: 6, groupTypes: &#x27;All&#x27;, assetType: &#x27;Photos&#x27;&#125;const webImgUrl = `https://tva2.sinaimg.cn/crop.0.0.750.750.180/68f74d54jw8f22cfa95ijj20ku0kumy7.jpg`export default class useLib extends Component &#123; constructor (props) &#123; super(props) this.state = &#123; photos: [] &#125; &#125; componentDidMount () &#123; this.getPhotos() &#125; getPhotos () &#123; CameraRoll.getPhotos(fetchParams).then((data) =&gt; &#123; console.log(data) let edges = data.edges let photos = [] for (var index in edges) &#123; photos.push(edges[index].node.image.uri) &#125; this.setState(&#123; photos: photos &#125;) &#125;, (error) =&gt; &#123; Alert.alert(error) &#125;) &#125; showPics (photos) &#123; return ( &lt;View style=&#123;styles.picWrapper&#125;&gt; &#123; photos.map((result, index, arr) =&gt; &#123; return ( &lt;Image key=&#123;index&#125; style=&#123;styles.libPic&#125; source=&#123;&#123;uri: result&#125;&#125; /&gt; ) &#125;) &#125; &lt;/View&gt; ) &#125; handleClick = () =&gt; &#123; CameraRoll.saveToCameraRoll(webImgUrl) .then(data =&gt; &#123; let photos = this.state.photos photos.unshift(data) this.setState(&#123; photos: photos &#125;) &#125;) .catch(err =&gt; &#123; Alert.alert(err) &#125;) &#125; render () &#123; return ( &lt;ScrollView style=&#123;styles.container&#125;&gt; &lt;Text style=&#123;styles.title&#125;&gt; Get Photos &lt;/Text&gt; &#123;this.showPics(this.state.photos)&#125; &lt;Text style=&#123;styles.subTitle&#125;&gt; A Web photo &lt;/Text&gt; &lt;Image style=&#123;styles.webPic&#125; source=&#123;&#123;uri: webImgUrl&#125;&#125; /&gt; &lt;TouchableOpacity style=&#123;styles.btnWrapper&#125; onPress=&#123;this.handleClick&#125; &gt; &lt;Text style=&#123;styles.btnText&#125; &gt; Touch To Save &lt;/Text&gt; &lt;/TouchableOpacity&gt; &lt;/ScrollView&gt; ) &#125;&#125;const styles = StyleSheet.create(&#123; container: &#123; flex: 1, backgroundColor: &#x27;#F5FCFF&#x27; &#125;, title: &#123; alignSelf: &#x27;center&#x27;, marginTop: 30, fontSize: 24 &#125;, picWrapper: &#123; flexDirection: &#x27;row&#x27;, flexWrap: &#x27;wrap&#x27;, marginBottom: 20, width: Dimensions.get(&#x27;window&#x27;).width &#125;, libPic: &#123; width: Dimensions.get(&#x27;window&#x27;).width / 2, height: 120 &#125;, webPic: &#123; alignSelf: &#x27;center&#x27;, width: 200, height: 150 &#125;, subTitle: &#123; alignSelf: &#x27;center&#x27;, fontSize: 24 &#125;, btnWrapper: &#123; alignItems: &#x27;center&#x27;, width: Dimensions.get(&#x27;window&#x27;).width, height: 40 &#125;, btnText: &#123; fontSize: 20, color: &#x27;red&#x27; &#125;&#125;)","tags":[{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"}]},{"title":"node-path","date":"2018-02-28T14:26:28.000Z","path":"2018/02/28/node-path/","text":"æœ€è¿‘åœ¨çœ‹nodeï¼Œä»¿ç…§anywhereï¼Œè‡ªå·±ä¹Ÿæ’¸äº†ä¸€ä¸ªé™æ€èµ„æºæœåŠ¡å™¨ã€‚è¯´é“é™æ€èµ„æºæœåŠ¡å™¨ï¼Œå¤§é‡è¿ç”¨äº†è·¯å¾„å±‚çº§è¿™å—ã€‚ä¸€å¼€å§‹åˆæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œç»å¯¹è·¯å¾„ï¼Œæš´éœ²çš„æ¥å£ä¹Ÿæ˜¯ä¸€å¤§å †ï¼Œæœ‰ç‚¹æ‡µé€¼ã€‚é‚å¯¹ç€å®˜æ–¹æ–‡æ¡£æ’¸ä¸€éï¼Œè¿™é‡Œç¬”è®°æ€»ç»“ä¸€ä¸‹ã€‚ path.basename(path[, ext]) path è·¯å¾„ ext å¯é€‰å‚æ•° path.basename()è¿”å›è·¯å¾„çš„æœ€åä¸€éƒ¨åˆ† eg: 123456path.basename(&#x27;/foo/bar/baz/asdf/quux.html&#x27;);// returns &#x27;quux.html&#x27;path.basename(&#x27;/foo/bar/baz/asdf/quux.html&#x27;, &#x27;.html&#x27;);// returns &#x27;quux&#x27;path.basename(&#x27;/foo/bar/baz/asdf/quux.html&#x27;, &#x27;ux.html&#x27;);// returns &#x27;qu&#x27; path.dirname(path) path è·¯å¾„ path.dirname()è¿”å›pathçš„æ‰€åœ¨è·¯å¾„ eg: 123456path.dirname(&#x27;/foo/bar/baz/asdf&#x27;);// returns &#x27;/foo/bar/baz&#x27;path.dirname(&#x27;/foo/bar/baz/asdf/quux.html&#x27;);// returns &#x27;/foo/bar/baz/asdf&#x27;path.dirname(&#x27;quux.html&#x27;);// returns &#x27;.&#x27; path.extname(path) path è·¯å¾„ è¿”å›è·¯å¾„æœ€åä¸€éƒ¨åˆ†ä¸­çš„æœ€åä¸€ä¸ª.å­—ç¬¦åˆ°ç»“å°¾æˆªå–çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæ²¡æœ‰å­—ç¬¦.ï¼Œæˆ–è€…è·¯å¾„æœ€åä¸€éƒ¨åˆ†çš„å¼€å¤´æ˜¯å­—ç¬¦.ï¼Œåˆ™ä¼šè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚ eg: 12345678910path.extname(&#x27;index.html&#x27;)// returns &#x27;.html&#x27;path.extname(&#x27;index.coffee.md&#x27;)// returns &#x27;.md&#x27;path.extname(&#x27;index.&#x27;)// returns &#x27;.&#x27;path.extname(&#x27;index&#x27;)// returns &#x27;&#x27;path.extname(&#x27;.index&#x27;)// returns &#x27;&#x27; path.normalize(path) path ä½¿å­—ç¬¦ä¸²è·¯å¾„æ ‡å‡†åŒ– eg: 12345path.normalize(&#x27;/foo/bar///baz/asdf/quux/../&#x27;); // return &#x27;/foo/bar/baz/asdf/&#x27; posix // return &#x27;\\\\foo\\\\bar\\\\baz\\\\asdf\\\\&#x27; windowspath.normalize(&#x27;&#x27;); // return &#x27;.&#x27; path.join([path1][, path2][, â€¦]) pathX æŠŠæ‰€æœ‰å­—ç¬¦ä¸²å‚æ•°åˆåˆ°ä¸€èµ·å¹¶è¿”å›æ ‡å‡†åŒ–åçš„è·¯å¾„ eg: 123456path.join(&#x27;/foo/&#x27;, &#x27;bar&#x27;, &#x27;baz//asdf&#x27;, &#x27;quux&#x27;, &#x27;..&#x27;, &#x27;test.html&#x27;) // return &#x27;/foo/bar/baz/asdf/test.html&#x27;path.join(&#x27;/foo&#x27;, &#x27;&#x27;, &#x27;test.html&#x27;) // return &#x27;/foo/test.html&#x27; å¦‚æœæœ‰ç©ºå­—ç¬¦ä¸²å‚æ•°ï¼Œåˆ™ä¼šè¢«å¿½ç•¥path.join(&#x27;&#x27;) // return &#x27;.&#x27; å¦‚æœæ‰€æœ‰å‚æ•°åˆåˆ°ä¸€èµ·æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™ä¼šè¿”å›&#x27;.&#x27;ï¼Œè¡¨ç¤ºå½“å‰ç›®å½• path.isAbsolute(path) path åˆ¤æ–­pathæ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„ eg: 1234567891011// Posixpath.isAbsolute(&#x27;/foo/bar&#x27;) // truepath.isAbsolute(&#x27;/baz/..&#x27;) // truepath.isAbsolute(&#x27;qux/&#x27;) // falsepath.isAbsolute(&#x27;.&#x27;) // false// Windowspath.isAbsolute(&#x27;//server&#x27;) // truepath.isAbsolute(&#x27;C:/foo/..&#x27;) // truepath.isAbsolute(&#x27;bar\\\\baz&#x27;) // falsepath.isAbsolute(&#x27;.&#x27;) // false path.format(pathObject)æ ¹æ®å‚æ•°pathObjectè¿”å›è·¯å¾„å­—ç¬¦ä¸²ã€‚ eg: 12345678910111213141516171819202122232425262728293031// If `dir` and `base` are provided, `dir` + platform separator + `base`// will be returned.path.format(&#123; dir: &#x27;/home/user/dir&#x27;, base: &#x27;file.txt&#x27;&#125;);// returns &#x27;/home/user/dir/file.txt&#x27;// `root` will be used if `dir` is not specified.// `name` + `ext` will be used if `base` is not specified.// If only `root` is provided or `dir` is equal to `root` then the// platform separator will not be included.path.format(&#123; root: &#x27;/&#x27;, base: &#x27;file.txt&#x27;&#125;);// returns &#x27;/file.txt&#x27;path.format(&#123; dir: &#x27;/&#x27;, root: &#x27;/&#x27;, name: &#x27;file&#x27;, ext: &#x27;.txt&#x27;&#125;);// returns &#x27;/file.txt&#x27;// `base` will be returned if `dir` or `root` are not provided.path.format(&#123; base: &#x27;file.txt&#x27;&#125;);// returns &#x27;file.txt&#x27; path.parse(pathString)å’Œpath.formatç›¸å eg: 123456789path.parse(&#x27;/home/user/dir/file.txt&#x27;)// returns// &#123;// root : &quot;/&quot;,// dir : &quot;/home/user/dir&quot;,// base : &quot;file.txt&quot;,// ext : &quot;.txt&quot;,// name : &quot;file&quot;// &#125; path.relative(from, to)è¯¥æ–¹æ³•æ ¹æ®ä¸¤ä¸ªç»å¯¹è·¯å¾„fromå’Œtoè§£æå‡ºä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼ˆè¯´ç™½äº†å°±æ˜¯ä»ä¸€ä¸ªç»å¯¹è·¯å¾„åˆ°å¦ä¸€ä¸ªç»å¯¹è·¯å¾„æ˜¯æ€ä¹ˆèµ°çš„ï¼‰ eg: 12path.relative(&#x27;/data/orandea/test/aaa&#x27;, &#x27;/data/orandea/impl/bbb&#x27;)// returns &#x27;../../impl/bbb&#x27; path.resolve([from â€¦], to)ç®€å•è®²å°±æ˜¯æ‰§è¡Œä¸€è¿ä¸²çš„cdå‘½ä»¤ï¼Œæ‰§è¡Œåè¿”å›ä¸€ä¸ªç»å¯¹è·¯å¾„ eg: 12345cd foo/barcd /tmp/file/cd ..cd a/../subfilepwd","tags":[{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"}]},{"title":"nodeæœåŠ¡å™¨å¼€å‘ä¸Šçº¿å°è®°","date":"2018-02-06T14:20:56.000Z","path":"2018/02/06/nodeæœåŠ¡å™¨å¼€å‘ä¸Šçº¿å°è®°/","text":"è¯´é“nodeï¼Œä¹‹å‰å…¶å®ä¹Ÿæ²¡å°‘ç”¨ã€‚ä¸è¿‡å¤§éƒ¨åˆ†éƒ½æ˜¯è‡ªå·±æç€ç©ï¼Œå†™ä¸ªå°çˆ¬è™«æˆ–æ˜¯åœ¨æœ¬åœ°ä¸ºè‡ªå·±çš„å‰ç«¯é¡¹ç›®è·‘ä¸ªæ¥å£ã€‚å®é™…å¼€å‘ç”Ÿäº§ä¸­ç»éªŒä¸ºé›¶ã€‚æ­£å·§å·¥ä½œä¸­è‡ªå·±è´Ÿè´£çš„APPé¡¹ç›®çš„æ–°æ¨¡å—åå°è¦ç‹¬ç«‹å‡ºæ¥ï¼Œå€Ÿæ­¤æœºä¼šä½¿ç”¨èµ°äº†ä¸€è¶Ÿnodeå¼€å‘åˆ°ä¸Šçº¿çš„å…¨è¿‡ç¨‹ï¼ˆexpress+mongoDBï¼‰ã€‚ å¼€å‘æ–°æ¨¡å—å¼€å§‹çš„åŠŸèƒ½ä¸å¤ªå¤šï¼Œå¼€å‘è¿™å—æ²¡æœ‰èŠ±å¤ªå¤šæ—¶é—´ã€‚ä¸è¿‡è¿˜æ˜¯æœ‰ä¸€äº›å€¼å¾—è®°å½•çš„åœ°æ–¹ï¼š æ‘’å¼ƒcallbackï¼Œæ‹¥æŠ±async&#x2F;promisifyã€‚ nodeåœ¨8.X.Xç‰ˆæœ¬ä¹‹åæ”¯æŒäº†asyncä»¥åŠpromisifyçš„æ–¹å¼ã€‚callback holeç¡®ç¡®å®å®ä»¤äººä¸çˆ½ä½¿ç”¨asyncæˆ–è€…util.promisifyä¼šè®©ä»£ç ä¼˜é›…å¾ˆå¤šã€‚ importä»£æ›¿require åœ¨æœ€æ–°çš„node v9.5.0ï¼Œä¾ç„¶æ²¡æœ‰æ”¯æŒè¿™ä¸€ç‰¹æ€§ã€‚æˆ‘ä»¬å¼•å…¥æ–‡ä»¶è¿˜æ˜¯éœ€è¦é€šè¿‡requireçš„æ–¹å¼ã€‚è™½ç„¶ä¸æ˜¯å¾ˆæ¨èï¼Œä¸è¿‡æ‰§æ„è¦åœ¨nodeä¸­ä½¿ç”¨importè¿™ä¸€ç‰¹æ€§çš„è¯ã€‚éœ€è¦å®‰è£…babel-cliï¼Œè¿›è¡Œè½¬æ¢ ã€‚ å¤„ç†å›¾ç‰‡å­˜å‚¨è¿™ä¸€å— å…¬å¸ç”¨çš„å›¾ç‰‡å­˜å‚¨ç”¨çš„æ˜¯åˆæ‹äº‘ã€‚è¿™é‡Œéœ€è¦çš„æ˜¯ï¼Œå°†å›¾ç‰‡ä¸Šä¼ è‡³åˆæ‹äº‘ï¼Œå¾—åˆ°äº‘ä¸Šçš„å›¾ç‰‡åœ°å€ï¼Œè¿›è€Œå­˜å‚¨åˆ°æ•°æ®åº“ä¸­ã€‚æœŸåˆæƒ³çš„æ˜¯åœ¨å‰ç«¯å®Œæˆä¸Šä¼ åˆæ‹äº‘å¾—åˆ°å›¾ç‰‡åœ°å€è¿™ä¸€ç³»åˆ—æ“ä½œã€‚åç«¯åªæ¥æ”¶å›¾ç‰‡åœ°å€è¿™ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿›è¡Œå­˜å‚¨ã€‚è™½è¯´æ˜¯æœ‰ç›¸å…³JS SDKã€‚ä¸è¿‡å‰ç«¯ç»ˆç©¶ä¸å®‰å…¨ï¼Œæœ‰ä¸€äº›ç”Ÿæˆå¯†é”&#x2F;tokenä¹‹ç±»çš„æ“ä½œã€‚è¿˜æ˜¯é€šè¿‡form-dataä¼ åˆ°æœåŠ¡å™¨è¿™è¾¹è¿›è¡Œæ“ä½œç¬¦åˆé€»è¾‘ã€‚è¿™é‡Œé‡åˆ°äº†ä¸€ä¸ªå°é—®é¢˜nodeè¿™è¾¹æ€ä¹ˆæ¥å—å›¾ç‰‡ã€‚ç»è¿‡ä¸€ç•ªå°è¯•ï¼Œè¿™é‡Œä½¿ç”¨äº†multerè¿™ä¸ªä¸­é—´ä»¶ã€‚æ‹¿åˆ°formè¡¨å•ä¼ è¿‡æ¥çš„å›¾ç‰‡ã€‚ log æœåŠ¡å™¨å½“ç„¶è¦æœ‰logã€‚è¿™é‡Œä½¿ç”¨äº†å¦ä¸€ä¸ªä¸­é—´ä»¶ï¼šlog4jsã€‚ 123456789101112// LOGé…ç½®log4js.configure(&#123; appenders: [&#123; type: &#x27;dateFile&#x27;, filename: &#x27;logs/access.log&#x27;, pattern: &#x27;-yyyy-MM-dd.log&#x27;, alwaysIncludePattern: true, category: &#x27;access&#x27; &#125;]&#125;)// Log Middlewareapp.use(log4js.connectLogger(log4js.getLogger(&#x27;access&#x27;), &#123; level: log4js.levels.INFO &#125;)) è¿™é‡Œéƒ¨ç½²ä¸Šçº¿çš„æ—¶å€™ï¼Œå…¶å®è¿˜é‡åˆ°äº†ä¸€ä¸ªå°é—®é¢˜ã€‚å®˜æ–¹ä¾‹å­ä¸­type: â€˜Date Fileâ€™ã€‚åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œã€‚æŠ¥é”™ï¼æŸ¥äº†ä¸€ä¸‹issueï¼Œæ”¹æˆå°å†™dï¼Œæå®šã€‚ mongoDB åˆæ˜¯ä¸€ä¸ªéƒ¨ç½²æœåŠ¡å™¨ä¸Šå‡ºç°çš„é—®é¢˜ã€‚åœ¨æœ¬åœ°ä½¿ç”¨mongoDBæ²¡æœ‰è®¾ç½®ç›¸å…³çš„æƒé™è´¦å·ã€‚æœåŠ¡å™¨ä¸Šè¿ç»´ç»™æˆ‘äº†ä¸€ä¸ªadminçš„rootè´¦å·ã€‚ä¸€å¼€å§‹ä¸å¤ªæ‡‚å°è¯•è¿æ¥å»ºmodelã€‚å‡ºäº†ä¸€å¤§å †æƒé™é—®é¢˜ã€‚å’Œä¼ ç»Ÿæ•°æ®åº“ä¸åŒï¼š 1 MongoDBæ˜¯æ²¡æœ‰é»˜è®¤ç®¡ç†å‘˜è´¦å·çš„ï¼Œæ‰€ä»¥è¦å…ˆæ·»åŠ ç®¡ç†å‘˜è´¦å·ï¼Œåœ¨å¼€å¯æƒé™è®¤è¯ã€‚ 2 åˆ‡æ¢åˆ°adminæ•°æ®åº“ï¼Œæ·»åŠ çš„è´¦å·æ‰æ˜¯ç®¡ç†å‘˜çš„è´¦å·ã€‚ 3 ç”¨æˆ·åªèƒ½åœ¨ç”¨æˆ·æ‰€åœ¨çš„æ•°æ®åº“ç™»å½•ï¼ŒåŒ…æ‹¬ç®¡ç†å‘˜è´¦å·ã€‚ 4 ç®¡ç†å‘˜å¯ä»¥ç®¡ç†æ‰€æœ‰çš„æ•°æ®åº“ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥ç®¡ç†å…¶å®ƒæ•°æ®åº“ï¼Œè¦å…ˆåœ¨adminæ•°æ®åº“ä¸­è®¤è¯æ‰å¯ä»¥ï¼Œä¹Ÿæ˜¯ä¸ºäº† å®‰å…¨æ€§è€ƒè™‘ã€‚ å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š è¿™é‡Œéœ€è¦å…ˆé€šè¿‡mongoå‘½ä»¤ä½¿ç”¨è´¦å·ã€å¯†ç è¿æ¥çº¿ä¸Šçš„mongoã€‚æ³¨æ„è¿™é‡Œå¿…é¡»æŒ‡å®šadmin modelã€‚ 12mongo --username XXX --password XXX mongoDBçº¿ä¸Šåœ°å€/admin ä¹‹åé€šè¿‡use DATEBASE_NAME (use å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ•°æ®åº“,å¦åˆ™åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“ï¼‰ show dbsçœ‹çœ‹åˆ›å»ºæˆåŠŸæ²¡æœ‰ã€‚ä¹‹å 1234567db.createUser( &#123; user: &quot;lac&quot;, pwd: &quot;123321&quot;, roles: [ &#123; role: &quot;readWrite&quot;, db: &quot;XXX&quot; &#125; ] &#125;) é€šè¿‡ä¸Šé¢çš„å‘½ä»¤ åˆ›å»ºä¸€ä¸ªå¯¹åº”æ•°æ®åº“ï¼Œæ‹¥æœ‰è¯»å†™æƒé™çš„ç”¨æˆ·ã€‚ åœ¨nodeä¸­ï¼Œè¿™æ ·ä½¿ç”¨å°±å¥½ 1mongodb: &#x27;mongodb://lac:123321@mongoDBçº¿ä¸Šåœ°å€:ç«¯å£/æ‰€ä½¿ç”¨çš„DBåå­—&#x27; ææ˜ç™½äº†å¾ˆç®€å•ã€‚å½“æ—¶å€’è…¾äº†å¥½ä¸€é˜µorz 413é”™è¯¯ ä¸Šçº¿ä¹‹åï¼Œä¸Šä¼ å›¾ç‰‡&#x2F;æ•°æ®ã€‚responseè¿”å›äº†413é”™è¯¯ Request Entity Too Largeã€‚è¿™é‡Œæ˜¯ç”±äºæœåŠ¡å™¨é™åˆ¶äº†ä¸Šä¼ æ–‡ä»¶çš„å¤§å°ï¼Œè§£å†³åŠæ³•å°±æ˜¯ï¼š åœ¨nginx.confé‡Œhttp{}ä¸­åŠ å…¥ï¼š 1client_max_body_size 20m ; å…è®¸æœ€å¤§ä¸Šä¼ çš„å¤§å°è®¾ä¸º20mã€‚ä¹‹åé‡å¯nginxå³å¯ã€‚ pm2 çº¿ä¸Šéƒ¨ç½²è¿è¡Œnode ä½¿ç”¨çš„æ˜¯pm2 ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š 1234567891011121314151617181920212223 $ pm2 start app.js # å¯åŠ¨app.jsåº”ç”¨ç¨‹åº$ pm2 start app.js --name=&quot;api&quot; # å¯åŠ¨åº”ç”¨ç¨‹åºå¹¶å‘½åä¸º &quot;api&quot;$ pm2 start app.js --watch # å½“æ–‡ä»¶å˜åŒ–æ—¶è‡ªåŠ¨é‡å¯åº”ç”¨$ pm2 start script.sh # å¯åŠ¨ bash è„šæœ¬$ pm2 list # åˆ—è¡¨ PM2 å¯åŠ¨çš„æ‰€æœ‰çš„åº”ç”¨ç¨‹åº$ pm2 monit # æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºçš„CPUå’Œå†…å­˜å ç”¨æƒ…å†µ$ pm2 show [app-name] # æ˜¾ç¤ºåº”ç”¨ç¨‹åºçš„æ‰€æœ‰ä¿¡æ¯$ pm2 logs # æ˜¾ç¤ºæ‰€æœ‰åº”ç”¨ç¨‹åºçš„æ—¥å¿—$ pm2 logs [app-name] # æ˜¾ç¤ºæŒ‡å®šåº”ç”¨ç¨‹åºçš„æ—¥å¿—pm2 flush$ pm2 stop all # åœæ­¢æ‰€æœ‰çš„åº”ç”¨ç¨‹åº$ pm2 stop 0 # åœæ­¢ idä¸º 0çš„æŒ‡å®šåº”ç”¨ç¨‹åº$ pm2 restart all # é‡å¯æ‰€æœ‰åº”ç”¨$ pm2 reload all # é‡å¯ cluster modeä¸‹çš„æ‰€æœ‰åº”ç”¨$ pm2 gracefulReload all # Graceful reload all apps in cluster mode$ pm2 delete all # å…³é—­å¹¶åˆ é™¤æ‰€æœ‰åº”ç”¨$ pm2 delete 0 # åˆ é™¤æŒ‡å®šåº”ç”¨ id 0$ pm2 scale api 10 # æŠŠåå­—å«apiçš„åº”ç”¨æ‰©å±•åˆ°10ä¸ªå®ä¾‹$ pm2 reset [app-name] # é‡ç½®é‡å¯æ•°é‡ ä»¥ä¸Š~","tags":[{"name":"mongoDB","slug":"mongoDB","permalink":"http://yoursite.com/tags/mongoDB/"},{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"}]},{"title":"ä¸€ä¸ªå°æ€»ç»“","date":"2018-01-27T15:19:50.000Z","path":"2018/01/27/ä¸€ä¸ªå°æ€»ç»“/","text":"12æœˆåº•æœ¬å°±æ‰“ç®—åœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹è‡ªå·±ï¼Œå·¥ä½œç”Ÿæ´»ä¸Šä¸€å †äº‹å†åŠ ä¸Šå·¥ä½œä¸Šçš„ä¸€å †æ€»ç»“ï¼šä¸ªäººæ€»ç»“ã€å°ç»„æ€»ç»“ä»¥åŠå°ç»„è¿°èŒã€‚è‡ªå·±è¿™å—ä¸€ç›´å·æ‡’æ²¡æœ‰å†™ï¼Œæ‹–åˆ°äº†ä»Šå¤©ã€‚ å›é¡¾2017ï¼Œé‚£ä¸€ä¸ªå­—æ€»ç»“å°±æ˜¯ï¼šå˜ åŠ å…¥äº†æ–°å…¬å¸ï¼šæ— äºŒä¹‹æ—…æ˜¯å˜ï¼›æŠ€æœ¯ä¸Šä»åç«¯åˆ°å‰ç«¯å†åˆ°ç°åœ¨ç”¨RNå¼€å‘ç§»åŠ¨ç«¯æ˜¯å˜ï¼›å†æœ‰å°±æ˜¯è‡ªå·±å¿ƒå¢ƒçš„å˜åŒ–ï¼Œåœ¨æ—¥æœ¬çš„æ—¶å€™æ— å¿§æ— è™‘ï¼Œåˆ°ç°åœ¨çš„ç„¦èºä¹Ÿæ˜¯å˜ã€‚ åœ¨æ—¥æœ¬çš„æ—¶å€™æ— å¿§æ— è™‘ï¼Œåœ¨é‚£ä¸ªå¤§ç¯å¢ƒä¸‹ä¹Ÿä¸ç”¨å»æƒ³ä»€ä¹ˆã€‚å›æ¥ä¹‹åï¼ŒåŒ—äº¬è¿™ä¸ªç„¦èºè¿‡åº¦çš„åŸå¸‚ï¼Œå¤§å®¶éƒ½åœ¨è·‘ï¼Œä½ ä¹Ÿä¸å¾—ä¸è·‘ã€‚å‹åŠ›ä¹Ÿéšä¹‹è€Œæ¥ã€‚å¾ˆæ€€å¿µåœ¨æ—¥æœ¬çš„æ—¥å­ã€‚ä½†ç»è¿‡åŠªåŠ›å†å›å¤´ï¼ŒçœŸçš„æ˜¯æˆé•¿äº†ä¸å°‘ã€‚æ”¶è·äº†å¾ˆå¤šç»éªŒå’Œæ–°æŠ€æœ¯ï¼Œæ„Ÿè§‰è‡ªå·±ä¹Ÿä¸åƒåŸæ¥ä¸€ä¸‹ã‚ãŒã¾ã¾ï¼Œæˆç†Ÿäº†å¾ˆå¤šã€‚18å¹´ï¼Œä¸çŸ¥é“ä¼šæ€ä¹ˆæ ·ï¼Œä½†å¸Œæœ›è‡ªå·±è¶Šå˜è¶Šå¥½ã€‚å°‘ä¸€äº›ç„¦èºï¼Œé‡äº‹ï¼Œæ…¢æ…¢æ¥ã€‚èº«ä½“ç®¡ç†17å¹´åšçš„ä¸å¤ªå¥½ï¼Œè¿™ä¸€å¹´èƒ–äº†å¥½å¤šï¼Œ18å¹´å¤šæŠ½å‡ºæ¥ä¸€ç‚¹æ—¶é—´é”»ç‚¼ä¸€ä¸‹ã€‚æ¯•ç«Ÿèº«ä½“æ˜¯é©å‘½çš„æœ¬é’±ã€‚ å†ç«‹å‡ ä¸ªFLAGï¼š åšæŒgithub everdayï¼› å¼€æ˜¥ä¹‹åï¼Œæ¡èµ·è·‘æ­¥å¤§ä¸š å¤šçœ‹ä¹¦ è°ƒæ•´å¿ƒæ€ï¼Œæ›´ä»å®¹ä¸€ç‚¹ 17å¹´æ²¡æ€ä¹ˆå‡ºå»ç©ï¼Œå°±10æœˆå›äº†è¶Ÿä¸œäº¬ã€‚18å¹´èµ·ç å‡ºå»5æ¬¡å§ã€‚ï¼ˆ2æœˆé©¬æ¥è¥¿äºšã€3æœˆæ³°å›½ã€5æœˆæ—¥æœ¬å·²ç»ç¡®å®šäº†ï¼‰ å°±è¿™æ ·å§~","tags":[{"name":"2017","slug":"2017","permalink":"http://yoursite.com/tags/2017/"}]},{"title":"Mongooseç”¨æ³•ç¬”è®°","date":"2018-01-09T15:23:04.000Z","path":"2018/01/09/Mongooseç”¨æ³•ç¬”è®°/","text":"æœ¬æ¥æ–°å¹´ç¬¬ä¸€ç¯‡åšæ–‡ç†åº”æ˜¯2017å¹´çš„æ€»ç»“ã€‚å®¢è§‚+ä¸»è§‚åŸå› ï¼Œä¸€ç›´æ‹–ç€éš¾äº§ä¸å‡ºã€‚è¿‘æœŸå·¥ä½œè¿™è¾¹æœ‰éœ€æ±‚ï¼ŒAPPè¿™å—ä¸€ä¸ªç‹¬ç«‹çš„ä¸šåŠ¡æ­å»ºä¸€ä¸ªè¿·ä½ å°åå°ã€‚æ—¢ç„¶æ˜¯è¿·ä½ å°åå°ï¼Œåº”è¯¥æ‰¾ä¸å‡ºExpress+Mongoä»¥å¤–æ›´å¥½çš„é€‰æ‹©äº†å§ã€‚nodeå’Œmongoç»“åˆï¼Œæœ€é€šç”¨çš„å°±æ˜¯mongooseè¿™ä¸ªåº“ï¼Œæ“ä½œä½¿ç”¨éƒ½å¾ˆä¾¿åˆ©ï¼Œç®€å•ã€‚åœ¨è¿™é‡Œç¬”è®°æ€»ç»“ä¸€ä¸‹ é¦–å…ˆéœ€è¦npm install mongoose å®‰è£…mongooseï¼Œå®‰è£…æˆåŠŸåå°±å¯ä»¥é€šè¿‡require(â€˜mongooseâ€™) æ¥ä½¿ç”¨ï¼ Connect12345678910111213141516171819202122232425262728var mongoose = require(&#x27;mongoose&#x27;), DB_URL = &#x27;mongodb://localhost:27017/mongoosesample&#x27;;/** * è¿æ¥ */mongoose.connect(DB_URL);/** * è¿æ¥æˆåŠŸ */mongoose.connection.on(&#x27;connected&#x27;, function () &#123; console.log(&#x27;Mongoose connection open to &#x27; + DB_URL); &#125;); /** * è¿æ¥å¼‚å¸¸ */mongoose.connection.on(&#x27;error&#x27;,function (err) &#123; console.log(&#x27;Mongoose connection error: &#x27; + err); &#125;); /** * è¿æ¥æ–­å¼€ */mongoose.connection.on(&#x27;disconnected&#x27;, function () &#123; console.log(&#x27;Mongoose connection disconnected&#x27;); &#125;); Schema schemaæ˜¯mongooseé‡Œä¼šç”¨åˆ°çš„ä¸€ç§æ•°æ®æ¨¡å¼ï¼Œå¯ä»¥ç†è§£ä¸ºè¡¨ç»“æ„çš„å®šä¹‰ï¼›æ¯ä¸ªschemaä¼šæ˜ å°„åˆ°mongodbä¸­çš„ä¸€ä¸ªcollectionï¼Œå®ƒä¸å…·å¤‡æ“ä½œæ•°æ®åº“çš„èƒ½åŠ› 12345 var userSchema = new mongoose.Schema(&#123; name: &#123;type: String, require: true&#125;, age: &#123;type: Number, require: true&#125;&#125;)) å®šä¹‰ä¸€ä¸ªSchemaå°±è¿™ä¹ˆç®€å•~ Schema Typeså†…ç½®ç±»å‹å¦‚ä¸‹ï¼š String Number Boolean | Bool Array Buffer Date ObjectId | Oid Mixed å®šä¹‰å¥½Schemaï¼Œæ¥ä¸‹å°±æ˜¯ç”ŸæˆModelã€‚modelæ˜¯ç”±schemaç”Ÿæˆçš„æ¨¡å‹ï¼Œå¯ä»¥å¯¹æ•°æ®åº“çš„æ“ä½œ1const User = mongoose.model(&#x27;user&#x27;, userSchema) å¸¸ç”¨æ•°æ®åº“æ“ä½œæ’å…¥ Model#save([fn]) 12345678910111213141516// insert function insert () &#123; var user = new User(&#123; name: &#x27;yoyo&#x27;, age: 66 &#125;) user.save(function(err, doc) &#123; if (err) &#123; console.log(&quot;Error:&quot; + err); &#125; else &#123; console.log(&quot;Doc:&quot; + doc); &#125; &#125;) æ›´æ–° Model.update(conditions, update, [options], [callback]) 123User.update(&#123;&#x27;name&#x27;: &#x27;yoyo&#x27;&#125;, &#123;&#x27;$set&#x27;: &#123;age: 26&#125;&#125;, function(err, doc) &#123;console.log(doc)&#125;) updateæ–¹æ³•åŸºæœ¬å¯ä»¥æ»¡è¶³æ‰€æœ‰æ›´æ–°ï¼å¸¸ç”¨æ–¹æ³•è¿˜æœ‰findByIdAndUpdateï¼Œè¿™ç§æ¯”è¾ƒæœ‰æŒ‡å®šæ€§ï¼Œå°±æ˜¯æ ¹æ®_idModel.findByIdAndUpdate(id, [update], [options], [callback]) 123456789101112131415function findByIdAndUpdate()&#123; var id = &#x27;56f2558b2dd74855a345edb2&#x27;; var updatestr = &#123;&#x27;name&#x27;: &#x27;yoyoyo&#x27;&#125;; User.findByIdAndUpdate(id, updatestr, function(err, res)&#123; if (err) &#123; console.log(&quot;Error:&quot; + err); &#125; else &#123; console.log(&quot;Res:&quot; + res); &#125; &#125;)&#125;findByIdAndUpdate(); å…¶ä»–çš„æ›´æ–°æ–¹æ³•ï¼šModel.findOneAndUpdate([conditions], [update], [options], [callback]) &#x2F;&#x2F;æ‰¾åˆ°ä¸€æ¡è®°å½•å¹¶æ›´æ–° åˆ é™¤ Model.remove(conditions, [callback]) 1User.remove(&#123;&#125;,function (e, d) &#123;&#125;) resä¸­ä¼šè¿”å›æ˜¯å¦æˆåŠŸä»¥åŠå½±å“çš„è¡Œæ•°ï¼š{â€œokâ€:1,â€nâ€:1} è¿˜æœ‰å…¶ä»–åˆ é™¤ï¼š Model.findByIdAndRemove(id, [options], [callback]) Model.findOneAndRemove(conditions, [options], [callback]) æŸ¥ Model.find(conditions, [fields], [options], [callback]) 123User.find(&#123;name: &#x27;zyy&#x27;&#125;, function(err, doc) &#123; res.json(doc)&#125;) ç¬¬2ä¸ªå‚æ•°å¯ä»¥è®¾ç½®è¦æŸ¥è¯¢è¾“å‡ºçš„å­—æ®µ,æ¯”å¦‚æ”¹æˆ: 1234var opt = &#123;&quot;name&quot;: 1 ,&quot;_id&quot;: 0&#125;;User.find(&#123;name: &#x27;zyy&#x27;&#125;, opt, function(err, doc) &#123; res.json(doc)&#125;) è¾“å‡ºåªä¼šæœ‰nameå­—æ®µï¼Œè®¾ç½®æ–¹æ³•å¦‚ä¸Šï¼Œ1è¡¨ç¤ºæŸ¥è¯¢è¾“å‡ºè¯¥å­—æ®µï¼Œ0è¡¨ç¤ºä¸è¾“å‡º æ¯”å¦‚æˆ‘è¦æŸ¥è¯¢å¹´é¾„èŒƒå›´æ¡ä»¶åº”è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ User.find({userage: {$gte: 21, $lte: 65}}, callback); &#x2F;&#x2F;è¿™è¡¨ç¤ºæŸ¥è¯¢å¹´é¾„å¤§äºç­‰21è€Œä¸”å°äºç­‰äº65å² ç±»ä¼¼çš„å…¶ä»–ï¼š $or æˆ–å…³ç³» $nor æˆ–å…³ç³»å–å $gt å¤§äº $gte å¤§äºç­‰äº $lt å°äº $lte å°äºç­‰äº $ne ä¸ç­‰äº $in åœ¨å¤šä¸ªå€¼èŒƒå›´å†… $nin ä¸åœ¨å¤šä¸ªå€¼èŒƒå›´å†… $all åŒ¹é…æ•°ç»„ä¸­å¤šä¸ªå€¼ $regex æ­£åˆ™ï¼Œç”¨äºæ¨¡ç³ŠæŸ¥è¯¢ $size åŒ¹é…æ•°ç»„å¤§å° $maxDistance èŒƒå›´æŸ¥è¯¢ï¼Œè·ç¦»ï¼ˆåŸºäºLBSï¼‰ $mod å–æ¨¡è¿ç®— $near é‚»åŸŸæŸ¥è¯¢ï¼ŒæŸ¥è¯¢é™„è¿‘çš„ä½ç½®ï¼ˆåŸºäºLBSï¼‰ $exists å­—æ®µæ˜¯å¦å­˜åœ¨ $elemMatch åŒ¹é…å†…æ•°ç»„å†…çš„å…ƒç´  $within èŒƒå›´æŸ¥è¯¢ï¼ˆåŸºäºLBSï¼‰ $box èŒƒå›´æŸ¥è¯¢ï¼ŒçŸ©å½¢èŒƒå›´ï¼ˆåŸºäºLBSï¼‰ $center èŒƒå›´é†’è¯¢ï¼Œåœ†å½¢èŒƒå›´ï¼ˆåŸºäºLBSï¼‰ $centerSphere èŒƒå›´æŸ¥è¯¢ï¼Œçƒå½¢èŒƒå›´ï¼ˆåŸºäºLBSï¼‰ $slice æŸ¥è¯¢å­—æ®µé›†åˆä¸­çš„å…ƒç´ ï¼ˆæ¯”å¦‚ä»ç¬¬å‡ ä¸ªä¹‹åï¼Œç¬¬Nåˆ°ç¬¬Mä¸ªå…ƒç´ ï¼‰ å¯èƒ½è¿˜æœ‰ä¸€äº›ï¼Œæ²¡ä»€ä¹ˆå°è±¡ï¼Œå¤§å®¶è‡ªè¡Œçœ‹çœ‹api ^_^! æ•°é‡æŸ¥è¯¢ Model.count(conditions, [callback]) 123456789101112131415function getCountByConditions()&#123; var wherestr = &#123;&#125; User.count(wherestr, function(err, res)&#123; if (err) &#123; console.log(&quot;Error:&quot; + err); &#125; else &#123; console.log(&quot;Res:&quot; + res); &#125; &#125;)&#125;getCountByConditions() å…¶ä»–çš„ä¸€äº›ä¸œè¥¿ï¼šæ ¹æ®_idæŸ¥è¯¢ Model.findById(id, [fields], [options], [callback]) æ¨¡ç³ŠæŸ¥è¯¢ï¼š 1234567891011121314151617var User = require(&quot;./user.js&quot;);function getByRegex()&#123; var whereStr = &#123;&#x27;username&#x27;:&#123;$regex:/m/i&#125;&#125;; User.find(whereStr, function(err, res)&#123; if (err) &#123; console.log(&quot;Error:&quot; + err); &#125; else &#123; console.log(&quot;Res:&quot; + res); &#125; &#125;)&#125;getByRegex(); ä¸Šé¢ç¤ºä¾‹ä¸­æŸ¥è¯¢å‡ºæ‰€æœ‰ç”¨æˆ·åä¸­æœ‰â€™mâ€™çš„åå­—ï¼Œä¸”ä¸åŒºåˆ†å¤§å°å†™ï¼Œæ¨¡ç³ŠæŸ¥è¯¢æ¯”è¾ƒå¸¸ç”¨ï¼Œæ­£åˆ™å½¢å¼åŒ¹é…ï¼Œæ­£åˆ™æ–¹å¼å°±æ˜¯javascriptæ­£åˆ™ï¼Œç”¨åˆ°çš„æ¯”è¾ƒå¤šï¼ å¸¸ç”¨çš„å…¶ä»–æ–¹æ³• Model.distinct(field, [conditions], [callback]) &#x2F;&#x2F;å»é‡ Model.findOne(conditions, [fields], [options], [callback]) &#x2F;&#x2F;æŸ¥æ‰¾ä¸€æ¡è®°å½• Model.findOneAndRemove(conditions, [options], [callback]) &#x2F;&#x2F;æŸ¥æ‰¾ä¸€æ¡è®°å½•å¹¶åˆ é™¤ Model.findOneAndUpdate([conditions], [update], [options], [callback]) &#x2F;&#x2F;æŸ¥æ‰¾ä¸€æ¡è®°å½•å¹¶æ›´æ–° ä»¥ä¸Š~","tags":[{"name":"mongoDB","slug":"mongoDB","permalink":"http://yoursite.com/tags/mongoDB/"}]},{"title":"Reactä»£ç æ•´æ´ä¹‹é“ç¬”è®°","date":"2017-12-07T15:31:58.000Z","path":"2017/12/07/Reactä»£ç æ•´æ´ä¹‹é“ç¬”è®°/","text":"å› ä¸ºRNå¼€å§‹æ¥è§¦Reactï¼ŒJSXç›¸æ¯”HTMLï¼Œæ›´åŠ ç®€æ˜ã€‚ç”±äºAll in JSï¼Œå¦‚æœåœ¨ç¼–å†™Reactä»£ç çš„æ—¶å€™ä¸æ³¨é‡ä»£ç çš„è§„èŒƒå’Œæ•´æ´ã€‚åæœŸç»´æŠ¤èµ·æ¥ä¼šç›¸å½“çš„ç—›è‹¦ã€‚ æ­£å¦‚æ–‡ç« æ‰€è¯´:ç¼–ç¨‹ä¹Ÿæ˜¯è‰ºæœ¯è¡Œä¸ºï¼Œå½“æˆ‘ä»¬ä¸æ¯«ä»£ç å¤ç”¨ã€å˜é‡å‘½åæ—¶ï¼Œå°±æ˜¯åœ¨è¿›è¡Œè‰ºæœ¯çš„æ€è€ƒã€‚ ä¸å†—ä½™123456789101112131415161718// Dirtyconst MyComponent = () =&gt; ( &lt;div&gt; &lt;OtherComponent type=&quot;a&quot; className=&quot;colorful&quot; foo=&#123;123&#125; bar=&#123;456&#125; /&gt; &lt;OtherComponent type=&quot;b&quot; className=&quot;colorful&quot; foo=&#123;123&#125; bar=&#123;456&#125; /&gt; &lt;/div&gt;);// Cleanconst MyOtherComponent = (&#123; type &#125;) =&gt; ( &lt;OtherComponent type=&#123;type&#125; className=&quot;colorful&quot; foo=&#123;123&#125; bar=&#123;456&#125; /&gt;);const MyComponent = () =&gt; ( &lt;div&gt; &lt;MyOtherComponent type=&quot;a&quot; /&gt; &lt;MyOtherComponent type=&quot;b&quot; /&gt; &lt;/div&gt;); ä½†æ˜¯è¦è®°ä½ä¸è¦è¿‡åº¦çš„ä¼˜åŒ–ï¼Œæ‹†åˆ†ã€‚è¿‡åº¦å’Œç ´åæ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ å¯é¢„æµ‹ã€å¯æµ‹è¯•è¿™æ–¹é¢è‡ªå·±æ¥è§¦çš„ä¸æ˜¯å¾ˆå¤šï¼ŒæŠ½ç©ºæœ‰å¿…è¦å¥½å¥½å­¦ä¹ ä¸€ä¸‹å‰ç«¯æ–¹é¢çš„æµ‹è¯• è‡ªæˆ‘è§£é‡Š æ–Ÿé…Œå˜é‡åå°½å¯èƒ½å‡å°‘ä»£ç ä¸­çš„æ³¨é‡Šã€‚å¯ä»¥é€šè¿‡è®©å˜é‡åæ›´è¯­ä¹‰åŒ–ã€åªæ³¨é‡Šå¤æ‚ã€æ½œåœ¨é€»è¾‘ï¼Œæ¥å‡å°‘æ³¨é‡Šé‡ï¼ŒåŒæ—¶ä¹Ÿæé«˜äº†å¯ç»´æŠ¤æ€§ï¼Œæ¯•ç«Ÿä¸ç”¨æ€»åœ¨ä»£ç ä¸æ³¨é‡Šä¹‹é—´åŒæ­¥äº†ã€‚ å¸ƒå°”å€¼æˆ–è€…è¿”å›å€¼æ˜¯å¸ƒå°”ç±»å‹çš„å‡½æ•°ï¼Œå‘½åä»¥ is has should å¼€å¤´ å‡½æ•°ä»¥å…¶æ•ˆæœå‘½åï¼Œè€Œä¸æ˜¯æ€ä¹ˆåšçš„æ¥å‘½åegï¼š1234567891011121314// Dirtyconst done = current &gt;= goal;// Cleanconst isComplete = current &gt;= goal;// Dirtyconst loadConfigFromServer = () =&gt; &#123; ...&#125;;// Cleanconst loadConfig = () =&gt; &#123; ...&#125;; éµå¾ªè®¾è®¡æ¨¡å¼è¿™é‡Œæ‰€è¯´çš„è®¾è®¡æ¨¡å¼å¹¶ä¸æ˜¯å·¥ç¨‹ä¸Šçš„ï¼Œè€Œæ˜¯æ›´å¹¿æ³›å¼€å‘ä¸­çš„è®¾è®¡æ¨¡å¼ã€‚æ¯”å¦‚ä½¿ç”¨standradè¿›è¡Œä»£ç è§„èŒƒÂ·Â·Â· å¯¹äº Reactï¼Œéµå¾ªä»¥ä¸‹å‡ ä¸ªæœ€ä½³å®è·µï¼š å•ä¸€è´£ä»»åŸåˆ™, ç¡®ä¿æ¯ä¸ªåŠŸèƒ½éƒ½å®Œæ•´å®Œæˆä¸€é¡¹åŠŸèƒ½ï¼Œæ¯”å¦‚æ›´ç»†ç²’åº¦çš„ç»„ä»¶æ‹†åˆ†ï¼ŒåŒæ—¶ä¹Ÿæ›´åˆ©äºæµ‹è¯•ã€‚ ä¸è¦æŠŠç»„ä»¶çš„å†…éƒ¨ä¾èµ–å¼ºåŠ ç»™ä½¿ç”¨æ–¹ã€‚ lint è§„åˆ™å°½é‡ä¸¥æ ¼ã€‚ æ€»ç»“ç¼–å†™æ•´æ´è§„èŒƒçš„ä»£ç ï¼Œä¹Ÿè®¸åœ¨ä¸€å¼€å§‹çš„æ—¶å€™ä¼šæ”¾æ…¢å¼€å‘é€Ÿåº¦ï¼Œå› ä¸ºä½ éœ€è¦è½¬å˜è‡ªå·±çš„æ€ç»´æ¨¡å¼ï¼Œä½†éšç€ä¸æ–­è¿­ä»£ï¼Œå®ƒçš„å¸¦æ¥çš„æ•ˆç‡æå‡ä¼šé€æ¸å¼¥è¡¥å‰é¢çš„æŸå¤±ï¼Œå¹¶ä¸æ–­å¸¦æ¥å¼€å‘æ•ˆç‡çš„æå‡ã€‚ æœ€å¼€å§‹è‡ªå·±å†™RNçš„æ—¶å€™ï¼Œéœ€æ±‚æ¥çš„æ€¥ï¼Œç”¨è„šå†™å›ºç„¶å¯ä»¥å¿«é€Ÿå®Œæˆã€‚ä¹‹ååœ¨ç»´æŠ¤çš„æ—¶å€™ï¼Œå°±å¾ˆç—›è‹¦ä¸å¾—ä¸é‡æ„ä»£ç ã€‚è‡ªå·±éå¸¸å–œæ¬¢å‡½æ•°å¼ç¼–ç¨‹ã€‚å¾ˆç¾¡æ…•å‡½æ•°å¼å·¥ä½œç¯å¢ƒçš„å¼€å‘è€…ï¼Œä»–ä»¬å‡ ä¹åªè¦ä¸ºæ¯ä¸ªåŠŸèƒ½å†™ä¸€éï¼Œå‰©ä¸‹çš„å°±æ˜¯è®°ä½å¹¶è°ƒç”¨å®ƒã€‚ ä»¥ä¸Š~","tags":[{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"}]},{"title":"Expressé…åˆMongoDBç®€å•ä½¿ç”¨","date":"2017-12-06T14:07:08.000Z","path":"2017/12/06/Expressé…åˆMongoDBç®€å•ä½¿ç”¨/","text":"å¿«é€Ÿå¼€å‘ä¸€ä¸ªwebæ¥å£ï¼Œåº”è¯¥æ²¡æœ‰æ¯”Express+mongoDBæ›´å¿«&#x2F;æ›´ç®€å•çš„ç»„åˆäº†ã€‚è¿™é‡Œç®€å•æ€»ç»“ä¸€äº›ä½¿ç”¨nodeJsçš„mongooseæ¨¡å—é“¾æ¥å’Œæ“ä½œmongoDBã€‚ Express:åŸºäºnodejså¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„webå¼€å‘æ¡†æ¶,æ€ä¹ˆå®‰è£…å°±ä¸åœ¨èµ˜è¨€ã€‚è¿™é‡Œè¦è¯´çš„æ˜¯å¦‚æœä½¿ç”¨nodeå‘½ä»¤å¯åŠ¨serverï¼Œæ¯æ¬¡ä¿®æ”¹æ–‡ä»¶éƒ½éœ€è¦Ctrl+céå¸¸éº»çƒ¦ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨nodemonè‡ªåŠ¨é‡å¯ï¼Œç›‘å¬è·¯ç”±å’Œå“åº”å†…å®¹.ååˆ†æ–¹ä¾¿ 1npm install -g nodemon Expressçš„ä¸€äº›ç‰¹æ€§ï¼š app.getã€app.poståˆ†åˆ«å¼€å‘getå’Œpostæ¥å£ app.useä½¿ç”¨æ¨¡å— res.sendã€res.jsonã€res.sendfileå“åº”ä¸åŒçš„å†…å®¹ ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼ŒåŠä¸ªå°æ—¶ä¸åˆ°å°±èƒ½ä¸Šæ‰‹ mongoDBMacçš„è¯,å®‰è£…mongoDBéå¸¸ç®€å• 1brew install mongodb æå®š. é€šè¿‡å‘½ä»¤åå°å¯åŠ¨ 1mongod --config /usr/local/etc/mongod.conf ä¹‹åå†å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ å°±è¯æ˜mongoå®‰è£…æˆåŠŸå’¯ã€‚ ä¹‹åå°±æ˜¯å®‰è£…mongooseã€‚mongoDBå’Œnodeé…åˆæœ€å¥½çš„ä¸€ä¸ªåº“ã€‚è¯´é€šä¿—ä¸€ç‚¹ï¼šé€šè¿‡mongooseæ“ä½œmongobdï¼Œå­˜å‚¨çš„å°±æ˜¯jsonï¼Œç›¸å¯¹mysqlæ¥è¯´ï¼Œè¦æ˜“ç”¨å¾ˆå¤šã€‚ 1npm install mongoose --save mongooseçš„ä½¿ç”¨ connecté“¾æ¥æ•°æ®åº“ 1234567const mongoose = require(&#x27;mongoose&#x27;)// é“¾æ¥mongoconst DB_URL = &#x27;mongodb://127.0.0.1:27017&#x27;mongoose.connect(DB_URL)mongoose.connection.on(&#x27;connected&#x27;,function () &#123; console.log(&#x27;mongo connect success&#x27;)&#125;) å¦‚æœnode serverç«¯æ‰“å°å‡ºï¼šmongo connect successã€‚mongoDBå°±é“¾æ¥ä¸Šäº† å®šä¹‰æ–‡æ¡£æ¨¡å‹ï¼ŒSchemaå’Œmodelæ–°å»ºæ¨¡å‹ ä»£ä¸€ä¸ªæ•°æ®åº“æ–‡æ¡£å¯¹åº”ä¸€ä¸ªæ¨¡å‹ï¼Œé€šè¿‡æ¨¡å‹å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ egï¼š 1234const User = mongoose.model(&#x27;user&#x27;, new mongoose.Schema(&#123; name: &#123;type: String, require: true&#125;, age: &#123;type: Number, require: true&#125;,&#125;)) Mongooseæ–‡æ¡£ç±»å‹ï¼š Stringã€Numberç­‰æ•°æ®ç»“æ„ å®šcreateã€removeã€updateåˆ†åˆ«ç”¨æ¥å¢åˆ æ”¹æŸ¥çš„æ“ä½œ Findå’ŒfindOneç”¨æ¥æŸ¥è¯¢æ•°æ® æ–°å¢æ•°æ®ï¼š 123456789101112// æ–°å¢æ•°æ®User.create(&#123; name: &#x27;lac&#x27;, age: 20&#125;, function (err, doc) &#123; if (!err) &#123; console.log(doc) &#125; else &#123; console.log(err) &#125;&#125;) åˆ é™¤æ•°æ®ï¼š 123456// åˆ é™¤æ•°æ®User.remove(&#123;age: 20&#125;, function (err, doc) &#123; if (!err) &#123; console.log(doc) &#125;&#125;) æŸ¥è¯¢æ•°æ® 123User.find(&#123;name: &#x27;lac&#x27;&#125;,function (err, doc) &#123; res.json(doc)&#125;) findOneå°±æ˜¯æŸ¥æ‰¾åˆ°ä¸€æ¡è¿”å›~ï¼Œfindæ˜¯å¤šæ¡ã€‚ æ›´æ–°æ•°æ® 1234// æ›´æ–°User.update(&#123;&#x27;name&#x27;: &#x27;lac&#x27;&#125;,&#123;&#x27;$set&#x27;: &#123;age: 26&#125;&#125;,function (err, doc) &#123; console.log(doc)&#125;)","tags":[{"name":"Express","slug":"Express","permalink":"http://yoursite.com/tags/Express/"},{"name":"MongoDB","slug":"MongoDB","permalink":"http://yoursite.com/tags/MongoDB/"}]},{"title":"CSSæ··åˆæ¨¡å¼","date":"2017-11-18T13:39:04.000Z","path":"2017/11/18/CSSæ··åˆæ¨¡å¼/","text":"å‰å‡ å¤©åœ¨ä¸€ä¸ªä¸€ä¸ªæŠ€æœ¯ç½‘ç«™çœ‹åˆ°äº†ä¸€ç¯‡é€šè¿‡CSS3ç‰¹æ€§ï¼Œå®Œæˆé…·ç‚«æ•ˆæœçš„æ–‡ç« ã€‚åœ¨å…¬å¸æAppç§»åŠ¨ç«¯ä»¥æ¥ï¼Œå¥½ä¸€é˜µæ²¡æœ‰å†™çº¯ç²¹çš„htmlå’Œcssäº†ã€‚ä»Šå„¿å­¦åˆ°äº†ä¸€ä¸ªä»¥å‰ä¸çŸ¥é“çš„CSS3å±æ€§ï¼šæ··åˆæ¨¡å¼ã€‚ å…³äºæ··åˆæ¨¡å¼CSS3å‡ºç°äº†ä¸¤ä¸ªä¸æ··åˆæ¨¡å¼æœ‰å…³çš„å±æ€§ï¼Œmix-blend-modeå’Œbackground-blend-mode. å…¼å®¹æ€§å¦‚ä¸‹ï¼šå¯è§ï¼ŒChromeå’ŒFireFoxå·²ç»æ”¯æŒäº†ï¼Œå¹¶ä¸”ä¸éœ€è¦ä½¿ç”¨å‰ç¼€ã€‚ mix-blend-modeå¯ä½¿ç”¨çš„å€¼ï¼š 1234567891011121314151617181920mix-blend-mode: normal; //æ­£å¸¸mix-blend-mode: multiply; //æ­£ç‰‡å åº•mix-blend-mode: screen; //æ»¤è‰²mix-blend-mode: overlay; //å åŠ mix-blend-mode: darken; //å˜æš—mix-blend-mode: lighten; //å˜äº®mix-blend-mode: color-dodge; //é¢œè‰²å‡æ·¡mix-blend-mode: color-burn; //é¢œè‰²åŠ æ·±mix-blend-mode: hard-light; //å¼ºå…‰mix-blend-mode: soft-light; //æŸ”å…‰mix-blend-mode: difference; //å·®å€¼mix-blend-mode: exclusion; //æ’é™¤mix-blend-mode: hue; //è‰²ç›¸mix-blend-mode: saturation; //é¥±å’Œåº¦mix-blend-mode: color; //é¢œè‰²mix-blend-mode: luminosity; //äº®åº¦mix-blend-mode: initial; //åˆå§‹mix-blend-mode: inherit; //ç»§æ‰¿mix-blend-mode: unset; //å¤åŸ æœ‰äº†mix-blend-modeï¼Œæˆ‘ä»¬èƒ½æ›´æ–¹ä¾¿çš„ä½¿ç”¨ä¸€äº›æ–‡å­—ç‰¹æ•ˆã€‚ * mix-blend-modeé»˜è®¤æƒ…å†µä¸‹æ˜¯ä¼šæ··åˆæ‰€æœ‰æ¯”èµ·å±‚å é¡ºåºä½çš„å…ƒç´ çš„ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›å€¼æ··åˆæŸä¸€ä¸¤ä¸ªå…ƒç´ ï¼Œè€Œä¸æ˜¯å…¨éƒ¨ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå¯ä»¥è¯•è¯•ä½¿ç”¨CSS3 isolation:isolate background-blend-modeé¡¾åæ€ä¹‰ èƒŒæ™¯æ··åˆï¼Œå±æ€§æ”¯æŒå’Œmix-blend-modeä¸€è‡´ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªèƒ½æ˜¯backgroundå±æ€§ä¸­çš„èƒŒæ™¯å›¾ç‰‡å’Œé¢œè‰²æ··åˆï¼Œè€Œä¸”åªèƒ½åœ¨ä¸€ä¸ªbackgroundå±æ€§ä¸­ã€‚","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"æ¯”Reduxç®€å•å¤ªå¤šçš„Mobx","date":"2017-11-18T13:30:54.000Z","path":"2017/11/18/æ¯”Reduxç®€å•å¤ªå¤šçš„Mobx/","text":"unhappy with redux? try mobx ç›¸æ¯”ä¸Šæ‰‹&#x2F;æ“ä½œåŠå…¶ç¹ççš„Reduxï¼Œç”¨MobxåšçŠ¶æ€ç®¡ç†ï¼Œæœ€ç›´è§‚çš„æ„Ÿå—æ˜¯çˆ½çˆ†äº†ã€‚ Mobxæ˜¯ä¸€ä¸ªéå¸¸ç›´è§‚çš„çŠ¶æ€ç®¡ç†åº“ï¼Œä½¿ç”¨éå¸¸ç®€å•ã€‚é€šè¿‡Mobxï¼Œä½¿react å…³æ³¨çš„çŠ¶æ€(state)åˆ°è§†å›¾(view)çš„é—®é¢˜ã€‚è€Œ mobx å…³æ³¨çš„æ˜¯çŠ¶æ€ä»“åº“ï¼ˆstoreï¼‰åˆ°çš„çŠ¶æ€(state)çš„é—®é¢˜ã€‚ åºŸè¯ä¸å¤šè¯´ï¼Œè¿™é‡Œé€šè¿‡ä¸€ä¸ªæœ€æœ€ç®€å•çš„ä¾‹å­æ¥æ„Ÿå—åŸºäºRNçš„Mobxã€‚ é¦–å…ˆinit ä¸€ä¸ªRNå·¥ç¨‹ï¼š 1react-native init ReactNativeMobX å®‰è£…ä¾èµ–åº“mobxä»¥åŠmobx-reactï¼š 1npm i mobx mobx-react --save å› ä¸ºmobxè¦ä½¿ç”¨ES7çš„è¯­æ³•ï¼ˆDecoratorï¼‰,æˆ‘ä»¬è¿˜éœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨babelï¼š 1npm i babel-plugin-transform-decorators-legacy babel-preset-react-native-stage-0 --save-dev åœ¨å·¥ç¨‹ç›®å½•ä¸‹çš„.babellrcæ–‡ä»¶é‡Œé…ç½®ä¸€ä¸‹ï¼š 1234&#123; &quot;presets&quot;: [&quot;react-native&quot;], &quot;plugins&quot;: [&quot;transform-decorators-legacy&quot;]&#125; ç¯å¢ƒæ­é…å®Œå’¯ã€‚ä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥ç¼–å†™ä»£ç å’¯ã€‚è¿™é‡Œå®ç°ä¸€ä¸ªè¶…çº§ç®€å•çš„ä¾‹å­ã€‚ä¸¤ä¸ªbtnï¼Œ+å’Œ-ã€‚æ§åˆ¶å­—ç¬¦çš„åŠ å‡ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨å·¥ç¨‹æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªmobxæ–‡ä»¶å¤¹å¹¶åˆ›å»ºä¸€ä¸ªä»“åº“æ–‡ä»¶ï¼šcountStore.js 1234567891011121314151617181920212223242526// å¯¼å…¥äº†è¢«è§‚å¯Ÿè€… observableimport &#123;observable&#125; from &#x27;mobx&#x27;// åˆ›å»ºäº†ä¸€ä¸ªæ–°ç±»ï¼šObservableCountStoreclass ObservableCountStore &#123; // å®šä¹‰ä¸€ä¸ªdataå˜é‡ã€‚è¿™ä¸ªå˜é‡çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºè¢«@observableä¿®é¥° // è¡¨ç¤ºè¯¥ç±»çš„dataå±æ€§å¯è¢«è§‚å¯Ÿè€…ï¼ˆobserverï¼‰è§‚å¯Ÿï¼Œä¹Ÿå°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚ @observable data = 0 // é€’å¢æ“ä½œæ–¹æ³• handleAdd = () =&gt; &#123; this.data++ &#125; // é€’å‡æ“ä½œæ–¹æ³• handleDec = () =&gt; &#123; this.data-- &#125;&#125;// å®ä¾‹åŒ–äº†ObservableListStoreç±»const observableCountStore = new ObservableCountStore();// exportå®ä¾‹åŒ–çš„å¯¹è±¡export default observableCountStore è¿™é‡Œæˆ‘ä»¬çš„ä»“åº“å°±åˆ›å»ºå®Œäº†ã€‚æ¥ä¸‹æ¥åœ¨App.jsæ–‡ä»¶ï¼ˆæ–°ç‰ˆRNå°†index.android.jsåŠindex.ios.jsåˆäºŒä¸ºä¸€äº†ï¼‰ä½¿ç”¨æˆ‘ä»¬çš„storeã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344import React, &#123; Component &#125; from &#x27;react&#x27;;import &#123; StyleSheet, Text, View, TouchableOpacity&#125; from &#x27;react-native&#x27;;// å¯¼å…¥observerï¼ˆè§‚å¯Ÿè€…ï¼‰import &#123;observer&#125; from &#x27;mobx-react/native&#x27;// å¯¼å…¥æˆ‘ä»¬çš„ä»“åº“import observableCountStore from &#x27;./mobx/countStore&#x27;// æˆ‘ä»¬ä½¿ç”¨@observerä¿®é¥°ç¬¦æ¥ä¿®é¥°Appç±»ï¼Œå®ƒå¯ä»¥ä¿è¯å½“å…¶ç›¸å…³è”çš„æ•°æ®å˜åŒ–æ—¶ï¼Œè¯¥ç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“@observerexport default class App extends Component&lt;&#123;&#125;&gt; &#123; render() &#123; return ( &lt;View style=&#123;styles.container&#125;&gt; &lt;Text style=&#123;styles.welcome&#125;&gt; &#123;observableCountStore.data&#125; &lt;/Text&gt; &lt;View style=&#123;styles.wrapper&#125; &gt; &lt;TouchableOpacity style=&#123;styles.countBtn&#125; onPress=&#123;() =&gt; &#123; observableCountStore.handleAdd() &#125;&#125; &gt; &lt;Text&gt;+&lt;/Text&gt; &lt;/TouchableOpacity&gt; &lt;TouchableOpacity style=&#123;styles.countBtn&#125; onPress=&#123;() =&gt; &#123; observableCountStore.handleDec() &#125;&#125; &gt; &lt;Text&gt;-&lt;/Text&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; &lt;/View&gt; ); &#125;&#125;// æ ·å¼çœç•¥~ é€šè¿‡observableCountStore.dataï¼Œåœ¨renderé‡Œä½¿ç”¨storeé‡Œçš„æ•°æ®ã€‚é€šè¿‡observableCountStore.handleAdd()å’ŒobservableCountStore.handleDec()ä¸¤ä¸ªæ–¹æ³•æ¥æ”¹å˜çŠ¶æ€ã€‚ è‡³æ­¤ä¸€ä¸ªæœ€æœ€ç®€å•çš„Mobxä¾‹å­å®Œæˆã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°mobxä»¥æœ€ç›´æ¥çš„æ–¹å¼æ¥ç®¡ç†æˆ‘ä»¬çš„çŠ¶æ€ï¼Œå³æˆ‘ä»¬å¼€å§‹è¯´çš„ mobx å…³æ³¨çš„æ˜¯çŠ¶æ€ä»“åº“ï¼ˆstoreï¼‰åˆ°çš„çŠ¶æ€(state)çš„é—®é¢˜ã€‚æ˜¯ä¸æ˜¯æ¯”Reduxç®€å•å¤ªå¤šäº†~&#x3D;ã€‚&#x3D;","tags":[{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"},{"name":"Mobx","slug":"Mobx","permalink":"http://yoursite.com/tags/Mobx/"}]},{"title":"å‡½æ•°å¼ç¼–ç¨‹ä¸Redux","date":"2017-11-14T15:13:40.000Z","path":"2017/11/14/å‡½æ•°å¼ç¼–ç¨‹ä¸Redux/","text":"è¯´é“å‡½æ•°å¼ç¼–ç¨‹ï¼ŒJSè¿™è¾¹Reduxæ˜¯ä»£è¡¨ä¸­çš„ä»£è¡¨ã€‚ ä»¥Reduxçš„reducerså‡½æ•°ä¸ºä¾‹ï¼Œå®ƒæ˜¯æ ‡å‡†çš„çº¯å‡½æ•°ï¼Œè¿™é‡Œä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œè¯´æ˜ä¸ºä»€ä¹ˆè¦ç”¨çº¯å‡½æ•°ï¼š é¦–å…ˆæ˜¯æºç  1234567891011121314151617181920212223242526272829unction posts( state = &#123; isFetching: false, didInvalidate: false, items: [] &#125;, action) &#123; switch (action.type) &#123; case INVALIDATE_SUBREDDIT: return Object.assign(&#123;&#125;, state, &#123; didInvalidate: true &#125;) case REQUEST_POSTS: return Object.assign(&#123;&#125;, state, &#123; isFetching: true, didInvalidate: false &#125;) case RECEIVE_POSTS: return Object.assign(&#123;&#125;, state, &#123; isFetching: false, didInvalidate: false, items: action.posts, lastUpdated: action.receivedAt &#125;) default: return state &#125;&#125; å¦‚æœæˆ‘ä»¬ä¸ç”¨returnï¼Œåœ¨reducerå†…ä¿®æ”¹æ—§çš„stateå˜é‡ã€‚å˜ä¸ºä¸çº¯çš„å‡½æ•°ï¼Œæ˜¯è¿™æ ·çš„ã€‚ 123456789101112131415161718192021switch (action.type) &#123; case INVALIDATE_SUBREDDIT: state = Object.assign(&#123;&#125;, state, &#123; didInvalidate: true &#125;) case REQUEST_POSTS: state = Object.assign(&#123;&#125;, state, &#123; isFetching: true, didInvalidate: false &#125;) case RECEIVE_POSTS: state = Object.assign(&#123;&#125;, state, &#123; isFetching: false, didInvalidate: false, items: action.posts, lastUpdated: action.receivedAt &#125;) default: return state&#125; åœ¨Reduxä¸­combineReducers.jsä¸­çœ‹ä¸‹reduxæ˜¯å¦‚ä½•å¤„ç†çš„ 12345678910111213141516 let hasChanged = false const nextState = &#123;&#125; for (let i = 0; i &lt; finalReducerKeys.length; i++) &#123; const key = finalReducerKeys[i] const reducer = finalReducers[key] const previousStateForKey = state[key] const nextStateForKey = reducer(previousStateForKey, action) if (typeof nextStateForKey === &#x27;undefined&#x27;) &#123; const errorMessage = getUndefinedStateErrorMessage(key, action) throw new Error(errorMessage) &#125; nextState[key] = nextStateForKey hasChanged = hasChanged || nextStateForKey !== previousStateForKey &#125; return hasChanged ? nextState : state&#125; è¿™ä¸¤è¡Œ 1const nextStateForKey = reducer(previousStateForKey, action) 1hasChanged = hasChanged || nextStateForKey !== previousStateForKey reducerå°†æ—§çš„çŠ¶æ€ï¼ˆprevï¼‰å’Œè¦ä¿®æ”¹çš„æ•°æ®ä¸€èµ·ä¼ è¿›å»ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ï¼ˆnextï¼‰çŠ¶æ€ï¼Œprevå’Œnextç›¸æ¯”è¾ƒæ¥ç¡®å®šstorgeæ•°æ®æ˜¯å¦æ”¹å˜ã€‚å¦‚æœæˆ‘ä»¬ç”¨ä¸çº¯çš„å‡½æ•°ï¼Œprevå’Œnextå°†ä¸€è‡´ï¼Œå°±ç®—æ•°æ®æ”¹å˜ï¼ŒhasChangedä¹Ÿä¼šæ˜¯falseã€‚é€šè¿‡å‡½æ•°å¼çš„æ–¹å¼æ²¡æœ‰ä»€ä¹ˆâ€œå‰¯ä½œç”¨â€ Reduxå…¨ç¯‡éƒ½æ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Œè¿™é‡Œåªæ˜¯å†°å±±ä¸€è§’ã€‚Reduxçš„æºç å†™å¾—éå¸¸ä¼˜é›…ã€‚","tags":[{"name":"Redux","slug":"Redux","permalink":"http://yoursite.com/tags/Redux/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"http://yoursite.com/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"}]},{"title":"Swiftå­¦ä¹ æ‚è®°(ä¸€)","date":"2017-11-04T16:07:52.000Z","path":"2017/11/05/Swiftå­¦ä¹ æ‚è®°(ä¸€)/","text":"åŠè·¯å‡ºå®¶æRNï¼Œè¿˜æ˜¯æœ‰å¿…è¦å­¦ä¹ å­¦ä¹ åŸç”Ÿçš„ä¸œè¥¿ï¼Œæœ€è¿‘åœ¨çœ‹Swiftè¯­æ³•ã€‚è¿™é‡Œæ‚ä¹±çš„è®°ä¸€ä¸‹ã€‚ ï¼ˆ2017.11.3 Â·æ°´ç«‹æ–¹ï¼‰ letå…³é”®å­—å’Œvarå…³é”®å­—åˆ†åˆ«è¡¨ç¤ºå¸¸é‡å’Œå˜é‡ Swiftæ˜¯ä¸€ç§letå…³é”®å­—å’Œvarå…³é”®å­—åˆ†åˆ«è¡¨ç¤ºå¸¸é‡å’Œå˜é‡ Swiftæ˜¯ä¸€ç§éå¸¸ç®€æ´çš„è¯­è¨€ï¼Œå…¶å…è®¸å¼€å‘è€…çœç•¥åˆ†å·ï¼Œè‡ªåŠ¨æ¢è¡Œæ¥åˆ†å‰²è¯­å¥ï¼ŒåŒäº‹ä¹Ÿæ”¯æŒåœ¨ä¸€è¡Œä¸­ç¼–å†™å¤šå¥ä»£ç  å¦‚æœéœ€è¦æ”¹å˜å˜é‡çš„å€¼ï¼Œç›´æ¥å¯¹å˜é‡å†èµ‹å€¼å³å¯ã€‚éœ€è¦æ³¨æ„ï¼šæ‰€å¤åˆ¶çš„ç±»å‹å¿…é¡»å’Œå˜é‡çš„ç±»å‹ä¿æŒä¸€è‡´ã€‚ swiftè¯­è¨€çš„æ³¨é‡Šä¸€ä¸ªæœ‰è¶£çš„ç‰¹æ€§ï¼šå¯ä»¥è¿›è¡Œæ³¨é‡Šçš„åµŒå¥— 12345//å•è¡Œæ³¨é‡Š//æ³¨é‡Šä¸­çš„æ³¨é‡Š/*å¤šè¡Œæ³¨é‡Š /*åµŒå¥—æ³¨é‡Š*/*/ swiftæ•´æ•°æ•°æ®åˆ†æœ‰ç¬¦å·æ•´æ•°ç±»å‹å’Œæ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚ swiftä¸€ä¸ªååˆ†æœ‰æ„æ€çš„ç‰¹æ€§ï¼šæ— è®ºæ˜¯æ•´æ•°æ•°æ®è¿˜æ˜¯æµ®ç‚¹æ•°æ®ã€‚éƒ½å¯ä»¥åœ¨æ•°å­—å‰åŠ ä»»æ„çš„0æ¥è¿›è¡Œä½æ•°å¡«å……ï¼Œä¹Ÿå¯ä»¥åœ¨æ•°å­—ä¸­åŠ å…¥ä¸‹åˆ’çº¿_è¿›è¡Œåˆ†å‰²ï¼Œä»Šå„¿å¢åŠ å¯è¯»æ€§ã€‚ swiftçš„BOOLlç±»å‹ååˆ†ä¸¥æ ¼ã€‚åªæœ‰trueå’Œfalseä¸¤ç§å€¼ã€‚ swiftå…ƒç¥–ï¼šå…è®¸ä¸€äº›ä¸ç›¸å…³çš„ç±»å‹è¿›è¡Œè‡ªç”±ç»„åˆæˆä¸ºæ–°çš„é›†åˆç±»å‹ã€‚OCå¹¶ä¸æ”¯æŒè¿™ç§æ•°æ®ç±»å‹ã€‚ swiftè¯­è¨€ä¸­å¸¸å¸¸ä½¿ç”¨â€œ_â€æ¥è¡¨ç¤ºåŒ¿åçš„æ¦‚å¿µï¼Œå› æ­¤â€œ_â€ä¹Ÿè¢«ç§°ä¸ºåŒ¿åæ ‡è¯†ç¬¦ Swiftè¯­è¨€ä¸­æä¾›äº†ä¸€ç§åŒ…è£…çš„æ–¹å¼æ¥å¯¹æ™®é€šç±»å‹è¿›è¡ŒOptionalåŒ…è£…ï¼Œå®ç°å¯¹ç©ºå€¼æƒ…å†µçš„ç›‘æ§ã€‚ã€‚åœ¨swiftè¯­è¨€ä¸­å¦‚æœä½¿ç”¨äº†ä¸€ä¸ªæ²¡æœ‰è¿›è¡Œå¤åˆ¶çš„å˜é‡ï¼Œç¨‹åºæ˜¯ä¼šç›´æ¥æŠ¥é”™ç»ˆæ­¢çš„ã€‚ åœ¨æ™®é€šç±»å‹åé¢æ·»åŠ ç¬¦å·â€œï¼Ÿâ€ï¼Œæ—¢å¯ä»¥å°†æ™®é€šé…å‹åŒ…è£…ä¸ºOptionalç±»å‹ã€‚ optionalç±»å‹ä¸ä¼šç‹¬ç«‹å­˜åœ¨ï¼Œå…¶æ€»æ˜¯ä¼šé™„ç€äºæŸä¸ªå…·ä½“çš„æ•°æ®ç±»å‹ä¹‹ä¸Šã€‚ Optionalç±»å‹æ˜¯å¯¹æ™®é€šç±»å‹çš„ä¸€ç§åŒ…è£…ï¼Œå› æ­¤åœ¨ä½¿ç”¨çš„æ—¶å€™ä¹Ÿéœ€è¦å¯¹å…¶è¿›è¡Œæ‹†åŒ…æ“ä½œã€‚ 12345//å£°æ˜objä¸ºString?ç±»å‹var obj:Srting? = &quot;HS&quot;if obj != nil &#123; obj!&#125; ä¸ºå˜é‡èµ·åˆ«åï¼štypealias Swiftæ˜¯ä¸€ç§å¼±åŒ–æŒ‡é’ˆçš„è¯­è¨€ï¼Œå®ƒæä¾›äº†Stringå’ŒCharacterç±»å‹æ¥æè¿°å­—ç¬¦ä¸²ä¸å­—ç¬¦ã€‚ Swiftè¯­è¨€æœ‰3ç§é›†åˆç±»å‹ï¼šArrayï¼ŒSetï¼ŒDictionary å­—ç¬¦ä¸²ç»„åˆï¼šé™¤äº†+è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ã€‚swiftæä¾›äº†ä¸€ç§ååˆ†ä¾¿æ·çš„å­—ç¬¦ä¸²æ’å€¼æ–¹æ³•ã€‚ 123// ä½¿ç”¨\\()è¿›è¡Œå­—ç¬¦ä¸²æ’å€¼var d = &quot;Hello \\(123)&quot; //&quot;Hello 123&quot; Swiftè¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨MemoryLayoutæšä¸¾æ¥è·å–æŸä¸ªç±»å‹æ‰€å çš„å†…å­˜ç©ºé—´ï¼Œå…¶å•ä½ä¸ºå­—èŠ‚ï¼š 1MemoryLayout&lt;String&gt;.size //24å­—èŠ‚ åˆ¤æ–­å­—ç¬¦ä¸²å˜é‡æ˜¯å¦ä¸ºç©ºï¼š 12obj1.isEmptyobj1.characters.count == 0 1234// è·å–å­—ç¬¦ä¸²èµ·å§‹ä¸‹æ ‡var stringIndex = string.startIndex// ç»“æŸä¸‹æ ‡var endIndex = string.endIndex æ³¨æ„ï¼šé™¤éä¸ºç©ºå­—ç¬¦ï¼Œå¦åˆ™ç»“æŸä¸‹æ ‡å¿—æ€»ä¼šæ¯”å­—ç¬¦ä¸²ä¸­æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡å€¼å¤§1ï¼›å¦å¤–startIndexå’ŒendIndexè·å–åˆ°çš„å€¼æ˜¯indexç±»å‹ï¼Œå¹¶ä¸æ˜¯æ•´æ•°ç±»å‹ æ£€æŸ¥å­—ç¬¦ä¸²å‰åç¼€ï¼š 1234// æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰MYå‰ç¼€string2.hasPrefix(&#x27;MY&#x27;)// æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰jakiåç¼€string2.hasSuffix(&quot;jaki&quot;) Swiftè¯­è¨€ä¸­Arrayé‡‡ç”¨ç»“æ„ä½“æ¥å®ç°ï¼Œå¯¹äºå¤§é‡é‡å¤å…ƒç´ çš„æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨ï¼š 12// åˆ›å»ºæ˜¯ä¸ªâ€œHelloâ€å…ƒç´ çš„æ•°ç»„var arr = [String](repeating: &quot;Hello&quot;,count: 10) *åªæœ‰å½“Arrayå®ä¾‹ä¸ºå˜é‡çš„æ—¶å€™æ‰å¯ä»¥ä½¿ç”¨å¢åˆ æ”¹æŸ¥ç­‰æ–¹æ³•ã€‚å¸¸é‡letä¸è¡Œã€‚ Arrayå®ä¾‹ä¸­æœ‰ä¸€ä¸ªenumerated()çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå…ƒç¥–é›†åˆï¼Œå°†æ•°ç»„çš„ä¸‹æ ‡å’Œå¯¹åº”å…ƒç´ è¿”å›ã€‚ Arrayæ’åºå‡½æ•°ï¼šsort(isOrderedBefore:)çš„æ–¹å¼è¿›è¡Œæ’åºã€‚ 12345var arr = [1,3,5,7]//ä»å¤§åˆ°å°arr.sorted(isOrderedBefore: &gt;)//ä»å°åˆ°å¤§arr.sorted(isOrderedBefore: &lt;) Setä¸€ä¸ªç‹¬æœ‰çš„çš„ç‚¹å¯ä»¥è¿›è¡Œæ•°å­¦çš„é›†åˆè¿ç®—ï¼šäº¤é›†ã€å¹¶é›†ã€è¡¥é›†ç­‰ Setè™½ç„¶ä¸å¼ºè°ƒé¡ºåºã€‚ä½†æ˜¯å¯ä»¥å…ˆæ’åºå†éå† 1234for item in set1.sorted(isOrderedBefore: &gt;) &#123; print(item)&#125; Swiftå­—å…¸ç±»å‹ï¼šé€šè¿‡[param1:param2]è¿™ç§ç»“æ„ç”¨äºè¡¨ç¤ºå­—å…¸ç±»å‹ï¼Œæˆ–è€…Dictionary&lt;Intï¼ŒString&gt;è¿™ç§æ–¹å¼ã€‚ åŒºé—´è¿ç®—ï¼šswiftæ”¯æŒRangeç»“æ„ä½“æ¥æè¿°èŒƒå›´å¤–ï¼Œè¿˜å¯ä»¥è¿™æ ·ï¼š 1234// åˆ›å»ºèŒƒå›´å¤§äºç­‰äº0ï¼Œå°äºç­‰äº10var range1 = 0...10// å¤§äºç­‰äº0ï¼Œå°äº10.åŠå¼€é—­var range2 = 0..&lt;10 é€šè¿‡~&#x3D;æ¥æ£€æŸ¥æŸä¸ªæ•°å­—æ˜¯å¦åŒ…å«åœ¨èŒƒå›´ä¸­ 1print(range1 ~= 8) Swiftæä¾›äº†for-in,while,repeat-whileä¸‰ç§å¾ªç¯ç»“æ„ 12345// å¦‚æœä¸éœ€è¦è·å–å¾ªç¯ä¸­çš„æ¬¡åºï¼Œå¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°çš„æ–¹å¼var sum = 0for _ in 1...3 &#123; sum += 1&#125; ç”Ÿæˆéšæœºæ•° 123//1~7// arc4random()ä¸ºSwiftæ ‡å‡†åº“ä¸­çš„éšæœºæ•°ç”Ÿæˆå‡½æ•°var rand = arcrrandom() % 7 + 1 é—­åŒ…å’Œå‡½æ•°é—­åŒ…å’Œå‡½æ•°æœ‰ç€å¯†ä¸å¯åˆ†çš„å…³ç³»ï¼šå‡½æ•°æ˜¯æœ‰åç§°çš„åŠŸèƒ½ä»£ç å—ï¼Œé—­åŒ…åœ¨ç»å¤§å¤šæ•°æƒ…å†µæ˜¯æ²¡æœ‰åç§°çš„åŠŸèƒ½ä»£ç å—ã€‚swiftçš„å‡½æ•°æ ¼å¼ï¼š 1func å‡½æ•°å(p1,p2...) -&gt;returnValue &#123;å®ç°éƒ¨åˆ†&#125; å¦‚æœå‡½æ•°ä¹Ÿä¸éœ€è¦è¿”å›å€¼ï¼Œå¯ä»¥é€‰æ‹©è¿”å›Voidæˆ–è€…ç›´æ¥çœç•¥æ‰è¿”å›å€¼éƒ¨åˆ†ã€‚ Swiftè¯­è¨€ä¸­æœ‰ä¸€ä¸ªä½¿ç”¨æŠ€å·§ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡Optionalç±»å‹æ¥æ ‡è¯†å‡½æ•°çš„æ‰§è¡Œæ˜¯å¦æˆåŠŸã€‚åœ¨è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨if-letè¿›è¡Œå®‰å…¨æ£€æŸ¥ã€‚egï¼š 123456789func onMyOMG(param: Int) -&gt; Int? &#123; guard param &gt; 100 else &#123; return nil &#125; return param - 100&#125;if let temp = ohMyOMG(param: 101) &#123; print(temp)&#125; Swiftè¯­è¨€çš„å‚æ•°ä¼ é€’ï¼Œæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼šä¼ é€’çš„å¦‚æœæ˜¯å€¼ç±»å‹çš„å‚æ•°ï¼Œé‚£ä¹ˆå‚æ•°å€¼åœ¨ä¼ é€’è¿›å‡½æ•°å†…éƒ¨æ—¶ä¼šå°†åŸå€¼æ‹·è´ä¸ºä¸€ä»½å¸¸é‡ã€‚ä¸”åœ¨å‡½æ•°å†…ä¸èƒ½ä¿®æ”¹ã€‚ Anyåœ¨Swiftè¯­è¨€ä¸­ä»£è¡¨ä»»æ„ç±»å‹ Swiftè¯­è¨€ä¸­åˆ›å»ºæ•°å€¼å˜é‡æ—¶å¯ä»¥é€šè¿‡+â€œ0bâ€å‰ç¼€çš„æ–¹å¼è®²æ•°å€¼è®¾ä¸ºäºŒè¿›åˆ¶ swiftä½¿ç”¨enumå…³é”®è¯æ¥è¿›è¡Œæšä¸¾çš„åˆ›å»º ç»“æ„ä½“ æšä¸¾ä»¥åŠä¹‹å‰æåˆ°çš„é™¤ç±»ä¹‹å¤–çš„æ‰€æœ‰æ•°æ®ç±»å‹éƒ½å±äºå€¼ç±»å‹ã€‚åªæœ‰ç±»æ˜¯å¼•ç”¨ç±»å‹ã€‚ å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹æœ€å¤§çš„åŒºåˆ«æ˜¯å½“è¿›è¡Œæ•°æ®ä¼ è¾“æ—¶ï¼Œå€¼ç±»å‹æ€»æ˜¯è¢«å¤åˆ¶ã€‚è€Œå¼•ç”¨ç±»å‹ä¸ä¼šè¢«å¤åˆ¶ã€‚ ç»“æ„ä½“vsç±»ï¼šç»“æ„ä½“å¼€å‘è€…å¹¶ä¸éœ€è¦æä¾›æ„é€ æ–¹æ³•ï¼Œç»“æ„ä½“ä¼šæ ¹æ®å±æ€§è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚è€Œç±»åˆ™è¦æ±‚å¼€å‘è€…è‡ªå·±æä¾›æ„é€ æ–¹æ³•ã€‚ Swiftè¯­è¨€ä¸­Arrayï¼ŒStringï¼ŒDictéƒ½æ˜¯é€šè¿‡ç»“æ„ä½“å®ç°çš„ã€‚ Swiftå±æ€§åˆ†å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§ã€‚å­˜å‚¨å±æ€§ç”¨äºæè¿°å­˜å‚¨å€¼ï¼›è®¡ç®—å±æ€§ï¼šç”¨äºæè¿°è®¡ç®—è¿‡ç¨‹å¹¶è·å–è®¡ç®—ç»“æœ Swiftå±æ€§è¿˜æ”¯æŒå»¶è¿Ÿå­˜å‚¨å±æ€§ã€‚åªæœ‰å½“å¼€å‘è€…è°ƒç”¨åˆ°ç±»å®ä¾‹çš„è¿™ä¸ªå±æ€§æ‰å®Œæˆæ„é€ ã€‚","tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://yoursite.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"swift","slug":"swift","permalink":"http://yoursite.com/tags/swift/"}]},{"title":"React Nativeçƒ­æ›´æ–°ä¸€äº›å‘½ä»¤","date":"2017-11-01T15:16:26.000Z","path":"2017/11/01/React-Nativeçƒ­æ›´æ–°æ‚è®°/","text":"CodePushå·¨ç¡¬æä¾›çš„ä¸€å¥—çƒ­æ›´æ–°ç­–ç•¥ã€‚ä½¿ç”¨CodePush å¯ä»¥è¿›è¡Œå®æ—¶çš„æ¨é€ä»£ç æ›´æ–°ã€‚CodePush ä½œä¸ºä¸€ä¸ªä¸­å¤®ä»“åº“ï¼Œå¼€å‘è€…å¯ä»¥æ¨é€æ›´æ–° (JS, HTML, CSS and images)ï¼Œåº”ç”¨å¯ä»¥ä»å®¢æˆ·ç«¯ SDK é‡Œé¢æŸ¥è¯¢æ›´æ–°ã€‚ CodePushå¼€æºäº†react-nativeç‰ˆæœ¬ï¼Œreact-native-code-pushæ‰˜ç®¡åœ¨GitHubä¸Šã€‚ åœ¨å…¬å¸å¼€å‘çš„APPä¸Šï¼Œä¸Šå‘¨é›†æˆäº†çƒ­æ›´æ–°ã€‚ç¢°åˆ°äº†ä¸€äº›å°bugï¼Œçƒ­æ›´æ–°æä¸€å“ˆï¼Œæ‚„æ‚„åœ°æŠŠé—®é¢˜æ”¹æ‰å’¯ã€‚å…å»äº†å‘ç‰ˆçš„çƒ¦æ¼ã€‚ï¼ˆä»…é™äºJS bundleéƒ¨åˆ†ï¼Œè¦æ˜¯ä¿®æ”¹äº†åŸç”Ÿï¼Œä½¿ç”¨äº†linkæ“ä½œã€‚è¿˜æ˜¯å¾—è€è€å®å®å‘ç‰ˆï¼‰ CodePushçš„ä¸€äº›å‘½ä»¤è´¦æˆ·ç›¸å…³12345678910code-push app add åœ¨è´¦å·é‡Œé¢æ·»åŠ ä¸€ä¸ªæ–°çš„appcode-push app remove æˆ–è€… rm åœ¨è´¦å·é‡Œç§»é™¤ä¸€ä¸ªappcode-push app rename é‡å‘½åä¸€ä¸ªå­˜åœ¨appcode-push app list æˆ–åˆ™ ls åˆ—å‡ºè´¦å·ä¸‹é¢çš„æ‰€æœ‰appcode-push app transfer æŠŠappçš„æ‰€æœ‰æƒè½¬ç§»åˆ°å¦å¤–ä¸€ä¸ªè´¦å·code-push login ç™»é™†code-push loout æ³¨é”€code-push access-key ls åˆ—å‡ºç™»é™†çš„tokencode-push access-key rm &lt;accessKye&gt; åˆ é™¤æŸä¸ª access-keycode-push app list æˆ–åˆ™ ls åˆ—å‡ºè´¦å·ä¸‹é¢çš„æ‰€æœ‰app æ‰“åŒ…å‘å¸ƒ1code-push release-react &lt;appName&gt; &lt;platform&gt; -t ç‰ˆæœ¬ -d ç¯å¢ƒ --des æè¿° egï¼š 12code-push release-react App-iOS ios -t 2.10.0 -d Production --des &#x27;ä¸€æ®µæè¿°&#x27;//å…¶ä¸­å‚æ•°â€“tä¸ºäºŒè¿›åˆ¶(.ipaä¸apk)å®‰è£…åŒ…çš„çš„ç‰ˆæœ¬ï¼›â€“devä¸ºæ˜¯å¦å¯ç”¨å¼€å‘è€…æ¨¡å¼(é»˜è®¤ä¸ºfalse)ï¼›â€“dæ˜¯è¦å‘å¸ƒæ›´æ–°çš„ç¯å¢ƒåˆ†Productionä¸Staging(é»˜è®¤ä¸ºStaging)ï¼›â€“desä¸ºæ›´æ–°è¯´æ˜ï¼›â€“m æ˜¯å¼ºåˆ¶æ›´æ–°ã€‚ æ³¨æ„ï¼šçƒ­æ›´æ–°çš„ç‰ˆæœ¬å¿…é¡»å’Œappç‰ˆæœ¬ç›¸åŒæ‰æœ‰æ•ˆã€‚é«˜æˆ–è€…ä½éƒ½æ— æ•ˆã€‚ éƒ¨ç½²12345678// æ¸…é™¤å†å²éƒ¨ç½²è®°å½•code-push deployment clear &lt;appName&gt; Production or Staging// åˆ—å‡ºåº”ç”¨çš„éƒ¨ç½²æƒ…å†µcode-push deployment ls &lt;appName&gt;// æŸ¥çœ‹éƒ¨ç½²çš„keycode-push deployment ls &lt;appName&gt; -k // éƒ¨ç½²è®°å½•å†å²code-push deployment history uniApp-IOS Production or Staging","tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://yoursite.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"}]},{"title":"React Nativeå¼€å‘é‡åˆ°çš„ä¸€äº›å‘","date":"2017-10-24T16:03:34.000Z","path":"2017/10/25/React Nativeå¼€å‘é‡åˆ°çš„ä¸€äº›å‘/","text":"è·ä¸Šç¯‡åšæ–‡æœ‰é—´éš”äº†å¥½ä¸€é˜µã€‚10æœˆåˆï¼Œç”¨RNå†™çš„appä¸Šæ¶ä»¥åï¼Œé©¬ä¸åœè¹„åœ°æœ‰æ•´å‡ºæ¥ä¸€ä»½åŒä¸šçš„ç‰ˆæœ¬ï¼Œä¹‹åå°±å…¨åŠ›è¿›è¡ŒäºŒæœŸçš„ä¼˜åŒ–ã€‚å…¶å®å°±æ˜¯å¡«å‘ã€‚æ¯å¤©å¿™å¿™ç¢Œç¢Œï¼Œçƒ¦å¿ƒäº‹é—¹å¿ƒäº‹ä¹Ÿä¸å°‘ã€‚ä¸è¿‡çœ‹åˆ°è‡ªå·±å®Œæˆçš„appä¸Šstoreï¼ŒåŒäº‹å¤¸appå¥½ç”¨ï¼Œå¿ƒé‡Œè¿˜æ˜¯ç¾æ»‹æ»‹çš„ã€‚å›é¦–æappå¼€å‘è¿™å‡ ä¸ªæœˆï¼ŒçœŸæ˜¯æˆé•¿äº†ä¸å°‘ã€‚ è¨€å½’æ­£ä¼ ï¼Œåœ¨è¿™æ€»ç»“ä¸€ä¸‹RNå¼€å‘ä¸­çš„ä¸€äº›å‘ï¼š react-navigationreact-navigationä½œä¸ºå®˜æ–¹æ¨èçš„å¯¼èˆªè·³è½¬çš„å·¥å…·ï¼Œæ¯”èµ·ä¹‹å‰çš„navigatorå¥½ç”¨ä¸å°‘ã€‚å½“ç„¶ä¹Ÿæœ‰ä¸å°‘é—®é¢˜ã€‚ goBackï¼ˆï¼‰é—®é¢˜ react-navigationæä¾›æœ‰goBack()è¿™api, ä½†æ˜¯ä½¿ç”¨è¿”å›æ ˆä¸­æŸä¸ªç»„ä»¶çš„æ–¹æ³•this.props.navigation.goBack(â€˜componentâ€™)æˆ–this.props.navigation.dispatch(NavigationActions.back({key: â€œcomponentâ€}))æ²¡æœ‰ååº”, åŸç†æ˜¯å› ä¸ºè¿™é‡Œçš„componentä¸æ˜¯ç”¨è‡ªå®šä¹‰çš„routeNameè€Œæ˜¯ç”¨è‡ªåŠ¨ç”Ÿæˆçš„éšæœºå€¼key. åˆæ²¡æœ‰æä¾›æœ‰apiè·å–ç»„ä»¶çš„key, æ‰‹åŠ¨å»è·å–åˆååˆ†éº»çƒ¦ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä»–çš„æºç ï¼šæŠŠé¡¹ç›®&#x2F;node_modules&#x2F;react-navigation&#x2F;src&#x2F;routers&#x2F;StackRouter.jsä¸­ 1const backRoute = state.routes.find((route: *) =&gt; route.key === action.key); æ”¹ä¸ºï¼š 1const backRoute = state.routes.find(route =&gt; route.routeName === action.key); è¿™æ ·çš„è¯ï¼Œé‡Œçš„componentè¦å¡«æƒ³è¿”å›çš„ç»„ä»¶çš„å‰ä¸€ä¸ªç»„ä»¶çš„routeName, æ¯”å¦‚ä½ çš„æ ˆé‡Œé¡ºåºæ˜¯home1, home2, home3, home4, åœ¨home4é‡Œè¦è¿”å›home2, ä½¿ç”¨this.props.navigation.goBack(â€˜home3â€™);; å¹¶ä¸”åˆä¼šå¸¦å‡ºä¸€ä¸ªé—®é¢˜: goBack()æ–¹æ³•æ²¡ååº”äº†, å¿…é¡»åŠ ä¸ªnullè¿›å», å†™æˆgoBack(null) å¿«é€Ÿç‚¹å‡»å¤šæ¬¡è·³è½¬é—®é¢˜ å½“æˆ‘ä»¬å¿«é€Ÿç‚¹å‡»xæŒ‰é’®ï¼Œè¯·æ±‚è·³è½¬æ—¶ã€‚å¦‚æœå¿«é€Ÿåœ°ç‚¹å‡»ä¸¤ä¸‹ï¼Œä¸‰ä¸‹ã€‚ä¼šå¯¼è‡´å¿«é€Ÿè·³è½¬ã€‚è¿™é‡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯åŠ å…¥ä¸€ä¸ªsetTimeoutå‡½æ•°ã€‚ ä¿®æ”¹react-navigationç›®å½•ä¸‹ï¼Œscræ–‡ä»¶å¤¹ä¸­çš„addNavigationHelpers.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748export default function&lt;S: *&gt;(navigation: NavigationProp&lt;S, NavigationAction&gt;) &#123; // æ·»åŠ ç‚¹å‡»åˆ¤æ–­ let debounce = true; return &#123; ...navigation, goBack: (key?: ?string): boolean =&gt; navigation.dispatch( NavigationActions.back(&#123; key: key === undefined ? navigation.state.key : key, &#125;), ), navigate: (routeName: string, params?: NavigationParams, action?: NavigationAction,): boolean =&gt; &#123; if (debounce) &#123; debounce = false; navigation.dispatch( NavigationActions.navigate(&#123; routeName, params, action, &#125;), ); setTimeout( () =&gt; &#123; debounce = true; &#125;, 500, ); return true; &#125; return false; &#125;, /** * For updating current route params. For example the nav bar title and * buttons are based on the route params. * This means `setParams` can be used to update nav bar for example. */ setParams: (params: NavigationParams): boolean =&gt; navigation.dispatch( NavigationActions.setParams(&#123; params, key: navigation.state.key, &#125;), ), &#125;;&#125; åº•éƒ¨å¤šä¸ªTextInputï¼Œè¾“å…¥æ³•é®ç›–é—®é¢˜å®‰å“ä¸Šè²Œä¼¼ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä¸»è¦æ˜¯iosç«¯ã€‚ä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯åŸç”Ÿçš„IQKeyBoardManagerã€‚ä½†æ˜¯å¤šä¸ªTextInputæƒ…å†µä¸‹ã€‚æ”¯æŒçš„ä¸æ˜¯å¤ªå¥½ã€‚è¿™é‡Œä½¿ç”¨äº†ä¸€å—å¼€æºçš„ç»„ä»¶ï¼šreact-native-keyboard-aware-scroll-view å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ react-native-lightboxè¿™ä¸ªç»„ä»¶å®ç°äº†ç‚¹å‡»å›¾ç‰‡ï¼Œç¯ç®±æ•ˆæœã€‚ä¸è¿‡å®ƒçš„é—®é¢˜è›®å¤šçš„ã€‚é‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯Pinch to zoomã€‚è¿™ä¸ªç»„ä»¶æœ¬èº«ä¸æ”¯æŒç¯ç®±æ•ˆæœä¸‹ï¼Œæ‰‹åŠ¿æ”¾å¤§ã€‚è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªå°æŠ€å·§ã€‚é€šè¿‡æœ¬èº«çš„swipeToDismiss&#x3D;{false}ä»¥åŠScrollViewçš„minimumZoomScaleå’ŒmaximumZoomScaleå±æ€§è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ eg: 1234567891011121314151617&lt;LightBox key=&#123;i&#125; swipeToDismiss=&#123;false&#125; &gt; &lt;ScrollView minimumZoomScale=&#123;1&#125; maximumZoomScale=&#123;2&#125; centerContent=&#123;true&#125; &gt; &lt;Image style=&#123;styles.image&#125; source=&#123;&#123;&#x27;uri&#x27; : source&#125;&#125; &gt; &lt;/Image&gt; &lt;/ScrollView&gt; &lt;/LightBox&gt; è¿™ä¸ªç»„ä»¶è¿˜æœ‰ä¸€ä¸ªå‘æ˜¯ï¼Œç‚¹å‡»å›¾ç‰‡å‡ºç°ç¯ç®±æ•ˆæœä¹‹åã€‚IOSç«¯çš„é¡¶éƒ¨StatusBarä¿¡æ¯è«åå…¶å¦™çš„æ¶ˆå¤±äº†ã€‚æ’æŸ¥äº†ä¸€å¤§åœˆï¼Œå‘ç°æ˜¯è¿™ä¸ªç»„ä»¶è‡ªå·±å†™æ²¡äº†ã€‚è¿™é‡Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹æºç  &#x2F;node_modules&#x2F;react-native-lightbox&#x2F;LightboxOverlay.js:135 line: 1StatusBar.setHidden(true, &#x27;fade&#x27;); -&gt; StatusBar.setHidden(false, &#x27;fade&#x27;); scrollviewçš„è§¦æ‘¸æ»šåŠ¨äº‹ä»¶åœ¨è¿™é‡Œè¯¦ç»†çš„åˆ—ä¸¾ä¸€ä¸‹ï¼š 1234567891011121314151617181920212223242526271ã€onScrollBeginDragï¼šä¸€ä¸ªå­viewæ»‘åŠ¨å¼€å§‹æ‹–åŠ¨å¼€å§‹æ—¶è§¦å‘ï¼Œæ³¨æ„å’ŒonMomentumScrollBeginçš„åŒºåˆ«2ã€onScrollEndDragï¼šä¸€ä¸ªå­viewæ»šåŠ¨ç»“æŸæ‹–æ‹½æ—¶è§¦å‘ï¼Œæ³¨æ„å’ŒonMomentumScrollEndçš„åŒºåˆ«3ã€onTouchStartï¼šæŒ‰ä¸‹å±å¹•æ—¶è§¦å‘4ã€onTouchMoveï¼šç§»åŠ¨æ‰‹æŒ‡æ—¶è§¦å‘5ã€onTouchEndï¼šæ‰‹æŒ‡ç¦»å¼€å±å¹•è§¦æ‘¸ç»“æŸæ—¶è§¦å‘6ã€onMomentumScrollBeginï¼šå½“ä¸€å¸§æ»šåŠ¨å¼€å§‹æ—¶è°ƒç”¨.7ã€onMomentumScrollEndï¼šå½“ä¸€å¸§æ»šåŠ¨å®Œæ¯•æ—¶è°ƒç”¨.8ã€onStartShouldSetResponderï¼šè§¦æ‘¸å¼€å§‹æ—¶æ˜¯å¦æˆä¸ºå“åº”è€…9ã€onStartShouldSetResponderCaptureï¼šé˜²æ­¢å­è§†å›¾åœ¨è§¦æ‘¸å¼€å§‹æ—¶æˆä¸ºåº”ç­”å™¨10ã€onScrollShouldSetResponderï¼šæ»šåŠ¨æ—¶æ˜¯å¦æˆä¸ºå“åº”è€…11ã€onResponderGrantï¼šå¼€å§‹å“åº”æ—¶è§¦å‘12ã€onResponderReleaseï¼šæ‰‹æŒ‡é‡Šæ”¾åï¼Œè§†å›¾æˆä¸ºå“åº”è€…13ã€onResponderRejectï¼šå¦ä¸€ä¸ªå“åº”å·²ç»è¢«æ¿€æ´», å“åº”è€…ä¸ä¼šé‡Šæ”¾å®ƒåˆ°è¯¥è§†å›¾14ã€onScrollï¼šæ»šåŠ¨æ—¶è§¦å‘ï¼Œä¼šè§¦å‘å¤šæ¬¡ ä¸‹é¢æ˜¯åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„ä¸¤å¼ å›¾ï¼Œåˆ†åˆ«æ˜¯iosç«¯çš„æµ‹è¯•å’ŒAndroidç«¯çš„ï¼š WebViewè‡ªé€‚åº”é«˜åº¦åœ¨åšAPPçš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªéœ€æ±‚å°±æ˜¯å¸Œæœ›é¡µé¢ä¸­çš„æ–‡å­—å¯ä»¥å¤åˆ¶ã€‚å¦‚æœæ˜¯Textç»„ä»¶ä¸‹çš„ã€‚è¿™ä¸ªå¥½è¯´ä¸€ä¸ªselectable&#x3D;{true}å±æ€§æå®šã€‚ä½†æ˜¯selectable&#x3D;{true}è¿™ä¸ªå±æ€§ã€‚åœ¨iosç«¯åªæ”¯æŒæ•´æ®µè¯çš„å¤åˆ¶ã€‚ä¸æ”¯æŒï¼Œé€‰å“ªå„¿å¤åˆ¶é‚£è¿™ç§æ“ä½œã€‚ä¹‹å‰æŸ¥äº†ä¸€ä¸‹å¥½åƒæ˜¯å’Œåº•å±‚OCä»£ç æœ‰å…³ã€‚Androidè¿™å—æ²¡æœ‰é—®é¢˜ã€‚ä¸ºäº†å®ç°éœ€æ±‚ï¼Œé‡‡ç”¨äº†Webviewçš„æ–¹å¼ã€‚ï¼ˆä»æ¥å£çš„åˆ°çš„å­—æ®µä¹Ÿæ˜¯è¶…æ–‡æœ¬ç±»å‹çš„ï¼‰ã€‚ä½†æ˜¯è¿™é‡Œå‡ºç°äº†ä¸€ä¸ªé—®é¢˜å°±æ˜¯WebViewæ— æ³•æ ¹æ®æä¾›å†…å®¹çš„å¤šå°‘è‡ªé€‚åº”é«˜åº¦ã€‚ ReactNativeä¸­çš„WebViewéœ€è¦è®¾å®šé«˜åº¦æ‰èƒ½å±•ç¤ºå‡ºæ¥ï¼Œå› æ­¤éœ€è¦ç”¨jsæ¥è®¡ç®—æ–‡æ¡£é«˜åº¦åšåˆ°é«˜åº¦è‡ªé€‚åº”ã€‚ä¸€ä¸ªæ€è·¯å°±æ˜¯è®©WebViewå’ŒReactçš„JSè¿›è¡Œé€šä¿¡ã€‚é¡µé¢åŠ è½½åï¼Œwebviewå†…çš„JSä»£ç è·å–è‡ªå·±çš„é«˜åº¦ï¼Œæ·»åŠ ä¸€ä¸ªhashç»™è‡ªå·±çš„URLï¼ŒReactå½“æ„ŸçŸ¥åˆ°webviewåŠ è½½çŠ¶æ€å˜åŒ–åï¼Œè¯»å–è¿™ä¸ªhashå€¼ï¼Œä¼ é€’ç»™this.state.WebViewHeightï¼Œä»è€Œæ”¹å˜WebViewçš„é«˜åº¦ã€‚ ç¬¬äºŒç§æ€è·¯å°±æ˜¯ä¸‡èƒ½çš„githubã€‚è¯•äº†å¥½å‡ ä¸ªç»„ä»¶ä¹‹åï¼Œä¸€ä¸ªå›½äººå¼€å‘çš„react-native-autoheight-webviewæœ€å¥½ç”¨ã€‚ ä¸è¿‡æœ‰ä¸€ä¸ªè¯¡å¼‚çš„ç°è±¡æ˜¯valueå€¼å¾ˆå°‘çš„æƒ…å†µä¸‹æ— æ³•è¿›è¡Œé•¿æŒ‰é€‰ä¸­å­—æ®µå¤åˆ¶ã€‚å­—æ•°å¤šçš„æ—¶å€™ ï¼ˆ4ï¼Œ5è¡Œä»¥ä¸Šï¼‰åŠŸèƒ½æ­£å¸¸ã€‚è¿™ä¸ªé—®é¢˜çš„è§£å†³ï¼š 123// default width is the width of screen// to fix that it can not select text when the length of it is not long enough on iOS, the width should be reduced more than 15style=&#123;&#123; width: Dimensions.get(&#x27;window&#x27;).width - 15 &#125;&#125; react-native-scrollable-tab-viewè¿™ä¸ªç»„ä»¶æ˜¯tabåˆ‡æ¢ç”¨çš„ã€‚å…¶å®react-navigationä¹Ÿæœ‰è¿™ä¸ªåŠŸèƒ½ã€‚å®ƒæœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ã€‚åœ¨å¤šä¸ªé¡µé¢åˆ‡æ¢ä¸‹æ— æ³•æ­£ç¡®çš„æ˜¾ç¤ºé¡µé¢çš„é«˜ã€‚é»˜è®¤é€‰ç”¨çš„æ˜¯æœ€é•¿çš„é‚£ä¸ªã€‚ï¼ˆTab view always has the height equal to height of the highest tabï¼‰ åœ¨issueä¸Šçœ‹åˆ°ä¸å°‘äººç¢°åˆ°è¿™ä¸ªé—®é¢˜ã€‚ä¸€ä¸ªä¸æ˜¯å¾ˆå®Œç¾çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼š Use ScrollView as tabs. egï¼š 123456789&lt;ScrollableTabView style=&#123;&#123; height: Dimensions.get(&#x27;window&#x27;).height &#125;&#125;&gt; &lt;ScrollView&gt; &lt;View style=&#123;&#123; height: 300, backgroundColor: &#x27;cadetblue&#x27; &#125;&#125; /&gt; &lt;/ScrollView&gt; &lt;SrcollView&gt; &lt;View style=&#123;&#123; height: 5000, backgroundColor: &#x27;lightgreen&#x27; &#125;&#125; /&gt; &lt;/ScrollView&gt;&lt;/ScrollableTabView&gt; MACå¯¹APKåŒ…è¿›è¡Œé‡æ–°ç­¾åjarsigner -verbose -keystore [æ‚¨çš„ç§é’¥å­˜æ”¾è·¯å¾„] -signedjar [ç­¾ååæ–‡ä»¶å­˜æ”¾è·¯å¾„] [æœªç­¾åçš„æ–‡ä»¶è·¯å¾„] [æ‚¨çš„è¯ä¹¦åç§°] 12345jarsignerçš„å‚æ•°è¯´æ˜-keystore å‚æ•°æŒ‡å®šæ‚¨çš„ç§é’¥çš„ç»å¯¹è·¯å¾„,ä¾‹å¦‚ï¼š/Users/haoweilai/mykeystore-signedjar å‚æ•°æŒ‡å®šç­¾ååapkæ–‡ä»¶å­˜æ”¾ç»å¯¹çš„è·¯å¾„,ä¾‹å¦‚ /Users/haoweilai/signed.apk[æœªç­¾åçš„æ–‡ä»¶è·¯å¾„] æŒ‡å®šè¦ç­¾åapkæ–‡ä»¶çš„ç»å¯¹è·¯å¾„,ä¹Ÿå°±æ˜¯æ‚¨ä»æˆ‘ä»¬è¿™é‡Œä¸‹è½½åˆ°çš„ï¼Œä¾‹å¦‚ /Users/haoweilai/meizuemptyapk-release-unsigned.apk[æ‚¨çš„è¯ä¹¦åç§°] æ˜¯æŒ‡æ‚¨åˆ›å»ºå¯†é’¥æ—¶æ‚¨è®¾ç½®çš„è¯ä¹¦åç§° ä»¥ä¸Š å…ˆæ€»ç»“è¿™äº›ï¼Œæƒ³åˆ°äº†å†è¡¥å……ã€‚RNè¿˜æœ‰å¤ªå¤šå¤ªå¤šçŸ¥è¯†éœ€è¦æŒæ¡ã€‚åŸç”Ÿï¼Œreduxï¼Œä¼˜åŒ–ã€‚åŠ æ²¹~","tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://yoursite.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"}]},{"title":"CSSé¢„å¤„ç†å·¥å…·--Stylusï¼ˆ2ï¼‰","date":"2017-10-06T06:18:32.000Z","path":"2017/10/06/CSSé¢„å¤„ç†å·¥å…·--Stylusï¼ˆ2ï¼‰/","text":"å†…å»ºå‡½æ•°ï¼š é¢œè‰²å‡½æ•°ï¼š darken&#x2F;lighten 123456789.btn-primary background-color $primary-color border-color darken($primary-color, 15%).link color red &amp;:hover color lighten(red, 10%) åµŒå…¥å›¾ç‰‡ï¼šembedurl 12345background: embedurl(&#x27;logo.png&#x27;)// =&gt; background: url(&quot;data:image/png;base64,â€¦&quot;)background: embedurl(&#x27;logo.svg&#x27;, &#x27;utf8&#x27;)// =&gt; background: url(&quot;data:image/svg+xml;charset=utf-8,â€¦&quot;) æ·»åŠ å‰ç¼€ï¼š+prefix-classes(prefix) 123456+prefix-classes(&#x27;.tqb-dp-&#x27;) .header height 2.5rem .back-button color white ç¼–è¯‘ä¸ºï¼š 123456.tqb-dp-header &#123; height: 2.5rem;&#125;.tqb-dp-header .tqb-dp-back-button &#123; color: white;&#125; ç”Ÿæ€ï¼š NIB Nib æ˜¯ Stylus æ ·å¼åº“ï¼Œç”¨äºå°†æ ·å¼è¿›è¡Œå…¼å®¹æ€§å¤„ç†ç±»ä¼¼ Compass position: 12#back-to-top fixed bottom right ç¼–è¯‘ä¸ºï¼š 12345#back-to-top &#123; position: fixed; right: 0; bottom: 0;&#125; æ¸å˜è‰²ï¼š 1234@import &#x27;nib&#x27;body background linear-gradient(top, white, black) ç¼–è¯‘ä¸ºï¼š 123456body &#123; background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #fff), color-stop(1, #000)); background: -webkit-linear-gradient(top, #fff 0%, #000 100%); background: -moz-linear-gradient(top, #fff 0%, #000 100%); background: linear-gradient(top, #fff 0%, #000 100%);&#125; CSSå°æŠ€å·§~å›ºå®šæ¯”ä¾‹çš„å®¹å™¨ï¼š 123456789.intrinsic-ratio-box height 0 padding-bottom 20% position relative .real-container absolute top left width 100% height 100% è§†è§‰ä¸Šä¸å¯è§: å±å¹•ä¸Šä¸å¯è§ï¼Œä½†å¯¹æœç´¢å¼•æ“å’Œé˜…è¯»å™¨å¯è§ã€‚ 12345678910.visually-hidden border 0 clip rect(0,0,0,0) position absolute width 1px height 1px margin -1px overflow hidden padding 0``","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"Stylus","slug":"Stylus","permalink":"http://yoursite.com/tags/Stylus/"}]},{"title":"CSSé¢„å¤„ç†å·¥å…·--Stylus","date":"2017-10-05T16:18:44.000Z","path":"2017/10/06/CSSé¢„å¤„ç†å·¥å…·--Stylus/","text":"ï¼ˆ2017.10.4 å…°å·Â·é»„æ²³ï¼‰ ä¸ºä»€ä¹ˆæ˜¯Stylusï¼ŸStylus vs Sass ï¼šSass åœ¨winä¸‹ä¸­æ–‡å­—ç¬¦å…¼å®¹ä¸æ˜¯å¤ªå¥½ã€‚å‡ºç°çš„æ¯”è¾ƒæ—©ï¼Œç›¸æ¯”ä¹‹ä¸‹å°‘ä¸€äº›æ–°æ™‹çš„åŠŸèƒ½ Stylus vs PostCSSï¼šåŠ¿å‡åŠ›æ•Œï¼Œé€Ÿåº¦éƒ½å¾ˆå¿«ï¼Œæ”¯æŒè‡ªå·±å†™æ‰©å±•ã€‚éƒ½æ˜¯ç”¨nodeå¼€å‘ã€‚ stylusä¼˜åŠ¿ï¼š1ï¼Œè¯­æ³•ä¸Šï¼Œæ— é™æ¥è¿‘JSã€‚2ï¼Œæå°½ç®€åŒ–ï¼Œåˆå‘ä¸Šå…¼å®¹ã€‚3ï¼Œå¼ºåŠ›çš„@extend ï¼ˆä¸ä»…å¯ä»¥ç»§æ‰¿ç±»è¿˜æœ‰ç»§æ‰¿é€‰æ‹©å™¨ï¼‰ã€‚4ï¼Œä¸éœ€è¦å¤æ‚çš„é…ç½®ã€‚ å®‰è£…ï¼šnpm install stylus -g ç¼–è¯‘cssï¼šstylus [options][æ–‡ä»¶|ç›®å½•â€¦] -o css&#x2F;eg: stylus .\\index.stylus -o css å¸¸ç”¨optionï¼š -i å¯åŠ¨ä¸€ä¸ªäº¤äº’å·¥å…· ï¼ˆæœ‰å¾ˆå¤šæœ‰ç”¨çš„å°å‡½æ•°ï¼‰ 1234&gt; darken(#fff, 10%)=&gt; #e6e6e6&gt; rgb(201,163,59)=&gt; #c9a33b -U æŠŠå›¾ç‰‡è½¬åŒ–ä¸ºData URI -w ç›‘è§†æ–‡ä»¶çŠ¶æ€ï¼Œè‡ªåŠ¨ç¼–è¯‘ -c å‹ç¼©è¾“å‡ºçš„css -m ç”ŸæˆSourceMap â€“include-css è¾“å‡ºæ–‡ä»¶ä¸­åŒ…å«@importå¯¼å…¥çš„CSS http://stylus-lang.com/try.html(å®˜æ–¹æ¸¸ä¹åœº&#x3D; &#x3D;) æ—¥å¸¸ï¼špackage.json: 12345&#123; &quot;scripts&quot;: &#123; &quot;stylus&quot;: &quot;mkdir css &amp; stylus -m -w styl/screen.styl -o css/&quot; &#125;&#125; GULP: 1npm i gulp-stylus gulp-clean-css -D gulpfile.js 123456789101112gulp.task(&#x27;stylus&#x27;, () =&gt; &#123; return gulp.src(&#x27;./styl/screen.styl&#x27;) .pipe(stylus(&#123; compress: true, &#x27;include css&#x27;: true &#125;)) .pipe(cleanCSS(&#123; level: 2, rebaseTo: &#x27;css/&#x27; &#125;)) .pipe(gulp.dest(DEST + &#x27;css/&#x27;));&#125;); ä¸€äº›å†…éƒ¨åŠŸèƒ½ï¼š é€‰æ‹©å™¨^[N..M] 12345678a b c d font-size 14px .abc ^[-1..-1]:hover color red ç¼–è¯‘ä¸ºï¼š 123456a b c d &#123; font-size: 14px;&#125;.abc d:hover &#123; color: #f00;&#125; å¼•ç”¨å±æ€§å€¼ 123p margin 10px padding (@margin / 2) ç¼–è¯‘ä¸ºï¼š 1234p &#123; margin: 10px; padding: 5px;&#125; eg: 12345678910// ç”¨ç»å¯¹å®šä½å±…ä¸­#logo position absolute top 50% left 50% width 150px height 80px margin-left -(@width / 2) margin-top -(@height / 2) margin (-@height / 2) 0 0 (-@width / 2) å¾ªç¯ 123for n in 1..10.col-&#123;n&#125; width 10% * n ç¼–è¯‘ä¸ºï¼š 1234567 .col-1 &#123; width: 10%;&#125;.col-2 &#123; width: 20%;&#125;.... æ¡ä»¶åˆ¤æ–­ IF&#x2F;ELSE 1234567$need-support-ie = truebody if $need-support-ie padding 5px else margin 5px (ç›´æ¥ä¿®æ”¹å¼€å…³) MIXIN &amp; FUNCTIONS(å…¨éƒ¨å‚æ•° ARGSâ€¦) 12345678910111213141516border-radius(n) -webkit-border-radius n -moz-border-radius n border-radius nform input[type=button] border-radius(5px) // function border-radius 5px // mixin box-shadow(args...) -webkit-box-shadow args -moz-box-shadow args box-shadow args a box-shadow 1px 2px 5px #eee ç¼–è¯‘ä¸º: 12345678910form input[type=button] &#123; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px;&#125;a &#123; -webkit-box-shadow: 1px 2px 5px #eee; -moz-box-shadow: 1px 2px 5px #eee; box-shadow: 1px 2px 5px #eee;&#125;","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"Stylus","slug":"Stylus","permalink":"http://yoursite.com/tags/Stylus/"}]},{"title":"React-Native IOSåŠå®‰å“æ‰“åŒ…","date":"2017-09-29T15:35:26.000Z","path":"2017/09/29/React-Native IOSåŠå®‰å“æ‰“åŒ…/","text":"å¼€å‘äº†å¿«ä¸¤ä¸ªæœˆçš„RNç»ˆäºåˆ°äº†è¦æ‰“åŒ…å‘å¸ƒçš„é˜¶æ®µã€‚ ç½‘ä¸Šæœ‰ä¸å°‘æ–‡ç« åšå®¢ï¼Œè¿˜æ˜¯RNæ›´æ–°å¤ªå¿«çš„ç¼˜ç”±ï¼Œæœ‰äº›å¹¶ä¸é€‚ç”¨äºå½“å‰ç‰ˆæœ¬ã€‚è¿™é‡Œç®€å•è¯´ä¸€ä¸‹å§ã€‚ï¼ˆè¿™é‡Œç”¨çš„æ˜¯RN0.43.4ï¼‰ IOSé¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œæˆ‘è¿™é‡Œåˆ›å»ºçš„æ˜¯ï¼šrelease_ios ä¹‹åæ‰§è¡Œæ‰“åŒ…å‘½ä»¤ï¼ˆæœ‰ç‚¹åƒwebpackå°†JSä»£ç å‹ç¼©åˆå¹¶ï¼Œå¹¶ä¸”å¯¼å‡ºæ‰€ä½¿ç”¨çš„é™æ€èµ„æºï¼‰ 1react-native bundle --entry-file index.ios.js --platform ios --dev false --bundle-output release_ios/main.jsbundle --assets-dest release_ios/ å‘½ä»¤å…·ä½“å«ä¹‰ï¼š â€“entry-file ,iosæˆ–è€…androidå…¥å£çš„jsåç§°ï¼Œæ¯”å¦‚index.ios.js â€“platform ,å¹³å°åç§°(iosæˆ–è€…android) â€“dev ,è®¾ç½®ä¸ºfalseçš„æ—¶å€™å°†ä¼šå¯¹JavaScriptä»£ç è¿›è¡Œä¼˜åŒ–å¤„ç†ã€‚ â€“bundle-output, ç”Ÿæˆçš„jsbundleæ–‡ä»¶çš„åç§°ï¼Œæ¯”å¦‚ release_ios&#x2F;main.jsbundle â€“assets-dest å›¾ç‰‡ä»¥åŠå…¶ä»–èµ„æºå­˜æ”¾çš„ç›®å½•,æ¯”å¦‚ release_ios&#x2F; å¤§æ¦‚1ï¼Œ2minæ‰“åŒ…okã€‚åœ¨æˆ‘ä»¬çš„æ–°å»ºæ–‡ä»¶å¤¹ä¸­å°±ä¼šæœ‰ç›¸åº”çš„bundleæ–‡ä»¶ã€‚ åœ¨ä¹‹åæ‰“å¼€xCodeã€‚å°†bundleæ–‡ä»¶æ‹–æ‹½åˆ°é¡¹ç›®ä¸­ã€‚ï¼ˆ++ç‚¹å‡»optionsï¼Œä¸€å®šè¦å‹¾é€‰Create folder referencesé€‰é¡¹ï¼Œå°†bundleæ–‡ä»¶å¤¹æ·»åŠ åˆ°é¡¹ç›®é‡Œï¼ŒXcodeä¸‹è¯¥æ–‡ä»¶å¤¹ä¸€å®šè¦æ˜¯è“è‰²çš„ã€‚++ï¼‰ä¿®æ”¹AppDelegate.mä¸­çš„ä»£ç ,æ›¿æ¢jsCodeLocation ï¼Œæ³¨é‡Šæ‰ä¹‹å‰çš„jsCodeLocation ä»£ç ã€‚ 12//jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@&quot;index.ios&quot; fallbackResource:nil];+jsCodeLocation = [[NSBundle mainBundle] URLForResource:@&quot;main&quot; withExtension:@&quot;jsbundle&quot;]; æœ€åå°†é¡¹ç›®ç”±debugçŠ¶æ€æ”¹æˆreleaseçŠ¶æ€ï¼ŒXcodeâ€“&gt;Productâ€“&gt;Schemeâ€“&gt;Edit Schemeâ€¦ï¼ˆåœ¨æ­¤æœŸé—´é€‰æ‹© Generic iOS Device ,ä¿®æ”¹Versionå’ŒBuildå·ï¼‰ æœ€åcommand+shift+k cleanä¸€ä¸‹é¡¹ç›®ã€‚é€‰æ‹©Archiceã€‚å°±å¯ä»¥ç”ŸæˆipaåŒ…å’¯ã€‚ Androidandroidè¿™å—æ‰“åŒ…å¾ˆç®€å•ã€‚è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹çœŸæœºè°ƒè¯•ã€‚èµ°äº†ä¸å°‘å¼¯è·¯ã€‚ï¼ˆæ¯”iosæ–¹ä¾¿å¾ˆå¤šã€‚ï¼‰é¦–å…ˆï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¯åŠ¨æœåŠ¡ï¼š 1react-native start æ‰‹æœºæ‰“å¼€å¼€å‘è€…ä¸­çš„USBè°ƒè¯•ï¼Œé“¾æ¥ä¸ŠPCã€‚é€šè¿‡å‘½ä»¤ï¼š 1adb reverse tcp:8081 tcp:8081 å°†æ‰‹æœºä¸rnçš„nodeæœåŠ¡é“¾æ¥ã€‚ æœ€ååœ¨android studioä¸­ç¼–è¯‘è¿è¡Œé€‰æ‹©è¿æ¥ä¸Šçš„è®¾å¤‡å°±okå’¯ã€‚ å®‰å“è¿™å—å¼€å‘è¿˜æ˜¯å»ºè®®ä½¿ç”¨çœŸæœºé“¾æ¥çš„æ–¹å¼ã€‚iosç«¯æ¨¡æ‹Ÿå™¨ç›¸å¯¹æµç•…ï¼Œå®‰å“æ¨¡æ‹Ÿå™¨ï¼ˆè¿™é‡Œmac pro13ï¼‰å¡çš„ä¸è¦ä¸è¦çš„ã€‚å¾ˆå½±å“å¼€å‘æ•ˆç‡ã€‚ æ‰“åŒ…çš„è¯ ç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£å°±ok ä»¥ä¸Š","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"}]},{"title":"React Native é…ç½®è‡ªå®šä¹‰å­—ä½“","date":"2017-09-24T06:07:52.000Z","path":"2017/09/24/React-Native-é…ç½®è‡ªå®šä¹‰å­—ä½“/","text":"æœ¬æƒ³ç€é…ç½®è‡ªå®šä¹‰å­—ä½“ä¸æ˜¯ä»€ä¹ˆå¤§å‘ï¼Œå®˜ç½‘æ–‡æ¡£æ‰¾äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰ã€‚é‚å…³é”®å­—ï¼šâ€œReact Native é…ç½®è‡ªå®šä¹‰å­—ä½“â€è¿™ä¹ˆä¸€æœã€‚éƒ½æ˜¯ä¸€æ ·çš„æ–‡ç« ï¼Œä½œè€…åå´æ˜¯å„å¼å„æ ·ï¼ŒçœŸæ˜¯å¤©ä¸‹æ–‡ç« å¤§å®¶æŠ„ã€‚ç„¶è€Œè¯•äº†ä¸€ä¸‹å¹¶ä¸å¥½ç”¨ã€‚ ï¼ˆè¿™é‡Œä½¿ç”¨æœ€æ–°çš„RN 0.48.4 æµ‹è¯•ï¼‰ è¿™é‡Œæƒ³ä¸€ä¸‹React Nativeæœ€æ–°çš„ï¼Œæœ€çœäº‹çš„é…ç½®è‡ªå®šè‡ªå®šä¹‰å­—ä½“çš„æ–¹æ³•ï¼š1ï¼‰éšä¾¿ä¸‹è½½ä¸€ä¸ªå­—ä½“ï¼ˆä¸è¦æ”¹åå­—ï¼Œä¼šæœ‰å‘ï¼‰æˆ‘è¿™é‡Œéšä¾¿ä¸‹äº†ä¸€ä¸ªscratchmybackçš„è‹±æ–‡å­—ä½“ã€‚ SCRATCHMYBACK.TTF 2ï¼‰åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶å¤¹assets&#x2F;fontsã€‚å¹¶æŠŠåˆšæ‰ä¸‹è½½çš„å­—ä½“æ”¾è¿›å»ã€‚ 3ï¼‰åœ¨Package.jsonå‘Šè¯‰React Native å’±ä»¬è‡ªå®šä¹‰çš„å­—ä½“åœ¨å“ªé‡Œï¼š 12345&quot;rnpm&quot;: &#123; &quot;assets&quot;: [ &quot;./assets/fonts/&quot; ]&#125; react-native link ï¼ˆå¹¶ä¸éœ€è¦æ‰‹åŠ¨æ‰“å¼€xcodeï¼Œcopyæ–‡ä»¶å¤¹è¿›é¡¹ç›®ï¼‰ IOSéœ€è¦åœ¨Info.plistæ–‡ä»¶é‡Œæ·»åŠ å°†è¦ä½¿ç”¨çš„è‡ªå®šä¹‰å­—ä½“ï¼š 1234&lt;key&gt;UIAppFonts&lt;/key&gt;&lt;array&gt; &lt;string&gt;SCRATCHMYBACK.TTF&lt;/string&gt;&lt;/array&gt; Android linkæ“ä½œè‡ªåŠ¨æŠŠå¼•å…¥å­—ä½“copyåˆ°äº†android&#x2F;app&#x2F;src&#x2F;main&#x2F;assets&#x2F;fonts&#x2F;æ–‡ä»¶å¤¹ä¸‹ã€‚ç¡®è®¤ä¸€ä¸‹å°±å¥½ã€‚ 6ï¼‰ç°åœ¨å°±å¯ä»¥åœ¨é¦™ç‚‰é‡Œé€šè¿‡fontFamilyä½¿ç”¨è‡ªå®šä¹‰å­—ä½“å’¯ã€‚é‡æ–°ç¼–è¯‘ä¸€ä¸‹ å¤§åŠŸå‘Šæˆ~","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"}]},{"title":"React-Nativeç”¨åˆ°çš„ç¬¬ä¸‰æ–¹ç»„ä»¶","date":"2017-09-17T15:14:44.000Z","path":"2017/09/17/React-Nativeç”¨åˆ°çš„ç¬¬ä¸‰æ–¹ç»„ä»¶/","text":"è¿™ä¸€ä¸ªå¤šæœˆä¸€ç›´åœ¨æå…¬å¸çš„Appé¡¹ç›®ï¼Œé‡‡ç”¨çš„æŠ€æœ¯å°±æ˜¯React Nativeã€‚ä¸€ä¸ªäººè’™ç€çœ¼æ‘¸ç€çŸ³å¤´è¿‡æ²³ï¼Œç¬¬ä¸€ç‰ˆæ€»ç®—æ˜¯æ¥è¿‘å°¾å£°äº†ã€‚ï¼ˆå…¶å®è¿˜æœ‰å¥½å¤šå¥½å¤šå‘Â·Â·Â·ï¼‰åœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ï¼Œå¼€å‘ä¸­ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹ç»„ä»¶ã€‚ ï¼ˆ2016Â·ç§‹â€“æ¹˜å—ï¼‰ è¯´é“ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼ŒReact Nativeçš„ç¤¾åŒºéå¸¸éå¸¸çš„æ´»è·ƒã€‚å„å¼å„æ ·çš„å¼€æºç»„ä»¶ã€‚å¼€å‘æ—¶éœ€è¦ä»€ä¹ˆåŠŸèƒ½ï¼Œgoogleä¸€ä¸‹ï¼Œç»å¤§å¤šæ•°æƒ…å†µéƒ½èƒ½æ‰¾åˆ°ç¬¦åˆéœ€æ±‚çš„ç»„ä»¶ã€‚ä¸è¿‡ï¼ŒRNæœ‰ä¸ªå¤§å‘å°±æ˜¯æ›´æ–°å¤ªå¿«äº†ã€‚ä¸€ä¸ªæœˆå‰è¿˜æ˜¯0.45å§ï¼Œç°åœ¨å·²ç»0.48äº†ã€‚è€Œä¸”æ”¹åŠ¨éå¸¸å·¨å¤§ï¼Œå¸¦æ¥çš„é—®é¢˜å°±æ˜¯æœ‰äº›ç»„ä»¶è¿™ä¸ªç‰ˆæœ¬okï¼Œï¼Œä¸‹ä¸ªç‰ˆæœ¬GGã€‚ä¹Ÿæœ‰è¿™ä¸ªç‰ˆæœ¬okï¼Œä½œè€…æ— æš‡é€‚é…å¼€å‘è€ç‰ˆæœ¬çš„å…¼å®¹ã€‚å½“ç„¶è¿˜æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹ç»„ä»¶è‡ªèº«æœ‰Bugï¼Œæä¾›çš„æ¥å£å¤ªå°‘ï¼Œæ ·å¼å¤ªæ­»æ¿ã€‚Link Ios&#x2F;Androidçš„æ—¶å€™ç”±äºç‰ˆæœ¬å¼•èµ·çš„ç¥ç§˜æŠ¥é”™ã€‚æ€»ä¹‹ã€‚å¯»æ‰¾ä¸€æ¬¾åˆé€‚çš„ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼ŒçœŸçš„æ˜¯éœ€è¦è€å¿ƒçš„ã€‚ è¿™æ¬¡Appå¼€å‘é‡‡ç”¨çš„æ˜¯0.43.4è¿™ä¸ªç‰ˆæœ¬ã€‚ï¼ˆ0.44è¿™ä¸ªç‰ˆæœ¬æ”¹åŠ¨éå¸¸å·¨å¤§ã€‚ç«‹é¡¹ç›®ä¹‹åˆï¼Œä¿å®ˆä¸€ç‚¹é€‰æ‹©äº†è¿™ä¸ªç‰ˆæœ¬ï¼‰ã€‚ 1.react-native-animatableï¼šåŠ¨ç”»ã€‚RNä¸€ä¸ªç—›ç‚¹å°±æ˜¯åŠ¨ç”»ï¼Œè¿™ä¸ªç»„ä»¶æŒ‰ç…§Animated.cssæä¾›çš„ç‰¹æ•ˆè¿›è¡ŒRNåŒ–ã€‚ 2.react-native-camera+react-native-qrcode-scannerï¼šä¸¤è€…é…åˆè§£å†³äº†æ‰«ä¸€æ‰«åŠŸèƒ½ã€‚è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œqrcode-scanneråŸºäº.react-native-camera0.10.0å®ç°çš„ã€‚è€Œ0.10.0åªæ”¯æŒRN0.40ä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚https://github.com/moaazsidat/react-native-qrcode-scannerï¼ˆè¿™ä¸ªstarä¸æ˜¯å¾ˆå¤šï¼Œä¸è¿‡çœŸçš„å¾ˆå¥½ç”¨ï¼‰ 3.react-native-dashï¼šç”»è™šçº¿ 4.react-native-device-infoï¼šè·å–çœŸæœºä¿¡æ¯ã€‚æœºå­ç±»å‹&#x2F;ç³»ç»Ÿç‰ˆæœ¬éƒ½èƒ½è·å–å‡ºæ¥ã€‚ï¼ˆåé¦ˆåŠŸèƒ½ï¼Œæä¾›æ‰€ä½¿ç”¨çš„çœŸæœºä¿¡æ¯ï¼‰ 5.leancloud-storageï¼šLeanCloudã€‚å›½å†…çš„BaaSæä¾›å•†ã€‚ä¹Ÿæ˜¯ä¸ºäº†åé¦ˆè¿™ä¸ªåŠŸèƒ½è€Œä½¿ç”¨çš„ï¼Œæ„å¤–çš„å¥½ç”¨ã€‚å°†æ•°æ®å­˜å‚¨è¿™å—äº¤ç»™äº†å®ƒã€‚ 6.react-native-easy-toastï¼šåŸç”Ÿçš„Toastæç¤º 7.react-native-fetch-blobï¼šä¸‹è½½è¿™å—ç”¨çš„è¿™ä¸ªï¼Œéå¸¸å¼ºå¤§ã€‚ä¸‹è½½apiåœ°å€çš„jsonå†…å®¹ã€‚jsoné‡Œçš„ç½‘ç»œå›¾ç‰‡urlï¼Œä¸€å¹¶æ‹‰ä¸‹æ¥ï¼Œç¼“å­˜åœ¨æœ¬åœ°è¿›è¡Œå¤„ç†éƒ½ä¾èµ–äºè¿™ä¸ªç»„ä»¶ã€‚ 8.react-native-img-cacheï¼šä¾èµ–äºreact-native-fetch-blobçš„å›¾ç‰‡ç¼“å­˜ç»„ä»¶ã€‚åŸºæœ¬å°±ä¸Šä¸Šè¿°ç»„ä»¶çš„ä¸€ä¸ªå°è£…ã€‚æ›´åŠ ç®€å•æ˜“ç”¨ä¸€äº›ã€‚ä¸éœ€è¦ä¸€å£æ°”ä¸‹è½½ä¸‹æ¥çš„å›¾ç‰‡ï¼Œéƒ½ä½¿ç”¨äº†è¿™ä¸ªç»„ä»¶ã€‚ 9.react-native-autoheight-webviewï¼šWebViewé«˜åº¦è‡ªé€‚åº”ç»„ä»¶ã€‚åŸºäºWebviewç»„ä»¶è¿™ä¸ªæ–¹æ³•onNavigationStateChangeï¼ˆï¼‰çš„ä¸€ä¸ªå°è£…è°ƒç”¨ã€‚åŸç†å°±æ˜¯ï¼šwebviewå†…çš„JSä»£ç è·å–è‡ªå·±çš„é«˜åº¦ï¼Œæ·»åŠ ä¸€ä¸ªhashç»™è‡ªå·±çš„URLï¼ŒReactå½“æ„ŸçŸ¥åˆ°webviewåŠ è½½çŠ¶æ€å˜åŒ–åï¼Œè¯»å–è¿™ä¸ªhashå€¼ï¼Œä¼ é€’ç»™this.state.WebViewHeightï¼Œä»è€Œæ”¹å˜WebViewçš„é«˜åº¦ã€‚ 10.react-native-image-pan-zoomï¼šå›¾ç‰‡æ‰‹åŠ¿æ”¾å¤§ç¼©å° 11.react-native-linear-gradientï¼šæ¸å˜æ•ˆæœã€‚RNæœ¬èº«æ ·å¼é‡Œä¸æ”¯æŒæ¸å˜ã€‚è¿™é‡Œå¼•ç”¨å®ƒï¼Œæå®šï¼ 12.react-native-modalboxï¼šæ¨¡æ€è§†å›¾ã€‚å…¶å®githubä¸Šmodalè¿™å—åŠŸèƒ½ç›¸åŒçš„ç»„ä»¶è›®å¤šçš„ã€‚staræœ€å‰çš„ä¸‰å››ä¸ªéƒ½è¯•äº†ä¸€ä¸‹ã€‚è¿™ä¸ªæœ€å¥½ç”¨ã€‚ 13.react-native-pdfï¼š æ”¯æŒurl PDFçš„ä¸‹è½½æŸ¥çœ‹ã€‚staræœ€å¤šçš„é‚£ä¸ªreact-native-pdf-viewåªæ”¯æŒæœ¬åœ°pdfçš„æŸ¥çœ‹ã€‚è¿™ä¸ªç»„ä»¶æ‰¾äº†å¥½ä¹…(https://github.com/wonday/react-native-pdf) 14.react-native-maps: airbnbå¼€æºçš„mapã€‚iosç”¨çš„native apple mapã€‚Androidè¿™å—ç”¨çš„ google mapã€‚åŠŸèƒ½éå¸¸å¼ºå¤§ã€‚è¿™ä¸ªç»„ä»¶é…ç½®å®‰è£…æ¯”è¾ƒå¤æ‚ã€‚è¿˜æœ‰ä¸€ä¸ªå¤§å‘å°±æ˜¯å›½å†…å®‰å“æ²¡æœ‰google playã€‚ç”±äºæ‰€åšçš„app åœ°å›¾æ¨¡å—å¯¹åº”çš„æµ·å¤–ã€‚ç°åœ¨çš„è§£å†³æ–¹æ¡ˆå¾ˆå‚»ã€‚iosç”¨native mapã€‚Androidè·³è½¬google mapã€‚å¦‚æœå¼€å‘çš„appä»…ä»…éœ€è¦å›½å†…mapéƒ¨åˆ†è¿™é‡Œæ¨èï¼šreact-native-amap3dã€‚å›½äººå¼€å‘çš„é«˜å¾·åœ°å›¾ç»„ä»¶å®‰å“éƒ¨åˆ†ç”¨çš„Kotlinã€‚äº²æµ‹å¥½ç”¨ã€‚åŠŸèƒ½å¾ˆå¼ºå¤§ï¼šæ‰‹åŠ¿äº¤äº’ã€æ ‡è®°ã€ç»˜å›¾Â·çƒ­åŠ›å›¾ã€æµ·ç‚¹å›¾ã€å¯¼èˆªéƒ½ok 15.react-native-spinkit: ä¸€äº›ç°æˆçš„ç­‰å¾…çŠ¶æ€çš„ä¼šåŠ¨å›¾æ ‡ã€‚appé‡Œä¸‹è½½è¿™ä¸ªçŠ¶æ€å°±ç”¨çš„è¿™ä¸ªã€‚ 16.react-native-vector-iconsï¼š å¤§è€Œå…¨çš„å­—ä½“å›¾æ ‡åº“ã€‚ 17.react-native-snap-carouselï¼š è½®æ’­å›¾ç»„ä»¶ã€‚æœ‰åˆ«äºreact-native-swiperçš„æ˜¯ï¼šä»–æœ‰ç‚¹åƒkindle APPé‡Œæ˜¾ç¤ºå›¾ä¹¦é‚£ä¸€å—çš„è½®æ’­ã€‚æœ‰ç¼©æ”¾æ˜¾ç¤ºã€‚ å°±è¿™äº›å§ã€‚è¿˜æœ‰ä¸€äº›å¤§ä¼—çš„æ¯”å¦‚react-native-tab-navigatorã€react-navigationã€react-native-scrollable-tab-viewå°±ä¸åœ¨èµ˜è¨€å’¯ã€‚ æœ‰æ—¶é—´åœ¨æŠŠå¼€å‘ä¸­çš„ä¸€äº›å‘æ€»ç»“æ€»ç»“~","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"}]},{"title":"æ‚","date":"2017-08-19T09:42:58.000Z","path":"2017/08/19/æ‚/","text":"ä¸çŸ¥ä¸è§‰åœ¨æ–°çš„å…¬å¸ï¼Œå·¥ä½œäº†å¿«å››ä¸ªæœˆäº†ã€‚ä»ä¸€ä¸ªæ ‡å‡†çš„Javaåç«¯è½¬åˆ°å‰ç«¯ã€‚è·¨åº¦è¿˜æ˜¯è›®å¤§çš„ã€‚å¯¹äºåç«¯æ¥è¯´ï¼Œç‰¹åˆ«æ˜¯ç›¸å¯¹æˆç†Ÿçš„Javaï¼ŒSSHè¿™ä¸‰å¤§æ¡†æ¶ææ˜ç™½ï¼Œæ“çºµæ“çºµæ•°æ®åº“ã€‚å®Œæˆä¸šåŠ¡éœ€æ±‚å°±æ˜¯äº†ã€‚å‰ç«¯åˆ™ä¸ä¸€æ ·ï¼Œè¦å»å’Œè®¾è®¡&#x2F;åç«¯æ²Ÿé€šï¼Œè¿˜è¦è·Ÿä¸Šæ–°æŠ€æœ¯çš„æµªæ½®ã€‚ è¯´é“æŠ€æœ¯æµªæ½®ï¼Œä»å­¦ä¹ å‰ç«¯å¼€å§‹çœŸçš„æ˜¯æ„Ÿå—åˆ°äº†äº’è”ç½‘æŠ€æœ¯ä¸Šçš„å‘å±•ä¹‹å¿«ã€‚ä»ä¼ ç»Ÿçš„Domå±‚æ¡†æ¶JQ&#x2F;Yuiåˆ°ç°åœ¨ï¼ŒMVVMæ¡†æ¶çš„ç››è¡Œã€‚ES5ï¼ŒES6ï¼Œå†åˆ°ç°åœ¨çš„ES7ã€‚ç¨å¾®æ”¾æ…¢ä¸€äº›è„šæ­¥å°±æœ‰ç§è·Ÿä¸ä¸Šçš„æ„Ÿè§‰ã€‚å’Œæ—¥æœ¬çš„å®‰é€¸ç”Ÿæ´»ç›¸æ¯”ç¹å¿™äº†å¾ˆå¤šï¼Œå‹åŠ›ä¹Ÿå¤§äº†ã€‚å€’æ˜¯å›è¿‡å¤´æƒ³æƒ³ç¡®å®æˆé•¿äº†ä¸å°‘ã€‚ç°åœ¨ä¸€ä¸ªäººåœ¨æå…¬å¸Appï¼Œç”¨çš„RNã€‚å‘å¾ˆå¤šï¼Œä¸è¿‡æ¯ä¸€ä¸ªå°åŠŸèƒ½çš„å®ç°ï¼Œå¸¦æ¥çš„æˆå°±æ„Ÿï¼Œä¹Ÿè®©è‡ªå·±å¾ˆæ»¡è¶³ã€‚ å·¥ä½œæ–¹é¢ï¼Œå…¬å¸å¾ˆå¹´è½»ã€‚åŸºæœ¬éƒ½æ˜¯90åå§ï¼Œä¹Ÿéƒ½å¾ˆå¼ºã€‚ä¸åƒåœ¨æ—¥æœ¬ï¼ŒåŠå…¬å®¤é‡Œä¸€å †æ•²ä»£ç çš„è€å¤´å­ã€‚å¹´è½»å½“ç„¶æœ‰å¥½æœ‰åï¼Œè‡ªç”±ç®—æ˜¯æœ€å¤§çš„ä¼˜ç‚¹ã€‚åŸºæœ¬è‡ªå·±æƒ³æ€ä¹ˆæå°±æ€ä¹ˆæã€‚è¯´å®è¯åœ¨æ—¥æœ¬ä¹ æƒ¯æ¡æ¡æ¡†æ¡†çš„è‡ªå·±æ¥è¯´ï¼Œç›´åˆ°ç°åœ¨è¿˜ä¸æ˜¯å¤ªä¹ æƒ¯ã€‚è‡ªç”±å´‡å°šæ•æ·å¼€å‘ï¼šå¸¦æ¥çš„å°±æ˜¯æ²¡æœ‰æµ‹è¯•ï¼Œæ²¡æœ‰æ ‡å‡†çš„ä»£ç é£æ ¼ã€‚çœ‹èµ·æ¥ä»£ç æ¯”è¾ƒæ··ä¹±ã€‚æ—¥æœ¬æ­£å¥½ç›¸åï¼Œä¸€å±‚ä¸€å±‚çš„reviewã€‚å¾ˆå¤šçš„è§„çŸ©ã€‚ç®€ç›´æ˜¯ä¸¤ä¸ªæç«¯&#x3D;ã€‚&#x3D; è¿™å‡ ä¸ªæœˆï¼Œä¸æƒ³æŠŠæ—¥è¯­æ”¾ä¸‹ï¼Œ7æœˆåˆåˆè€ƒäº†ä¸€æ¬¡N1ã€‚å…¶å®æˆç»©å¯¹è‡ªå·±æ¥è¯´æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œåªæ˜¯å½“ä½œä¸€ç§å­¦ä¹ çš„ç£ä¿ƒå§ã€‚ä¸Šä¸Šå‘¨å›äº†è¶Ÿè¥¿å®‰ã€‚å¥¶å¥¶ç—…é‡ï¼Œä¸€ç§è¯´ä¸å‡ºæ¥çš„æ„Ÿè§‰ã€‚çœ‹ç€è‹è€å¾ˆå¤šçš„çˆ¶äº²ï¼Œå¿ƒé‡Œå¾ˆä¸æ˜¯æ»‹å‘³ã€‚è¿™äº›å¹´ï¼Œè‡ªå·±çš„ä»»æ€§ï¼Œå€”å¼ºï¼Œè®©çˆ¶æ¯æ“äº†ä¸å°‘å¿ƒã€‚25äº†å†ä»»æ€§å‰å†è€ƒè™‘è€ƒè™‘å§ã€‚æ˜¯æ— å¥ˆä¹Ÿæ˜¯è´£ä»»ã€‚ æœ€è¿‘åŒ—äº¬é˜´é›¨ç»µç»µï¼Œå¾ˆåƒæ—¥æœ¬çš„æ¢…é›¨å¤©ã€‚ç©ºæ°”æ½®æ½®çš„ï¼Œä¸€ç‚¹éƒ½ä¸åŒ—äº¬ã€‚ å¤å¤©å°±è¿™ä¹ˆè¿‡å»äº†~","tags":[{"name":"æ‚","slug":"æ‚","permalink":"http://yoursite.com/tags/%E6%9D%82/"}]},{"title":"JavaScript Standard Style","date":"2017-08-02T15:14:58.000Z","path":"2017/08/02/JavaScriptStandardStyle/","text":"æœ€è¿‘å…¬å¸æ–°å¼€çš„RNé¡¹ç›®ï¼Œä½¿ç”¨äº†è¿™ä»½JSç¼–ç è§„èŒƒã€‚åœ¨è¿™é‡Œç®€å•çš„ä»‹ç»ä¸€ä¸‹ã€‚ https://github.com/standard/standardï¼ˆstarè¶…çº§å¤š&#x3D;ã€‚&#x3D;ï¼‰ ç›¸æ¯”Eslintã€JSCSè¿™ç±»ä»£ç æ£€æŸ¥å·¥ä½œï¼Œä¼˜åŠ¿å°±æ˜¯ï¼Œè‡ªæœ‰ä¸€å¥—ç¤¾åŒºè§„èŒƒåŒ–çš„[æ ‡å‡†]é£æ ¼ã€‚ä¸ç”¨ç»´æŠ¤ .eslintrc, .jshintrc, or .jscsrc ã€‚å¼€ç®±å³ç”¨ã€‚è‡ªåŠ¨ä»£ç æ ¼å¼åŒ–ã€‚åœ¨ä¸»æµçš„ç¼–è¯‘å™¨ä¸Šsublime&#x2F;vscode&#x2F;Atom&#x2F;Viméƒ½æœ‰ç›¸åº”çš„æ’ä»¶æä¾›æ”¯æŒã€‚å®é™…ä½“éªŒå¾ˆå¥½ã€‚ å†æ¥è¯´è¯´è¿™ä¸€å¥—JSç¼–ç è§„èŒƒçš„ç»†åˆ™ï¼š 2 spaces â€“ for indentation Single quotes for strings â€“ except to avoid escaping No unused variables â€“ this one catches tons of bugs! No semicolons â€“ Itâ€™s fine. Really! Never start a line with (, [, or &#96; This is the only gotcha with omitting semicolons â€“ automatically checked for you! Space after keywords if (condition) { â€¦ } Space after function name function name (arg) { â€¦ } Always use &#x3D;&#x3D;&#x3D; instead of &#x3D;&#x3D; â€“ but obj &#x3D;&#x3D; null is allowed to check null || undefined. Always handle the node.js err function parameter Always prefix browser globals with window â€“ except document and navigator are okay Prevents accidental use of poorly-named browser globals like open, length, event, and name. And more goodness â€“ give standard a try today! ä»”ç»†çœ‹è¿™ä¸€ä¸²è§„èŒƒï¼Œå¤§æ¦‚æœ€å¤§çš„äº‰è®®ç‚¹æ˜¯ï¼šæ²¡æœ‰åˆ†å·ã€‚ Standard Styleçš„ä½œè€…Ferossï¼ˆgoogleäº†ä¸€ä¸‹ï¼Œå¾ˆNBçš„ä¸€ä¸ªäººï¼‰ä»–è‡ªå·±è®¤ä¸ºä¸ç”¨åˆ†å·çš„ JavaScript éå¸¸å¥½ã€‚åˆ†å·è‡ªåŠ¨æ’å…¥æ˜¯ JavaScript çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒå¯ä»¥å‡å°‘å™ªç‚¹ã€ç®€åŒ–ç¨‹åºã€‚ çœ‹äº†è¿™ä¹ˆé•¿ä¹Ÿè®¸ä½ ä¼šæƒ³ï¼Œå¦‚æœæˆ‘ä¸åŒæ„æŸæ¡è§„åˆ™ï¼Œå¯ä»¥æ”¹å—ï¼Ÿ ç­”æ¡ˆæ˜¯ä¸è¡Œçš„ï¼ŒFerossè®¤ä¸ºåˆ¶å®šè¿™å¥— standard è§„èŒƒçš„ç›®çš„å°±æ˜¯è®©å¤§å®¶éƒ½ä¸å¿…å†èŠ±æ—¶é—´æµªè´¹åœ¨æ— è°“çš„ä»£ç é£æ ¼ä¹‹äº‰ä¸Šé¢äº†ã€‚éµå¾ª standard è§„èŒƒï¼Œä½ å°±ä¸ç”¨å†çŠ¹è±«äº†ï¼Œæ¯•ç«Ÿä¸ç®¡æ€æ ·äº‰è®ºæ€»å½’ä¼šé€‰æ‹©ä¸€ç§é£æ ¼çš„ã€‚ å¥½ä¸€é˜µå­æ²¡å†™blogäº†ï¼Œä¸çŸ¥ä¸è§‰åœ¨æ–°å…¬å¸æœ‰ä¸€é˜µå­æ—¶é—´äº†ã€‚ç›¸æ¯”æ—¥æœ¬ä¼ä¸šï¼Œå›½å†…çš„å…¬å¸æ›´è‡ªç”±ï¼Œä½†å‹åŠ›ä¹Ÿå¤šäº†è®¸å¤šã€‚ä»æ—¥æœ¬å›æ¥ä¹‹å‰ï¼Œè¿™äº›éƒ½æƒ³åˆ°äº†ã€‚ä¸€ç‚¹ä¸åæ‚”ã€‚åœ¨æ—¥æœ¬æ¸…é—²äº†å‡ å¹´ï¼Œå›å›½äº†è¿˜æ˜¯è¦å¥½å¥½åŠªåŠ›æŠŠç©ºç¼ºè¡¥ä¸€è¡¥ã€‚","tags":[{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"},{"name":"react-native","slug":"react-native","permalink":"http://yoursite.com/tags/react-native/"},{"name":"standard","slug":"standard","permalink":"http://yoursite.com/tags/standard/"}]},{"title":"React Nativeå­¦ä¹ --å¸ƒå±€é—®é¢˜","date":"2017-06-10T08:49:20.000Z","path":"2017/06/10/React-Nativeå­¦ä¹ --å¸ƒå±€é—®é¢˜/","text":"æœ€è¿‘ä¸€ç›´é—²æš‡æ—¶é—´ä¸€ç›´åœ¨çœ‹RNã€‚å¤§æ¦‚ä¹‹å‰ä¸»è¦çœ‹Vueï¼Œå¯¹Reactåªæ˜¯äº†è§£çš„ç¼˜æ•…ã€‚ç›´æ¥ä¸ŠRNï¼Œæ‰‘é¢è€Œæ¥ä¸€ç®©ç­çš„æ¦‚å¿µå’ŒçŸ¥è¯†ï¼ˆä¸å…‰æ˜¯Reactè¿˜æœ‰ios&#x2F;Android ï¼Œæ²¡æœ‰åŸç”Ÿå¼€å‘ç»éªŒï¼Œä¸Šå‘¨åœ¨é…ç½®1ç¯å¢ƒçš„æ—¶å€™å°±è¸©äº†ä¸å°‘å‘&#x3D;ã€‚&#x3D;ï¼‰ã€‚ ä»Šå„¿ä¸»è¦è¯´è¯´RNä¸­çš„å¸ƒå±€é—®é¢˜ã€‚RNé‡‡ç”¨çš„å¸ƒå±€æ–¹å¼æ˜¯FlexBoxã€‚ç°ä»£æµè§ˆå™¨è¿˜æ˜¯ä¼šæœ‰FlexBoxçš„å…¼å®¹é—®é¢˜ï¼Œåœ¨ç½‘é¡µå¼€å‘å¤šå°‘ä¼šæœ‰ä¸€äº›é™åˆ¶ã€‚è€ŒRNï¼Œæ˜¯é¢å‘ios&#x2F;Androidçš„ã€‚æ—¢ç„¶RNå¯¹FlexBoxæ”¯æŒã€‚æˆ‘ä»¬å¤§å¯ä¸å¿…å…³å¿ƒå…¼å®¹æ€§é—®é¢˜ã€‚ RNçš„å•ä½é¦–å…ˆè¦è¯´çš„æ˜¯RNä¸­çš„å°ºå¯¸ã€‚åœ¨RNä¸­å°ºå¯¸æ˜¯æ²¡æœ‰å•ä½çš„ï¼Œä»–ä»£è¡¨è®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚egï¼š 123&lt;View style=&#123; &#123;width:100,height:100,margin:40,backgroundColor:&#x27;gray&#x27;&#125;&#125;&gt; &lt;Text style=&#123; &#123;fontSize:16,margin:20&#125;&#125;&gt;å°ºå¯¸&lt;/Text&gt;&lt;/View&gt; è¿™é‡Œä½¿ç”¨æ— å•ä½çš„å°ºå¯¸ï¼Œæ˜¯ä¸ºäº†ç¡®ä¿å¸ƒå±€åœ¨ä»»ä½•ä¸åŒçš„dpiçš„æ‰‹æœºå±å¹•ä¸Šä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼š è¿è¡Œåœ¨Androidä¸Šæ—¶ï¼ŒViewçš„é•¿å’Œå®½è¢«è§£é‡Šæˆï¼š100dp 100dpå•ä½æ˜¯dpï¼Œå­—ä½“è¢«è§£é‡Šæˆ16sp å•ä½æ˜¯spï¼Œè¿è¡Œåœ¨iOSä¸Šæ—¶å°ºå¯¸å•ä½è¢«è§£é‡Šç§°äº†ptã€‚ RN&#x2F;web cssä¸ŠFlexBoxçš„ä¸åŒä¹‹å¤„lexDirection: React Nativeä¸­é»˜è®¤ä¸ºflexDirection:&#39;column&#39;ï¼Œåœ¨Web CSSä¸­é»˜è®¤ä¸ºflex-direction:&#39;row&#39; alignItems: React Nativeä¸­é»˜è®¤ä¸ºalignItems:&#39;stretch&#39;ï¼Œåœ¨Web CSSä¸­é»˜è®¤align-items:&#39;flex-start&#39; flex: ç›¸æ¯”Web CSSçš„flexæ¥å—å¤šå‚æ•°ï¼Œå¦‚:flex: 2 2 10%;ï¼Œä½†åœ¨ React Nativeä¸­flexåªæ¥å—ä¸€ä¸ªå‚æ•° ä¸æ”¯æŒå±æ€§ï¼šalign-contentï¼Œflex-basisï¼Œorderï¼Œflex-basisï¼Œflex-flowï¼Œflex-growï¼Œflex-shrink ä»¥ä¸Šæ˜¯React Nativeä¸­çš„FlexBox å’ŒWeb CSSSä¸ŠFlexBoxçš„ä¸åŒä¹‹å¤„ã€‚ Flex in React Nativeå®¹å™¨å±æ€§ï¼š flexDirection enum(â€˜rowâ€™, â€˜columnâ€™,â€™row-reverseâ€™,â€™column-reverseâ€™) flexWrap enum(â€˜wrapâ€™, â€˜nowrapâ€™)ï¼ˆnowrap flexçš„å…ƒç´ åªæ’åˆ—åœ¨ä¸€è¡Œä¸Šï¼Œå¯èƒ½å¯¼è‡´æº¢å‡ºã€‚&#x2F;wrap flexçš„å…ƒç´ åœ¨ä¸€è¡Œæ’åˆ—ä¸ä¸‹æ—¶ï¼Œå°±è¿›è¡Œå¤šè¡Œæ’åˆ—ã€‚ï¼‰ justifyContent enum(â€˜flex-startâ€™, â€˜flex-endâ€™, â€˜centerâ€™, â€˜space-betweenâ€™, â€˜space-aroundâ€™) alignItems enum(â€˜flex-startâ€™, â€˜flex-endâ€™, â€˜centerâ€™, â€˜stretchâ€™) å­å®¹å™¨å±æ€§ï¼š alignSelf enum(â€˜autoâ€™, â€˜flex-startâ€™, â€˜flex-endâ€™, â€˜centerâ€™, â€˜stretchâ€™)alignSelf å±æ€§å¯é‡å†™çµæ´»å®¹å™¨çš„ alignItems å±æ€§ã€‚ flex number(å±æ€§å®šä¹‰äº†ä¸€ä¸ªå¯ä¼¸ç¼©å…ƒç´ çš„èƒ½åŠ›ï¼Œé»˜è®¤ä¸º0) å…¶ä»–å¸ƒå±€ in RNè§†å›¾è¾¹æ¡†ï¼š borderBottomWidth number åº•éƒ¨è¾¹æ¡†å®½åº¦ borderLeftWidth number å·¦è¾¹æ¡†å®½åº¦ borderRightWidth number å³è¾¹æ¡†å®½åº¦ borderTopWidth number é¡¶éƒ¨è¾¹æ¡†å®½åº¦ borderWidth number è¾¹æ¡†å®½åº¦ borderColor è¾¹æ¡†é¢œè‰² å°ºå¯¸ï¼š width number height numb marginï¼š margin number å¤–è¾¹è· marginBottom number ä¸‹å¤–è¾¹è· marginHorizontal number å·¦å³å¤–è¾¹è· marginLeft number å·¦å¤–è¾¹è· marginRight number å³å¤–è¾¹è· marginTop number ä¸Šå¤–è¾¹è· marginVertical number ä¸Šä¸‹å¤–è¾¹è· paddingï¼š padding number å†…è¾¹è· paddingBottom number ä¸‹å†…è¾¹è· paddingHorizontal number å·¦å³å†…è¾¹è· paddingLeft number åšå†…è¾¹è· paddingRight number å³å†…è¾¹è· paddingTop number ä¸Šå†…è¾¹è· paddingVertical number ä¸Šä¸‹å†…è¾¹è· å®šä½ï¼š position enum(â€˜absoluteâ€™, â€˜relativeâ€™)å±æ€§è®¾ç½®å…ƒç´ çš„å®šä½æ–¹å¼ï¼Œä¸ºå°†è¦å®šä½çš„å…ƒç´ å®šä¹‰å®šä½è§„åˆ™ã€‚ å‚è€ƒï¼šA Complete Guide to Flexbox Using CSS flexible boxes","tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"},{"name":"react-native","slug":"react-native","permalink":"http://yoursite.com/tags/react-native/"}]},{"title":"react-nativeå­¦ä¹ ç¬”è®°","date":"2017-06-04T15:28:48.000Z","path":"2017/06/04/react-nativeå­¦ä¹ ç¬”è®°(1)/","text":"å‘¨æœ«ä¸¤å¤©çš„RNåˆä½“éªŒï¼Œä¸€äº›æ‚ä¹±çš„ç¬”è®°ã€‚ ä¼ ç»Ÿå¼€å‘ï¼šäººå‘˜ç¨€ç¼ºï¼›å¼€å‘æˆæœ¬é«˜ï¼›ä»£ç å¤ç”¨ï¼›æ— æ³•å®ç°åŠ¨æ€æ›´æ–° ä¼˜ç‚¹ï¼šlearn once,write anywhereè·¨å¹³å° æ€§èƒ½é«˜ ä½æŠ•å…¥é«˜å›æŠ¥ æ”¯æŒåŠ¨æ€æ›´æ–° first app command+d åœ¨æ¨¡æ‹Ÿå™¨é‡Œæ‰“å¼€ å¼€å‘è€…èœå• react-native run-ios ï¼ˆæ²¡ä»€ä¹ˆå‘ç›´æ¥ç”¨å°±å¥½ï¼Œå¯åŠ¨xcodeé‡Œçš„iosæ¨¡æ‹Ÿå™¨ï¼‰ Androidè¿™è¾¹å‘æ¯”è¾ƒå¤šé‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š Unable to access Android SDK add-on listè§£å†³æ–¹æ¡ˆï¼š åœ¨ Android Studio å®‰è£…ç›®å½• bin&#x2F;idea.properties æ–‡ä»¶æœ€åè¿½åŠ ä¸€å¥ disable.android.first.run=true Android Studio SDKé…ç½®é—®é¢˜ï¼š http://reactnative.cn/docs/0.44/getting-started.html è¿™ä¸€å—ä¸ç®¡æ˜¯ä¸­æ–‡docè¿˜æ˜¯è‹±æ–‡éƒ½æ²¡æ›´æ–°ã€‚æœ€æ–°ç‰ˆæœ¬çš„RN ä¸æ”¯æŒSDK25ä»¥ä¸‹çš„äº†ã€‚éƒ½ç”¨æœ€æ–°çš„å°±å¥½ã€‚è¦æ³¨æ„çš„æ˜¯Show Package Detailsé‡Œé¢çš„é€‰é¡¹ã€‚ï¼ˆè¿™å—å‘äº†å¥½ä¹…- -ï¼‰ ä¹‹åè¿è¡Œé¡¹ç›®é‡åˆ°è¿™ä¸ªé”™è¯¯ Error calling Appregistry.runApplication å…¨å±€å˜é‡é…ç½®ï¼š open .bash_profile ç²˜è´´å¦‚ä¸‹ä»£ç ï¼š 12export ANDROID_HOME=~/Library/Android/sdkexport PATH=$&#123;PATH&#125;:/Users/lac/Library/Android/sdk/tools:/Users/lac/Library/Android/sdk/platform-tools source .bash_profile é…ç½®å¥½å…¨å±€å˜é‡ è¿™ä¸‹å°±å¯ä»¥è¿è¡Œadbäº†ï¼› adb reverse tcp:8081 tcp:8081 run react-native start in the background then run react-native run-android. å‘½ä»¤è¡Œå¯åŠ¨Androidæ¨¡æ‹Ÿå™¨ï¼š ~&#x2F;Library&#x2F;Android&#x2F;sdk&#x2F;tools&#x2F;emulator -avd a25 ä¸‰ç§å®šä¹‰ç»„ä»¶çš„æ–¹æ³• es6å®šä¹‰ç»„ä»¶ï¼š 12345 export default class HelloComponent extends Component&#123; render() &#123; return &lt;Text style=&#123;&#123;fontSize:20,backgroundColor:&#x27;red&#x27;&#125;&#125;&gt;Hello&lt;/Text&gt; &#125;&#125; es5å®šä¹‰ç»„ä»¶ï¼š 123456var HelloComponent=React.createClass(&#123; render() &#123; return &lt;Text style=&#123;&#123;fontSize:20,backgroundColor:&#x27;red&#x27;&#125;&#125;&gt;Hello&lt;/Text&gt; &#125; &#125;)module.exports=HelloComponent; å‡½æ•°å¼åˆ›å»ºç»„ä»¶(æ— çŠ¶æ€çš„ï¼ˆä¸èƒ½ä½¿ç”¨thisï¼‰)ï¼š 1234function HelloComponent() &#123; return &lt;Text style=&#123;&#123;fontSize:20,backgroundColor:&#x27;red&#x27;&#125;&#125;&gt;Hello&lt;/Text&gt;;&#125;module.exports=HelloComponent; console.logé¡µé¢ï¼šhttp://localhost:8081/debugger-ui å¦‚ä½•å¯¼å‡ºä¸€ä¸ªç»„ä»¶ï¼Ÿå¦‚ä½•ä½¿ç”¨å¯¼å‡ºçš„ç»„ä»¶ï¼Ÿ ES6 é€šè¿‡export defaultå¯¼å‡ºç»„ä»¶ï¼Œé€šè¿‡importä½¿ç”¨ç»„ä»¶ES5é€šè¿‡module.exports&#x3D;ç»„ä»¶åå­— å¦‚ä½•å¯¼å‡ºä¸€ä¸ªå˜é‡æˆ–å¸¸é‡ï¼Ÿå¦‚ä½•ä½¿ç”¨å¯¼å‡ºçš„å˜é‡å’Œå¸¸é‡ï¼Ÿå¯¼å‡ºï¼š var name=&quot;Lac&quot;; const age = &quot;18&quot;; export &#123;name,age&#125;; å¯¼å…¥ åœ¨importé‡Œä½¿ç”¨{name,age} å¦‚ä½•å¯¼å‡ºä¸€ä¸ªæ–¹æ³•ï¼Ÿå¦‚ä½•ä½¿ç”¨å¯¼å‡ºçš„æ–¹æ³•ï¼Ÿ export function sum(a,b) &#123; return a+b; &#125; å¯¼å…¥ åœ¨importé‡Œä½¿ç”¨{sum} è®¾ç½®é»˜è®¤å±æ€§(åœ¨ç»„ä»¶æ²¡æœ‰ä¼ é€’propsæ—¶å€™)1234567static defaultProps = &#123; name:&#x27;Bill&#x27; &#125; // å±æ€§æ£€æŸ¥æœºåˆ¶ ï¼ˆè¦import &#123;PropsTest&#125; static propTypes = &#123; name:PropTypes.String, &#125; *propsæ˜¯åªè¯»çš„ï¼Œä¸å¯æ”¹å˜ Es6 å»¶å±•æ“ä½œç¬¦ï¼š ä¹‹å‰ï¼šå‘ä¸€ä¸ªç»„ä»¶ä¸­ä¼ é€’å±æ€§ï¼š var params = &#123; name:&#39;å°å¼ &#39;, age:24 &#125; &lt;PropsTest name=&#123;params.name&#125; age=&#123;params.age&#125; /&gt; Es6ä¸­å¯ä»¥è¿™æ ·ï¼š(åœ¨ä¼ é€’å¾ˆå¤šå±æ€§æ˜¯éå¸¸æ–¹ä¾¿) &lt;PropsTest &#123;...parmas&#125; /&gt; ç»“æ„èµ‹å€¼ï¼ˆè·å–æŒ‡å®šçš„å±æ€§ï¼ˆes6ï¼‰ï¼‰ var &#123;name&#125;=parmas; &lt;PropsTest name=&#123;name&#125; /&gt; â€‹ref:ç»„ä»¶è¢«æ¸²æŸ“åæŒ‡å‘ç»„ä»¶çš„ä¸€ä¸ªå¼•ç”¨ todoÂ·Â·Â·","tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"},{"name":"react-native","slug":"react-native","permalink":"http://yoursite.com/tags/react-native/"}]},{"title":"Gitå‘½ä»¤å¤ä¹ ç¬”è®°","date":"2017-05-10T16:08:42.000Z","path":"2017/05/11/gitå‘½ä»¤å¤ä¹ ç¬”è®°/","text":"åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“ï¼Œä½¿ç”¨git initå‘½ä»¤ã€‚ æ·»åŠ æ–‡ä»¶åˆ°Gitä»“åº“ï¼Œåˆ†ä¸¤æ­¥ï¼š ç¬¬ä¸€æ­¥ï¼Œä½¿ç”¨å‘½ä»¤git add ï¼Œæ³¨æ„ï¼Œå¯åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ å¤šä¸ªæ–‡ä»¶ï¼› ç¬¬äºŒæ­¥ï¼Œä½¿ç”¨å‘½ä»¤git commitï¼Œå®Œæˆã€‚ è¦éšæ—¶æŒæ¡å·¥ä½œåŒºçš„çŠ¶æ€ï¼Œä½¿ç”¨git statuså‘½ä»¤ã€‚ å¦‚æœgit statuså‘Šè¯‰ä½ æœ‰æ–‡ä»¶è¢«ä¿®æ”¹è¿‡ï¼Œç”¨git diffå¯ä»¥æŸ¥çœ‹ä¿®æ”¹å†…å®¹ã€‚ HEADæŒ‡å‘çš„ç‰ˆæœ¬å°±æ˜¯å½“å‰ç‰ˆæœ¬ï¼Œå› æ­¤ï¼ŒGitå…è®¸æˆ‘ä»¬åœ¨ç‰ˆæœ¬çš„å†å²ä¹‹é—´ç©¿æ¢­ï¼Œä½¿ç”¨å‘½ä»¤git reset â€“hard commit_idã€‚ ç©¿æ¢­å‰ï¼Œç”¨git logå¯ä»¥æŸ¥çœ‹æäº¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬ã€‚ è¦é‡è¿”æœªæ¥ï¼Œç”¨git reflogæŸ¥çœ‹å‘½ä»¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›åˆ°æœªæ¥çš„å“ªä¸ªç‰ˆæœ¬ã€‚ æ¯æ¬¡ä¿®æ”¹ï¼Œå¦‚æœä¸addåˆ°æš‚å­˜åŒºï¼Œé‚£å°±ä¸ä¼šåŠ å…¥åˆ°commitä¸­ã€‚ åœºæ™¯1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤git checkout â€“ fileã€‚ åœºæ™¯2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤git reset HEAD fileï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚ åœºæ™¯3ï¼šå·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ï¼Œå‚è€ƒç‰ˆæœ¬å›é€€ä¸€èŠ‚ï¼Œä¸è¿‡å‰ææ˜¯æ²¡æœ‰æ¨é€åˆ°è¿œç¨‹åº“ã€‚ è¦å…³è”ä¸€ä¸ªè¿œç¨‹åº“ï¼Œä½¿ç”¨å‘½ä»¤git remote add origin git@server-name:path&#x2F;repo-name.gitï¼› å…³è”åï¼Œä½¿ç”¨å‘½ä»¤git push -u origin masterç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼› æ­¤åï¼Œæ¯æ¬¡æœ¬åœ°æäº¤åï¼Œåªè¦æœ‰å¿…è¦ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤git push origin masteræ¨é€æœ€æ–°ä¿®æ”¹ï¼› æŸ¥çœ‹åˆ†æ”¯ï¼šgit branch åˆ›å»ºåˆ†æ”¯ï¼šgit branch åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout -b åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼šgit merge åˆ é™¤åˆ†æ”¯ï¼šgit branch -d å½“Gitæ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œå†æäº¤ï¼Œåˆå¹¶å®Œæˆã€‚ ç”¨git log â€“graphå‘½ä»¤å¯ä»¥çœ‹åˆ°åˆ†æ”¯åˆå¹¶å›¾ åˆ†æ”¯ç­–ç•¥åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§å‡ ä¸ªåŸºæœ¬åŸåˆ™è¿›è¡Œåˆ†æ”¯ç®¡ç†ï¼š é¦–å…ˆï¼Œmasteråˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ä»…ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå¹³æ—¶ä¸èƒ½åœ¨ä¸Šé¢å¹²æ´»ï¼› é‚£åœ¨å“ªå¹²æ´»å‘¢ï¼Ÿå¹²æ´»éƒ½åœ¨devåˆ†æ”¯ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œdevåˆ†æ”¯æ˜¯ä¸ç¨³å®šçš„ï¼Œåˆ°æŸä¸ªæ—¶å€™ï¼Œæ¯”å¦‚1.0ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œå†æŠŠdevåˆ†æ”¯åˆå¹¶åˆ°masterä¸Šï¼Œåœ¨masteråˆ†æ”¯å‘å¸ƒ1.0ç‰ˆæœ¬ï¼› ä½ å’Œä½ çš„å°ä¼™ä¼´ä»¬æ¯ä¸ªäººéƒ½åœ¨devåˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„åˆ†æ”¯ï¼Œæ—¶ä¸æ—¶åœ°å¾€devåˆ†æ”¯ä¸Šåˆå¹¶å°±å¯ä»¥äº†ã€‚ æ¦‚è§ˆï¼šmasteråˆå¹¶mergeè§£å†³å¥½çš„bugåï¼Œä¸è¦å…ˆæŠŠdevè§£å°ï¼Œå…ˆåˆå¹¶masterï¼Œè·å–é‡Œé¢çš„bugæ–¹æ¡ˆåï¼Œåœ¨è§£å°ã€‚è§£å°æ—¶ä¼šæœ‰æç¤ºå†²çªï¼Œéœ€æ‰‹åŠ¨æ”¹ä¸€æ¬¡æ–‡ä»¶ã€‚ 1ï¼šåœ¨ dev ä¸‹æ­£å¸¸å¼€å‘ä¸­ï¼Œè¯´æœ‰1ä¸ªbugè¦è§£å†³ï¼Œé¦–å…ˆæˆ‘éœ€è¦æŠŠdevåˆ†æ”¯å°å­˜stash 2ï¼šåœ¨masterä¸‹æ–°å»ºä¸€ä¸ªissue-101åˆ†æ”¯ï¼Œè§£å†³bugï¼ŒæˆåŠŸå 3ï¼šåœ¨masterä¸‹åˆå¹¶issue-101 4ï¼šåœ¨ dev ä¸‹åˆå¹¶masterï¼Œ è¿™æ ·æ‰åŒæ­¥äº†é‡Œé¢çš„bugè§£å†³æ–¹æ¡ˆ 5ï¼šè§£å¼€devå°å°stash popï¼Œç³»ç»Ÿè‡ªåŠ¨åˆå¹¶ &amp; æç¤ºæœ‰å†²çªï¼Œå› ä¸ºå°å­˜å‰devå†™äº†ä¸œè¥¿ï¼Œæ­¤æ—¶å»æ–‡ä»¶é‡Œæ‰‹åŠ¨æ”¹å†²çª 6ï¼šç»§ç»­å¼€å‘devï¼Œæœ€åaddï¼Œcommit 7ï¼šåœ¨masterä¸‹åˆå¹¶æœ€åå®Œæˆçš„dev ä»£ç è¿‡ç¨‹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829åœ¨æ­¤æ’å…¥ä»£ç 1ï¼š $ git stash2ï¼š $ git checkout master $ git checkout -b issue-101 //å»æ–‡ä»¶é‡Œä¿®bug $ git add README.md $ git commit -m &quot;fix-issue-101&quot;3ï¼š $ git checkout master $ git merge --no-ff -m &quot;m-merge-issue-101&quot; issue-101 $ git branch -d issue-1014ï¼š $ git checkout dev $ git merge --no-ff -m &quot;dev-merge-m&quot; master5ï¼š $ git stash pop //æç¤ºå†²çªï¼Œå»æ–‡ä»¶æ‰‹åŠ¨æ”¹æ­£ Auto-merging README.md CONFLICT (content): Merge conflict in README.md6ï¼š //ç»§ç»­å¼€å‘ ... ... ï¼Œå®Œæˆåä¸€å¹¶æäº¤ $ git add README.md $ git commit -m &quot;fixconflict &amp; append something&quot;7ï¼š $ git checkout master $ git merge --no-ff -m &quot;m-merge-dev&quot; dev $ git branch -d dev å¼€å‘ä¸€ä¸ªæ–°featureï¼Œæœ€å¥½æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼› å¦‚æœè¦ä¸¢å¼ƒä¸€ä¸ªæ²¡æœ‰è¢«åˆå¹¶è¿‡çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡git branch -D å¼ºè¡Œåˆ é™¤ã€‚ å¤šäººåä½œé¦–å…ˆï¼Œå¯ä»¥è¯•å›¾ç”¨git push origin branch-nameæ¨é€è‡ªå·±çš„ä¿®æ”¹ï¼› å¦‚æœæ¨é€å¤±è´¥ï¼Œåˆ™å› ä¸ºè¿œç¨‹åˆ†æ”¯æ¯”ä½ çš„æœ¬åœ°æ›´æ–°ï¼Œéœ€è¦å…ˆç”¨git pullè¯•å›¾åˆå¹¶ï¼› å¦‚æœåˆå¹¶æœ‰å†²çªï¼Œåˆ™è§£å†³å†²çªï¼Œå¹¶åœ¨æœ¬åœ°æäº¤ï¼› æ²¡æœ‰å†²çªæˆ–è€…è§£å†³æ‰å†²çªåï¼Œå†ç”¨git push origin branch-nameæ¨é€å°±èƒ½æˆåŠŸï¼ å¦‚æœgit pullæç¤ºâ€œno tracking informationâ€ï¼Œåˆ™è¯´æ˜æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„é“¾æ¥å…³ç³»æ²¡æœ‰åˆ›å»ºï¼Œç”¨å‘½ä»¤git branch â€“set-upstream branch-name origin&#x2F;branch-nameã€‚ æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œä½¿ç”¨git remote -vï¼› æœ¬åœ°æ–°å»ºçš„åˆ†æ”¯å¦‚æœä¸æ¨é€åˆ°è¿œç¨‹ï¼Œå¯¹å…¶ä»–äººå°±æ˜¯ä¸å¯è§çš„ï¼› ä»æœ¬åœ°æ¨é€åˆ†æ”¯ï¼Œä½¿ç”¨git push origin branch-nameï¼Œå¦‚æœæ¨é€å¤±è´¥ï¼Œå…ˆç”¨git pullæŠ“å–è¿œç¨‹çš„æ–°æäº¤ï¼› åœ¨æœ¬åœ°åˆ›å»ºå’Œè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„åˆ†æ”¯ï¼Œä½¿ç”¨git checkout -b branch-name origin&#x2F;branch-nameï¼Œæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯çš„åç§°æœ€å¥½ä¸€è‡´ï¼› å»ºç«‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å…³è”ï¼Œä½¿ç”¨git branch â€“set-upstream branch-name origin&#x2F;branch-nameï¼› ä»è¿œç¨‹æŠ“å–åˆ†æ”¯ï¼Œä½¿ç”¨git pullï¼Œå¦‚æœæœ‰å†²çªï¼Œè¦å…ˆå¤„ç†å†²çªã€‚ TAGå‘½ä»¤git tag ç”¨äºæ–°å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œé»˜è®¤ä¸ºHEADï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªcommit idï¼› git tag -a -m â€œblablablaâ€¦â€å¯ä»¥æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ï¼› git tag -s -m â€œblablablaâ€¦â€å¯ä»¥ç”¨PGPç­¾åæ ‡ç­¾ï¼› å‘½ä»¤git tagå¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ã€‚ ï¼ˆ05.11è¿½åŠ ï¼‰ æ’¤é”€ä¸€ä¸ªå…¬å…±ä¿®æ”¹ Undo a â€œpublicâ€ changeåœºæ™¯ï¼šä½ åˆšåˆšç”¨git pushå°†æœ¬åœ°ä¿®æ”¹æ¨é€åˆ°äº†GitHubï¼Œè¿™æ—¶ä½ æ„è¯†åˆ°åœ¨æäº¤ä¸­æœ‰ä¸€ä¸ªé”™è¯¯ã€‚ä½ æƒ³æ’¤é”€è¿™æ¬¡æäº¤ã€‚ ä½¿ç”¨æ’¤é”€å‘½ä»¤ï¼šgit revert å‘ç”Ÿäº†ä»€ä¹ˆï¼šgit revertå°†æ ¹æ®ç»™å®šSHAçš„ç›¸åå€¼ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ã€‚å¦‚æœæ—§æäº¤æ˜¯â€œmatterâ€ï¼Œé‚£ä¹ˆæ–°çš„æäº¤å°±æ˜¯â€œanti-matterâ€â€”â€”æ—§æäº¤ä¸­æ‰€æœ‰å·²ç§»é™¤çš„ä¸œè¥¿å°†ä¼šè¢«æ·»åŠ è¿›åˆ°æ–°æäº¤ä¸­ï¼Œæ—§æäº¤ä¸­å¢åŠ çš„ä¸œè¥¿å°†åœ¨æ–°æäº¤ä¸­ç§»é™¤ã€‚ è¿™æ˜¯Gitæœ€å®‰å…¨ã€ä¹Ÿæ˜¯æœ€ç®€å•çš„â€œæ’¤é”€â€åœºæ™¯ï¼Œå› ä¸ºè¿™æ ·ä¸ä¼šä¿®æ”¹å†å²è®°å½•â€”â€”ä½ ç°åœ¨å¯ä»¥git pushä¸‹åˆšåˆšrevertä¹‹åçš„æäº¤æ¥çº æ­£é”™è¯¯äº†ã€‚ æ’¤é”€æœ¬åœ°æ›´æ”¹ Undo â€œlocalâ€ changesåœºæ™¯ï¼šä½ æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶è¢«ä¿å­˜äº†ä½†æ˜¯ä½ çš„ç¼–è¾‘å™¨æ°åœ¨æ­¤æ—¶å´©æºƒäº†ã€‚æ­¤æ—¶ä½ å¹¶æ²¡æœ‰æäº¤è¿‡ä»£ç ã€‚ä½ æœŸæœ›æ’¤é”€è¿™ä¸ªæ–‡ä»¶ä¸­çš„æ‰€æœ‰ä¿®æ”¹â€”â€”å°†è¿™ä¸ªæ–‡ä»¶å›é€€åˆ°ä¸Šæ¬¡æäº¤çš„çŠ¶æ€ã€‚ ä½¿ç”¨æ’¤é”€å‘½ä»¤ï¼šgit checkout â€” å‘ç”Ÿäº†ä»€ä¹ˆï¼šgit checkoutå°†å·¥ä½œç›®å½•ï¼ˆworking directoryï¼‰é‡Œçš„æ–‡ä»¶ä¿®æ”¹æˆå…ˆå‰Gitå·²çŸ¥çš„çŠ¶æ€ã€‚ä½ å¯ä»¥æä¾›ä¸€ä¸ªæœŸå¾…å›é€€åˆ†æ”¯çš„åå­—æˆ–è€…ä¸€ä¸ªç¡®åˆ‡çš„SHAç ï¼ŒGitä¹Ÿä¼šé»˜è®¤æ£€å‡ºHEADâ€”â€”å³ï¼šå½“å‰åˆ†æ”¯çš„ä¸Šä¸€æ¬¡æäº¤ã€‚ æ³¨æ„ï¼šç”¨è¿™ç§æ–¹æ³•â€œæ’¤é”€â€çš„ä¿®æ”¹éƒ½å°†çœŸæ­£çš„æ¶ˆå¤±ã€‚å®ƒä»¬æ°¸è¿œä¸ä¼šè¢«æäº¤ã€‚å› æ­¤Gitä¸èƒ½æ¢å¤å®ƒä»¬ã€‚æ­¤æ—¶ï¼Œä¸€å®šè¦æ˜ç¡®è‡ªå·±åœ¨åšä»€ä¹ˆï¼ï¼ˆæˆ–è®¸å¯ä»¥ç”¨git diffæ¥ç¡®å®šï¼‰ é‡ç½®æœ¬åœ°ä¿®æ”¹ Reset â€œlocalâ€ changes åœºæ™¯ï¼šä½ å·²ç»åœ¨æœ¬åœ°åšäº†ä¸€äº›æäº¤ï¼ˆè¿˜æ²¡pushï¼‰ï¼Œä½†æ‰€æœ‰çš„ä¸œè¥¿éƒ½ç³Ÿç³•é€äº†ï¼Œä½ æƒ³æ’¤é”€æœ€è¿‘çš„ä¸‰æ¬¡æäº¤â€”â€”å°±åƒå®ƒä»¬ä»æ²¡å‘ç”Ÿè¿‡ä¸€æ ·ã€‚ ä½¿ç”¨æ’¤é”€å‘½ä»¤ï¼šgit resetæˆ–git reset â€“hard å‘ç”Ÿäº†ä»€ä¹ˆï¼šgit resetå°†ä½ çš„ä»“åº“çºªå½•ä¸€ç›´å›é€€åˆ°æŒ‡å®šçš„æœ€åä¸€ä¸ªSHAä»£è¡¨çš„æäº¤ï¼Œé‚£äº›æäº¤å°±åƒä»æœªå‘ç”Ÿè¿‡ä¸€æ ·ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œgit resetä¼šä¿ç•™å·¥ä½œç›®å½•ï¼ˆworking directoryï¼‰ã€‚è¿™äº›æäº¤è™½ç„¶æ¶ˆå¤±äº†ï¼Œä½†æ˜¯å†…å®¹è¿˜åœ¨ç£ç›˜ä¸Šã€‚è¿™æ˜¯æœ€å®‰å…¨çš„åšæ³•ï¼Œä½†é€šå¸¸æƒ…å†µæ˜¯ï¼šä½ æƒ³ä½¿ç”¨ä¸€ä¸ªå‘½ä»¤æ¥â€œæ’¤é”€â€æ‰€æœ‰æäº¤å’Œæœ¬åœ°ä¿®æ”¹â€”â€”é‚£ä¹ˆè¯·ä½¿ç”¨â€“hardå‚æ•°å§ã€‚ æ’¤é”€æœ¬åœ°åé‡åš Redo after undo â€œlocalâ€ åœºæ™¯ï¼šä½ å·²ç»æäº¤äº†ä¸€äº›å†…å®¹ï¼Œå¹¶ä½¿ç”¨git reset â€“hardæ’¤é”€äº†è¿™äº›æ›´æ”¹ï¼ˆè§ä¸Šé¢ï¼‰ï¼Œçªç„¶æ„è¯†åˆ°ï¼šä½ æƒ³è¿˜åŸè¿™äº›ä¿®æ”¹ï¼ ä½¿ç”¨æ’¤é”€å‘½ä»¤ï¼šgit reflogå’Œgit reset, æˆ–è€…git checkout å‘ç”Ÿäº†ä»€ä¹ˆï¼šgit reflogæ˜¯ä¸€ä¸ªç”¨æ¥æ¢å¤é¡¹ç›®å†å²è®°å½•çš„å¥½åŠæ³•ã€‚ä½ å¯ä»¥é€šè¿‡git reflogæ¢å¤å‡ ä¹ä»»ä½•å·²æäº¤çš„å†…å®¹ã€‚ ä½ æˆ–è®¸å¯¹git logå‘½ä»¤æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå®ƒèƒ½æ˜¾ç¤ºæäº¤åˆ—è¡¨ã€‚git reflogä¸ä¹‹ç±»ä¼¼ï¼Œåªä¸è¿‡git reflogæ˜¾ç¤ºçš„æ˜¯HEADå˜æ›´æ¬¡æ•°çš„åˆ—è¡¨ã€‚ ä¸€äº›è¯´æ˜ï¼š åªæœ‰HEADä¼šæ”¹å˜ã€‚å½“ä½ åˆ‡æ¢åˆ†æ”¯æ—¶ï¼Œç”¨git commitæäº¤å˜æ›´æ—¶ï¼Œæˆ–æ˜¯ç”¨git resetæ’¤é”€æäº¤æ—¶ï¼ŒHEADéƒ½ä¼šæ”¹å˜ã€‚ä½†å½“ä½ ç”¨git checkout â€“æ—¶ï¼Œ HEADä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚ï¼ˆå°±åƒä¸Šæ–‡æåˆ°çš„æƒ…å½¢ï¼Œé‚£äº›æ›´æ”¹æ ¹æœ¬å°±æ²¡æœ‰æäº¤ï¼Œå› æ­¤reflogå°±ä¸èƒ½å¸®åŠ©æˆ‘ä»¬è¿›è¡Œæ¢å¤äº†ï¼‰ git reflogä¸ä¼šæ°¸è¿œå­˜åœ¨ã€‚Gitå°†ä¼šå®šæœŸæ¸…ç†é‚£äº›â€œä¸å¯è¾¾ï¼ˆunreachableï¼‰â€çš„å¯¹è±¡ã€‚ä¸è¦æœŸæœ›èƒ½å¤Ÿåœ¨reflogé‡Œæ‰¾åˆ°æ•°æœˆå‰çš„æäº¤è®°å½•ã€‚ reflogåªæ˜¯ä½ ä¸ªäººçš„ã€‚ä½ ä¸èƒ½ç”¨ä½ çš„reflogæ¥æ¢å¤å…¶ä»–å¼€å‘è€…æœªpushçš„æäº¤ã€‚ å› æ­¤ï¼Œæ€æ ·åˆç†ä½¿ç”¨reflogæ¥æ‰¾å›ä¹‹å‰â€œæœªå®Œæˆâ€çš„æäº¤å‘¢ï¼Ÿè¿™è¦çœ‹ä½ ç©¶ç«Ÿè¦åšä»€ä¹ˆï¼š å¦‚æœä½ æƒ³æ¢å¤é¡¹ç›®å†å²åˆ°æŸæ¬¡æäº¤ï¼Œé‚£è¯·ä½¿ç”¨git reset â€“hard å¦‚æœä½ æƒ³åœ¨å·¥ä½œç›®å½•ï¼ˆworking direcotryï¼‰ä¸­æ¢å¤æŸæ¬¡æäº¤ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”ä¸æ”¹å˜æäº¤å†å²ï¼Œé‚£è¯·ä½¿ç”¨git checkoutâ€“ å¦‚æœä½ æƒ³ç¡®åˆ‡çš„å›æ»šåˆ°æŸæ¬¡æäº¤ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨git reset ä¸åˆ†æ”¯æœ‰å…³çš„é‚£äº›äº‹ Once more, with branchingåœºæ™¯ï¼šä½ æäº¤äº†ä¸€äº›å˜æ›´ï¼Œç„¶åä½ æ„è¯†åˆ°ä½ æ­£åœ¨masteråˆ†æ”¯ä¸Šï¼Œä½†ä½ æœŸæœ›çš„æ˜¯åœ¨featureåˆ†æ”¯ä¸Šæ‰§è¡Œè¿™äº›æäº¤ã€‚ ä½¿ç”¨æ’¤é”€å‘½ä»¤ï¼šgit branch feature, git reset â€“hard origin&#x2F;master, å’Œ git checkout feature å‘ç”Ÿäº†ä»€ä¹ˆï¼šä½ å¯èƒ½ç”¨çš„æ˜¯git checkout -bæ¥å»ºç«‹æ–°çš„åˆ†æ”¯ï¼Œè¿™æ˜¯åˆ›å»ºå’Œæ£€å‡ºåˆ†æ”¯çš„ä¾¿æ·æ–¹æ³•â€”â€”ä½†å®é™…ä½ å¹¶ä¸æƒ³ç«‹åˆ»åˆ‡æ¢åˆ†æ”¯ã€‚git branch featureä¼šå»ºç«‹ä¸€ä¸ªå«featureçš„åˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯æŒ‡å‘ä½ æœ€è¿‘çš„æäº¤ï¼Œä½†æ˜¯ä½ è¿˜åœç•™åœ¨masteråˆ†æ”¯ä¸Šã€‚ git reset â€“hardå°†masterå›é€€è‡³origin&#x2F;masterï¼Œå¹¶å¿½ç•¥æ‰€æœ‰æ–°æäº¤ã€‚åˆ«æ‹…å¿ƒï¼Œé‚£äº›æäº¤éƒ½è¿˜ä¿ç•™åœ¨featureä¸Šã€‚ æœ€åï¼Œgit checkoutå°†åˆ†æ”¯åˆ‡æ¢åˆ°featureï¼Œè¿™ä¸ªåˆ†æ”¯åŸå°ä¸åŠ¨çš„ä¿ç•™äº†ä½ æœ€è¿‘çš„æ‰€æœ‰å·¥ä½œã€‚ äº‹åŠåŠŸå€å¤„ç†åˆ†æ”¯ Branch in time saves nineåœºæ™¯ï¼šä½ åŸºäºmasteræ–°å»ºäº†ä¸€ä¸ªfeatureåˆ†æ”¯ï¼Œä½†æ˜¯masteråˆ†æ”¯è¿œè¿œè½åä¸origin&#x2F;masterã€‚ç°åœ¨masteråˆ†æ”¯ä¸origin&#x2F;masteråŒæ­¥äº†ï¼Œä½ æœŸæœ›æ­¤åˆ»èƒ½åœ¨featureä¸‹ç«‹åˆ»commitä»£ç ï¼Œå¹¶ä¸”ä¸æ˜¯åœ¨è¿œè¿œè½åmasterçš„æƒ…å†µä¸‹ã€‚ ä½¿ç”¨æ’¤é”€å‘½ä»¤ï¼šgit checkout featureå’Œgit rebase master å‘ç”Ÿäº†ä»€ä¹ˆï¼šä½ ä¹Ÿè®¸å·²ç»æ•²äº†å‘½ä»¤ï¼šgit resetï¼ˆä½†æ˜¯æ²¡ç”¨â€“hard,æœ‰æ„åœ¨ç£ç›˜ä¸Šä¿å­˜è¿™äº›æäº¤å†…å®¹ï¼‰ï¼Œç„¶åæ•²äº†git checkout -bï¼Œä¹‹åé‡æ–°æäº¤æ›´æ”¹ï¼Œä½†æ˜¯é‚£æ ·çš„è¯ï¼Œä½ å°†å¤±å»æœ¬åœ°çš„æäº¤è®°å½•ã€‚ä¸è¿‡ï¼Œä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ï¼š ä½¿ç”¨git rebase masterå¯ä»¥åšåˆ°ä¸€äº›äº‹æƒ…ï¼š 1.é¦–å…ˆï¼Œå®ƒå®šä½ä½ å½“å‰æ£€å‡ºåˆ†æ”¯å’Œmasterä¹‹é—´çš„å…±åŒç¥–å…ˆèŠ‚ç‚¹ï¼ˆcommon ancestorï¼‰ã€‚ 2.ç„¶åï¼Œå®ƒå°†å½“å‰æ£€å‡ºçš„åˆ†æ”¯é‡ç½®åˆ°ç¥–å…ˆèŠ‚ç‚¹ï¼ˆancestorï¼‰ï¼Œå¹¶å°†åæ¥æ‰€æœ‰çš„æäº¤éƒ½æš‚å­˜èµ·æ¥ã€‚ 3.æœ€åï¼Œå®ƒå°†å½“å‰æ£€å‡ºåˆ†æ”¯æ¨è¿›è‡³masteræœ«å°¾ï¼ŒåŒæ—¶åœ¨masteræœ€åä¸€æ¬¡æäº¤ä¹‹åï¼Œå†æ¬¡æäº¤é‚£äº›åœ¨æš‚å­˜åŒºçš„å˜æ›´ã€‚","tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}]},{"title":"yarn-cliç¬”è®°","date":"2017-05-02T15:18:36.000Z","path":"2017/05/02/yarn-cliç¬”è®°/","text":"å‰ä¸€é˜µçœ‹åˆ°ä¸€å¥è¯ï¼ŒææŠ€æœ¯æ—¢è¦ä»°æœ›æ˜Ÿç©ºï¼Œåˆè¦è„šè¸å®åœ°ã€‚ç‰¹åˆ«æ˜¯å‰ç«¯ï¼Œä¸‰å¤©ä¸¤å¤´å‡ºæ¥æ–°ä¸œè¥¿ã€‚ä¸ºäº†è·Ÿä¸Šæ—¶ä»£ï¼Œè¶‹åŠ¿ã€‚å¾—å­¦ã€‚ã€‚ç„¶è€ŒJS&#x2F;CSSæœ€åŸºç¡€çš„ä¸œè¥¿ä¹Ÿä¸èƒ½è½ä¸‹ã€‚æƒ³å­¦çš„çš„ä¸œè¥¿å¤ªå¤šï¼Œå‘è¶ŠæŒ–è¶Šå¤šã€‚äºšå†å±±å¤§ï¼ŒåŠ æ²¹å§ï¼ˆæµå—Â·å¤§æ˜æ¹– 2017-04-30ï¼‰è¿™ä¸¤å¤©çœ‹äº†çœ‹Yarnï¼Œå…¶å®ä¹‹å‰åœ¨å¾®ä¿¡å…¬ä¼—å·ä¸Šçœ‹è¿‡ï¼Œè‡ªå·±ä¹Ÿç…§ç€æ•²äº†æ•²ã€‚ä¹‹åå°±æ²¡åœ¨æ„ã€‚è¿˜æ˜¯ç»§ç»­ç”¨NPMã€‚æ²¡æœ‰GETåˆ°yarnçš„ä¼˜åŠ¿ã€‚æ°é€¢çœ‹åˆ°ä¸€ç¯‡yarn vs npmçš„æ–‡ç« ï¼Œå¥½å¥½å­¦ä¹ äº†ä¸€ç•ªã€‚facebookåœ¨æŠ€æœ¯é¢†åŸŸçš„å·å¬åŠ›ä¹Ÿæ˜¯æ²¡è°äº†ã€‚å…‰çœ‹staræ•°éƒ½å¿«èµ¶ä¸Šè€å¤§å“¥npmäº†ã€‚ ä¸ºä»€ä¹ˆç”¨yarnï¼Ÿæ­£å¦‚å®˜ç½‘æ‰€è¯´ï¼š**FAST, RELIABLE, AND SECURE **ã€‚ ç›¸æ¯”NPMï¼Œyarnç¼“å­˜ä»–ä¸‹è½½ä¸‹æ¥çš„æ¯ä¸€ä¸ªåŒ…ï¼Œæ— éœ€é‡å¤ä¸‹è½½ã€‚æé«˜äº†èµ„æºåˆ©ç”¨ç‡ã€‚è¶…çº§å¯é ï¼ç”±äºå›½å†…ç½‘ç»œçš„ç‰¹æ®ŠåŸå› ã€‚æœ‰æ—¶å€™npmä¸‹è½½ä¾èµ–çš„æ—¶å€™ï¼Œä¸èƒ½ä¿è¯åŒ…çš„å®Œæ•´æ€§ã€‚ä¼šå‡ºç°å¾ˆå¤šçš„â€œå‘â€ï¼yarnçš„è¯ï¼Œåœ¨æ¯ä¸€ä¸ªå®‰è£…åŒ…çš„æ‰§è¡Œå‰ä½¿ç”¨æ ¡éªŒç éªŒè¯åŒ…çš„å®Œæ•´æ€§ã€‚å°±ä¸ä¼šé¢å¯¹é‚£äº›å‘äº†ã€‚è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ç›®å½•ä¸‹çš„lockæ–‡ä»¶ã€‚Yarn ä½¿ç”¨ä¸€ä¸ªæ ¼å¼è¯¦å°½ä½†ç®€æ´çš„ lockfile å’Œä¸€ä¸ªç²¾ç¡®çš„ç®—æ³•æ¥å®‰è£…ï¼Œèƒ½å¤Ÿä¿è¯åœ¨ä¸€ä¸ªç³»ç»Ÿä¸Šçš„è¿è¡Œçš„å®‰è£…è¿‡ç¨‹ä¹Ÿä¼šä»¥åŒæ ·çš„æ–¹å¼è¿è¡Œåœ¨å…¶ä»–ç³»ç»Ÿä¸Šã€‚ å‘½ä»¤ï¼šå‘½ä»¤ æ“ä½œ å‚æ•° æ ‡ç­¾yarn add æ·»åŠ ä¾èµ–åŒ… åŒ…å â€“dev&#x2F;-Dyarn bin æ˜¾ç¤ºyarnå®‰è£…ç›®å½• æ—  æ— yarn cache æ˜¾ç¤ºç¼“å­˜ åˆ—å‡ºç¼“å­˜åŒ…ï¼šlsï¼Œæ‰“å‡ºç¼“å­˜ç›®å½•è·¯å¾„ï¼šdirï¼Œæ¸…é™¤ç¼“å­˜ï¼šclean æ— yarn check æ£€æŸ¥åŒ… yarn clean æ¸…ç†ä¸éœ€è¦çš„ä¾èµ–æ–‡ä»¶ yarn config é…ç½® è®¾ç½®ï¼šset ï¼Œ åˆ é™¤ï¼šdeleteï¼Œ åˆ—å‡ºï¼šlist [-g | â€“global]yarn generate-lock-entry ç”Ÿæˆé”å®šæ–‡ä»¶ æ—  æ— yarn global å…¨å±€å®‰è£…ä¾èµ–åŒ… yarn global &lt;add&#x2F;bin&#x2F;ls&#x2F;remove&#x2F;upgrade&gt; [â€“prefix] â€“prefix åŒ…è·¯å¾„å‰ç¼€yarn info æ˜¾ç¤ºä¾èµ–åŒ…çš„ä¿¡æ¯ åŒ…å â€“jsonï¼šjsonæ ¼å¼æ˜¾ç¤ºç»“æœyarn init äº’åŠ¨å¼åˆ›å»º&#x2F;æ›´æ–°package.jsonæ–‡ä»¶ æ—  â€“yes&#x2F;-yï¼šä»¥é»˜è®¤å€¼ç”Ÿæˆpackage.jsonæ–‡ä»¶yarn install å®‰è£…æ‰€æœ‰ä¾èµ–åŒ… â€“flatï¼šåªå®‰è£…ä¸€ä¸ªç‰ˆæœ¬ï¼›â€“forceï¼šå¼ºåˆ¶é‡æ–°ä¸‹è½½å®‰è£…ï¼›â€“harï¼šè¾“å‡ºå®‰è£…æ—¶ç½‘ç»œæ€§èƒ½æ—¥å¿—ï¼›â€“no-lockfileï¼šä¸ç”Ÿæˆyarn.lockæ–‡ä»¶ï¼›â€“productionï¼šç”Ÿäº§æ¨¡å¼å®‰è£…ï¼ˆä¸å®‰è£…devDependenciesä¸­çš„ä¾èµ–ï¼‰yarn licenses åˆ—å‡ºå·²å®‰è£…ä¾èµ–åŒ…çš„è¯ä¹¦ lsï¼šè¯ä¹¦åˆ—è¡¨ï¼›generate-disclaimerï¼šç”Ÿæˆå…è´£å£°æ˜ yarn link å¼€å‘æ—¶é“¾æ¥ä¾èµ–åŒ…ï¼Œä»¥ä¾¿åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨ åŒ…å yarn login ä¿å­˜ä½ çš„ç”¨æˆ·åã€é‚®ç®± yarn logout åˆ é™¤ä½ çš„ç”¨æˆ·åã€é‚®ç®± yarn list åˆ—å‡ºå·²å®‰è£…ä¾èµ–åŒ… â€“depth&#x3D;0ï¼šåˆ—è¡¨æ·±åº¦ï¼Œä»0å¼€å§‹yarn outdated æ£€æŸ¥è¿‡æ—¶çš„ä¾èµ–åŒ… åŒ…å yarn owner ç®¡ç†æ‹¥æœ‰è€… ls&#x2F;add&#x2F;remove yarn pack ç»™åŒ…çš„ä¾èµ–æ‰“åŒ… â€“filename yarn publish å°†åŒ…å‘å¸ƒåˆ°npm â€“tagï¼šç‰ˆæœ¬æ ‡ç­¾ï¼›â€“accessï¼šå…¬å¼€ï¼ˆpublicï¼‰è¿˜æ˜¯é™åˆ¶çš„ï¼ˆrestrictedï¼‰yarn remove å¸è½½åŒ…ï¼Œæ›´æ–°package.jsonå’Œyarn.lock åŒ…å yarn run è¿è¡Œpackage.jsonä¸­é¢„å®šä¹‰çš„è„šæœ¬ yarn self-update yarnè‡ªèº«æ›´æ–°â€“æœªå®ç° yarn tag æ˜¾ç¤ºåŒ…çš„æ ‡ç­¾ add&#x2F;rm&#x2F;ls yarn team ç®¡ç†å›¢é˜Ÿ create&#x2F;destroy&#x2F;add&#x2F;rm&#x2F;ls yarn test æµ‹è¯• &#x3D; yarn run test yarn unlink å–æ¶ˆé“¾æ¥ä¾èµ–åŒ… yarn upgrade å‡çº§ä¾èµ–åŒ… yarn version ç®¡ç†å½“å‰é¡¹ç›®çš„ç‰ˆæœ¬å· â€“new-version ï¼šç›´æ¥è®°å½•ç‰ˆæœ¬å·ï¼›â€“no-git-tag-versionï¼šä¸ç”Ÿæˆgitæ ‡ç­¾ yarn why åˆ†æä¸ºä»€ä¹ˆéœ€è¦å®‰è£…ä¾èµ–åŒ… åŒ…å&#x2F;åŒ…ç›®å½•&#x2F;åŒ…ç›®å½•ä¸­çš„æ–‡ä»¶å","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"yarn","slug":"yarn","permalink":"http://yoursite.com/tags/yarn/"}]},{"title":"Vuexå­¦ä¹ ç¬”è®°","date":"2017-04-23T09:53:30.000Z","path":"2017/04/23/Vuexå­¦ä¹ ç¬”è®°/","text":"ä»€ä¹ˆæ˜¯Vuexï¼Ÿ ä¸“é—¨ä¸ºVueå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚é‡‡ç”¨é›†ä¸­å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çŠ¶æ€ã€‚åœ¨æ²¡æœ‰ç”¨Vuexçš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨è¿›è¡Œç»„ä»¶åŒ–å¼€å‘æ—¶ï¼Œæ•°æ®ï¼ˆä¹Ÿå°±æ˜¯çŠ¶æ€ä¸€èˆ¬éƒ½åˆ†æ•£åœ¨å„ä¸ªç»„ä»¶ä¸­ã€‚åŠ å…¥æˆ‘ä»¬è¦ä½¿ç”¨è¿™äº›çŠ¶æ€æ˜¯ï¼Œæˆ‘ä»¬å°±å¾—åœ¨ä¸åŒç»„ä»¶ä¸­å»å–çŠ¶æ€å€¼ï¼Œç„¶åè¿›è¡ŒçŠ¶æ€ä¿®æ”¹ï¼Œæœ€åè¿˜è¦ç›¸äº’è¯»å–å¯¹æ–¹çŠ¶æ€å€¼ã€‚çˆ¶å­ç»„ä»¶ä¸­ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡äº‹ä»¶è§¦å‘&#x2F;propsè¿›è¡ŒçŠ¶æ€ä¼ é€’ã€‚å­ç»„ä»¶ä¹‹é—´ï¼šç”±äºVueæœ¬èº«ç»„ä»¶ä¹‹é—´æœ‰ä½œç”¨åŸŸï¼Œä»–ä»¬ä¹‹é—´æ— æ³•ç›¸äº’é€šä¿¡ã€‚è¿™é‡Œå°±å¿…é¡»ç”¨å•ä¸€æ—¶é—´ç®¡ç†ï¼ˆevent busï¼‰æˆ–è€…åœ¨æ‰€æœ‰ç»„ä»¶å’ŒVueå¯¹è±¡ä¸‹ä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„Objectä½œä¸ºæ•°æ®ï¼Œæ¥å®ç°ã€‚ï¼ˆå®è´¨ï¼šå¼•ç”¨ï¼‰ã€‚ å¦‚æœé¡¹ç›®è¾ƒå°è¿˜å¥½ï¼Œä¸­å¤§å‹é¡¹ç›®ï¼Œç»„ä»¶é€šä¿¡å¤æ‚é¢‘ç¹çš„æ—¶å€™ï¼Œè¿™ä¸¤ç§æ–¹å¼ç®¡ç†èµ·æ¥å°±ä¼šååˆ†éº»çƒ¦ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚ æœ‰äº†Vuexï¼Œå®ƒå°†æ•°æ®å•ç‹¬æ”¾åœ¨ä¸€ä¸ªstoreé‡Œï¼Œå¹¶æä¾›ç»™å¤–éƒ¨æ“ä½œå†…éƒ¨æ•°æ®çš„æ–¹æ³•ã€‚è®©æˆ‘ä»¬èƒ½æ›´å¥½çš„ç®¡ç†é¡¹ç›®é‡Œçš„çŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯Vuexå‡ºç°çš„æ„ä¹‰å§ã€‚å°±åƒå®˜ç½‘è¯´çš„ï¼š Flux æ¶æ„å°±åƒçœ¼é•œï¼šæ‚¨è‡ªä¼šçŸ¥é“ä»€ä¹ˆæ—¶å€™éœ€è¦å®ƒ æ­£æ–‡åŸºæœ¬å°±æ˜¯æŒ‰å®˜ç½‘çš„æ•™ç¨‹æ’¸äº†ä¸€éã€‚è®°å½•ä¸€ä¸‹è‡ªå·±è§‰å¾—é‡è¦çš„å†…å®¹ã€‚ Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€storeâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€(state)ã€‚å½“ç„¶ï¼Œåœ¨ä½¿ç”¨Vuexçš„åŒæ—¶ï¼Œå„ä¸ªç»„ä»¶ä»ä¿æœ‰å±€éƒ¨çš„çŠ¶æ€ï¼š ä½¿ç”¨Vuexï¼Œå¹¶ä¸æ„å‘³ç€ä½ éœ€è¦å°†æ‰€æœ‰çš„çŠ¶æ€æ”¾å…¥Vuexã€‚ä¸‹é¢æˆ‘ä»¬æ¥æŒ‰æ­å»ºä¸€ä¸ªå°ä¾‹å­ï¼š æºç ï¼šhttps://github.com/laclys/vuex-demo åœ¨Vueè„šæ‰‹æ¶é‡Œé¢ï¼Œåœ¨main.jsä¸­ï¼š 12345678910111213141516import Vuex from &#x27;vuex&#x27;;Vue.use(Vuex);const store = new Vuex.Store(&#123; state: &#123; count: 0 &#125;, mutations: &#123; increment (state) &#123; state.count++ &#125; &#125;new Vue(&#123; el: &#x27;#app&#x27;, store, render: h =&gt; h(App)&#125;) è¿™é‡Œæˆ‘ä»¬å°±åˆ›å»ºäº†ä¸€ä¸ªæœ€ç®€å•çš„storeï¼Œå¹¶ä¸”æŒ‚è½½åœ¨äº†Vueå®ä¾‹ä¸Šã€‚é…ç½®å…¶å®å’Œvue-routeræŒºåƒçš„ã€‚Stateï¼šå°±æ˜¯å•ä¸€çŠ¶æ€æ ‘ï¼Œå°†æˆ‘ä»¬éœ€è¦ç®¡ç†çš„çŠ¶æ€åœ¨è¿™é‡Œå®šä¹‰ã€‚Mutationsï¼šæ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚Vuex ä¸­çš„ mutations éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ äº‹ä»¶ç±»å‹ (type) å’Œ ä¸€ä¸ª å›è°ƒå‡½æ•° (handler)ã€‚è¦æƒ³åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ã€‚ç”±äº Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼Œä» store å®ä¾‹ä¸­è¯»å–çŠ¶æ€æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨è®¡ç®—å±æ€§ä¸­è¿”å›æŸä¸ªçŠ¶æ€ã€‚ 1234computed: &#123; count() &#123; return this.$store.state.count; &#125; é€šè¿‡è¦å”¤é†’ä¸€ä¸ª mutation handlerï¼Œä½ éœ€è¦ä»¥ç›¸åº”çš„ type è°ƒç”¨ store.commit æ–¹æ³•ã€‚åœ¨ç»„ä»¶ä¸­ï¼š 12345 methods: &#123; increment() &#123; this.$store.commit(&#x27;increment&#x27;); &#125;&#125; Gettersï¼šè¿™ä¸ªåœ¨ä¸Šé¢çš„ä¾‹å­æ²¡æœ‰æ¶‰åŠåˆ°ã€‚æˆ‘ä»¬å¯ä»¥è®¤ä¸ºGettersæ˜¯Vuexåœ¨storeä¸­çš„è®¡ç®—å±æ€§ã€‚ï¼ˆGetters æ¥å— state ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ 12345678910111213const store = new Vuex.Store(&#123; state: &#123; todos: [ &#123; id: 1, text: &#x27;...&#x27;, done: true &#125;, &#123; id: 2, text: &#x27;...&#x27;, done: false &#125; ] &#125;, getters: &#123; doneTodos: state =&gt; &#123; return state.todos.filter(todo =&gt; todo.done) &#125; &#125;&#125;) ç»„ä»¶ä¸­è°ƒç”¨ï¼š 12345computed: &#123; doneTodos () &#123; return this.$store.getters.doneTodos &#125;&#125; Actions: ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š1)Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚2)Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚ Mutationsä¸­å¯¹çŠ¶æ€çš„æ“ä½œåªèƒ½æ˜¯åŒæ­¥æ“ä½œï¼Œä¸èƒ½æ˜¯å¼‚æ­¥æ“ä½œã€‚ 1234567actions: &#123; incrementAsync (&#123; commit &#125;) &#123; setTimeout(() =&gt; &#123; commit(&#x27;increment&#x27;) &#125;, 1000) &#125;&#125; åœ¨ç»„ä»¶ä¸­ï¼š 12345methods: &#123; incrementAsync() &#123; this.$store.dispatch(&#x27;incrementAsync&#x27;); &#125; &#125; è¯´åˆ°å¼‚æ­¥ï¼Œå½“ç„¶æ˜¯æ”¯æŒpromiseä»¥åŠ async &#x2F; await è¿™ä¸ª JavaScript å³å°†åˆ°æ¥çš„æ–°ç‰¹æ€§ï¼šè¿™é‡Œè¯´ä¸€ä¸‹promiseï¼š store.dispatch å¯ä»¥å¤„ç†è¢«è§¦å‘çš„actionçš„å›è°ƒå‡½æ•°è¿”å›çš„Promiseï¼Œå¹¶ä¸”store.dispatchä»æ—§è¿”å›Promise 12345678decrementAsync(&#123;commit&#125;) &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; commit(&#x27;decrement&#x27;); resolve(); &#125;,1000) &#125;)&#125; ç»„ä»¶ä¸­ æˆ‘ä»¬å°±å¯ä»¥ç”¨é“¾å¼thenäº†ï¼š 123456decrementAsync() &#123; this.$store.dispatch(&#x27;decrementAsync&#x27;).then(() =&gt; &#123; // æ‰§è¡Œå®ŒdecrementAsync,ä¹‹åæ‰§è¡Œï¼š console.log(&#x27;decrementAsyncæ‰§è¡Œå®Œäº†&#x27;); &#125;);&#125; ä¹‹åè¿˜æœ‰ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µå«åšModulesï¼Œé¡¾åæ€ä¹‰æ¨¡å—åŒ–ã€‚å½“é¡¹ç›®éå¸¸çš„åºå¤§ï¼Œé‚£ä¹ˆçŠ¶æ€å¯èƒ½æœ¬èº«è¿˜éœ€è¦è¿›è¡Œåˆ†æ¨¡å—åˆ†ç±»ç®¡ç†ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°æ¨¡å—äº†ã€‚è¿™é‡Œå°±ä¸å†èµ˜è¨€äº†ã€‚ ä»¥ä¸Š","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"},{"name":"Vuex","slug":"Vuex","permalink":"http://yoursite.com/tags/Vuex/"}]},{"title":"VueJSç»„ä»¶åŒ–å¼€å‘å®è·µæ€»ç»“","date":"2017-04-09T16:31:18.000Z","path":"2017/04/10/VueJSç»„ä»¶åŒ–å¼€å‘å®è·µæ€»ç»“/","text":"å‰è¨€æ¥è§¦Vuejsï¼Œå¥½ä¸€é˜µäº†ã€‚æ¸…æ˜èŠ‚å‰åœ¨æ…•è¯¾ç½‘å­¦äº†ä¸€é—¨è¯¾ã€‚å‰å‰ååèŠ±äº†40å¤šä¸ªå°æ—¶ç¢ç£¨ï¼Œæ­å»ºèµ·äº†ç»„ä»¶åŒ–å¼€å‘çš„é¥¿äº†ä¹ˆSPAã€‚è¿™40å°æ—¶æ”¶è·äº†å¾ˆå¤šï¼Œä¹Ÿè¸©äº†ä¸å°‘å‘ã€‚è¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚ æºç ï¼š https://github.com/laclys/vueApp æŠ€æœ¯æ ˆVueJS+Vue-resource+Vue-router+Sass+webpack+ES6 å…·ä½“ç»†èŠ‚ç›®å½•ç»“æ„ common: å…¬å…±æ–‡ä»¶ï¼ŒåŒ…å«å›¾æ ‡å­—ä½“æ–‡ä»¶ã€ä¸€äº›å…¬å…±JSæ–¹æ³•ã€Sassçš„mixin(è¿™é‡ŒåŒ…å«ç§»åŠ¨ç«¯ä¸€åƒç´ ã€ç§»åŠ¨ç«¯DPRç­‰ï¼Œåé¢å†æ)componentsï¼šå…¬å…±ç»„ä»¶ åŒ…å«ï¼š cartcontrol:é¡µé¢åº•éƒ¨è´­ç‰©è½¦ç»„ä»¶ foodï¼šå•†å“è¯¦æƒ…ä¹Ÿç»„ä»¶ goodsï¼šå•†å“åˆ—è¡¨é¡µç»„ä»¶ headerï¼šå¤´éƒ¨ç»„ä»¶ ratingsï¼šè¯„è®ºåˆ—è¡¨é¡µç»„ä»¶ sellerï¼šå•†å®¶é¡µç»„ä»¶ shopcartï¼šè´­ç‰©è½¦ç»„ä»¶ splitï¼šç©ºéš™è¡Œç»„ä»¶ starï¼šè¯„ä»·æ˜Ÿæ˜Ÿç»„ä»¶App.vue: é¡µé¢å…¥å£appç»„ä»¶ï¼ˆç»„ä»¶å¤´å¤´ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½ä¾é™„äºå®ƒã€‚)main.js: VueJså…¥å£æ–‡ä»¶,åŠ è½½è·¯ç”±,å…¬å…±ç»„ä»¶,ç»„ä»¶çŠ¶æ€ã€‚ æ”¶è·æ¯”è¾ƒé›¶æ•£ä¸€æ¡ä¸€ä¸€æ¡æ€»ç»“ï¼š â€‹Vueçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯æ•°æ®é©±åŠ¨ï¼Œçœå»äº†æ“çºµDOMçš„æ­¥éª¤ï¼Œæˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†æ”¹å˜æ•°æ®ã€‚æ•°æ®ï¼ˆmodelï¼‰æ”¹å˜&#x2F;é©±åŠ¨è§†å›¾ï¼ˆviewï¼‰è‡ªåŠ¨æ›´æ–°ã€‚ ç»„ä»¶åŒ–çš„æ„ä¹‰ï¼šæ‰©å±•HTMLå…ƒç´ ï¼Œå°è£…å¯é‡ç”¨çš„ä»£ç ã€‚ DPRâ€“é‡åŒ–å±å¹•çš„ç‰©ç†åˆ†è¾¨ç‡å’Œæ˜¾ç¤ºæ¸…æ™°åº¦ã€‚ä¾‹å¦‚iphone6çš„DPRä¸º2ï¼Œ6 plus&#x2F;7æ˜¯3ã€‚ä¸€èˆ¬UIç»™çš„psdå›¾éƒ½æ˜¯åŸºäºDPRä¸º2åšçš„ï¼Œæ‰€ä»¥ç§»åŠ¨ç«¯çš„è®¾è®¡ç¨¿ï¼Œåƒç´ å°ºå¯¸éƒ½æ˜¯ä¸¤å€æˆ–ä¸‰å€ã€‚ï¼ˆè¿™é‡Œæä¸€ä¸‹ä¸€èˆ¬åªé’ˆå¯¹iosï¼Œå®‰å“é‡‡ç”¨1å€å¸ƒå±€æ–¹æ¡ˆï¼‰ ç§»åŠ¨ç«¯å®ç°1pxï¼šåˆ©ç”¨ä¼ªç±»+yè½´ç¼©æ”¾ã€‚å‘³è•¾ç›¸å¯¹äºå…ƒç´ ç»å¯¹å®šä½åï¼Œç»™ä¼ªç±»1pxçš„è¾¹æ¡†ï¼Œç„¶åæ ¹æ®è®¾å¤‡æœ€å°dprè¿›è¡ŒscaleYã€‚1234567891011121314151617181920212223242526272829303132@mixin border-1px($color) &#123; position: relative; &amp;:after &#123; display: block; position: absolute; left: 0; bottom: 0; width: 100%; border-top: 1px solid $color; content: &#x27;&#x27;; &#125;&#125;// DPR1.5æ—¶å€™@media (-webkit-min-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5) &#123; .border-1px &#123; &amp;:after &#123; -webkit-transform: scaleY(0.7); transform: scaleY(0.7); &#125; &#125;&#125;// DPR2æ—¶å€™@media (-webkit-min-device-pixel-ratio:2),(min-device-pixel-ratio:2) &#123; .border-1px &#123; &amp;:after &#123; -webkit-transform: scaleY(0.5); transform: scaleY(0.5); &#125; &#125;&#125; â€‹Vueç»„ä»¶ä¸­ä¸èƒ½ç›´æ¥ä½¿ç”¨srcï¼Œè¦é€šè¿‡v-bindç»‘å®šä½¿ç”¨ã€‚ CSSæ¶ˆé™¤inline-blockä¸‹ä¸¤ä¸ªè¡Œé—´æ ·å¼ä¹‹é—´çš„ç•™ç™½ã€‚ä¸¤ç§åŠæ³•ä¸€ç§æ˜¯ä¸¤ä¸ªæ ‡ç­¾ä¸æ¢è¡Œç´§ç´§è´´ç€ï¼›äºŒæ˜¯ç»™ä»–ä»¬çš„çˆ¶çº§åŠ font-sizeï¼š0ã€‚è¿™æ ·å°±å¯ä»¥è§£å†³äº†ã€‚ iphoneä¸€èˆ¬çš„é»˜è®¤å­—ä½“ï¼šâ€˜PingFang SCâ€™, â€˜STHeitiSC-Lightâ€™, â€˜Helvetica-Lightâ€™, arial, sans-serif; çœç•¥å·ï¼šï¼ˆå†™è¿‡å¥½å¤šéï¼‰123white-space:nowrap;overflow:hidden;text-overflow:ellipsis; CSS sticky footerå¸ƒå±€ï¼ˆå®ç°åº•éƒ¨å†…å®¹éšç€å†…å®¹é•¿åº¦è€Œå˜åŒ–ã€‚ï¼‰ï¼šhttp://www.w3cplus.com/css3/css-secrets/sticky-footers.html IOSä¸“æœ‰çš„æ¨¡ç³ŠèƒŒæ™¯å±æ€§ï¼šbackdrop-filter: blur(10px); â€‹å‚ç›´å±…ä¸­ï¼šçˆ¶çº§ç”¨display: table, å­çº§displayï¼štable-cellï¼›vertical-alignï¼šmiddleï¼› Vueå¼‚æ­¥èµ‹å€¼ã€‚ä¸€èˆ¬éœ€è¦domåŠ è½½å®Œæˆåæ“ä½œdomæ—¶ä½¿ç”¨ï¼ˆåŠ¨æ€æ›´æ–°æ•°æ®ï¼‰ï¼šthis.$nextTick(()&#x3D;&gt;{}); cssé»‘é­”æ³•ï¼špadding-topï¼š100%ï¼ˆç›¸å¯¹äºå®½åº¦æ¥è®¡ç®—paddingï¼‰ å…¼å®¹iphone5å°å±å¹•æ—¶ï¼š123@media only screen and (max-width:320px)&#123; &#125; æ³¨æ„é©¼å³°å‘½åå’Œè¿å­—ç¬¦å‘½å æ€»ç»“é€šè¿‡è¿™æ¬¡ç»„ä»¶åŒ–å¼€å‘äº‹ä»¶ï¼Œæ”¶è·ä¸ä»…ä»…æ˜¯vueè¿™é—¨è¯­è¨€ï¼Œè¿˜æœ‰å¾ˆå¤šè§„èŒƒçš„ç¼–ç¨‹ä¹ æƒ¯ã€‚ESlinkçš„ä½¿ç”¨ã€cssç»“æ„æ ¼å¼ã€å‘½åè§„èŒƒÂ·Â·Â·Vueå¾ˆå¤šæŠ€æœ¯ç»†èŠ‚ï¼Œè¿˜æ˜¯éœ€è¦å¥½å¥½ç¢ç£¨æ–‡æ¡£ã€‚æŠ½æ—¶é—´å†å­¦ä¸€ä¸‹Vuexã€‚webpackçœŸçš„å¾ˆæ–¹ä¾¿ã€‚ä¸è¿‡åæ§½ä¸€ä¸‹vue-loaderæ ¹æœ¬æ²¡æœ‰å¤„ç†.vueæ–‡ä»¶é‡Œé¢çš„å†…å®¹ï¼Œä»–åªæ˜¯å‘Šè¯‰ä½ åº”è¯¥ç”±å…¶ä»–çš„æ–¹å¼æ¥loaderæ¥å¤„ç†è¿™ä¸ªæ–‡ä»¶ã€‚ å°±è¿™æ ·å§ã€‚åˆæ˜¯ä¸€å¹´æ¨±èŠ±å­£ï¼Œæ¥ä¸€å¼ å»å¹´çš„ç…§ç‰‡è§£è§£é¦‹å§&#x3D;ã€‚&#x3D;","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"Webpack2å°è¯•","date":"2017-03-29T13:08:52.000Z","path":"2017/03/29/Webpack2å°è¯•/","text":"å‰ç«¯çš„æ°´å¾ˆæ·±å¾ˆæ‚ï¼Œå› è€Œå‰ç«¯ç›¸å…³çš„å·¥å…·ä¹Ÿåƒé›¨åæ˜¥ç¬‹ä¸€ä¸ªä¸€ä¸ªçš„å†’å‡ºæ¥ã€‚æœ€è¿‘å¤§çƒ­çš„åº”è¯¥å°±æ•°webpackâ€“è¿™ä¸ªæ¨¡å—åŒ–è§£å†³æ–¹æ¡ˆå·¥å…·ã€‚ Gulp&#x2F;Grunt VS Webpacké¦–å…ˆè¿™ä¸‰è€…éƒ½æ˜¯å‰ç«¯å·¥å…·ï¼Œéƒ½ç­‰è®©æˆ‘ä»¬é«˜æ•ˆè‡ªåŠ¨åŒ–çš„è§£å†³ä¸€äº›é—®é¢˜ã€‚ä½†å®è´¨ä¸Šwebpackå’ŒGulp&#x2F;Gruntæœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚ å…ˆè°ˆè°ˆå‰è€…ã€‚Gulp&#x2F;Gruntä¸¤è€…çš„åŒºåˆ«ï¼Œæš‚ä¸”ä¸åœ¨è¿™è¯´äº†ã€‚ç”¨å¤„çš„è¯ï¼Œä¸¤è€…å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨åˆ·æ–°é¡µé¢ï¼Œå‹ç¼©css&#x2F;js&#x2F;htmlä»¥åŠä¾¿å®œsass&#x2F;lessã€‚ç®€å•çš„è¯´åªè¦ä½ é…ç½®ä½ éœ€è¦çš„æ’ä»¶ï¼Œå°±å¯ä»¥æŠŠä»¥å‰éœ€è¦æ‰‹åŠ¨åšçš„äº‹æƒ…è®©å®ƒå¸®ä½ å®Œæˆã€‚é‚£å®˜æ–¹çš„è¯æ¥è¯´å°±æ˜¯â€”-TaskRunnerã€‚å¯ä»¥åšåˆ°nodeèƒ½åšåˆ°çš„ä»»ä½•äº‹ã€‚ è€ŒWebpackï¼Œç®€å•çš„è¯´ï¼šå°±æ˜¯ä¸€ä¸ªé’ˆå¯¹Javascriptä»£ç æ¨¡å—çš„æ‰“åŒ…å·¥å…·ã€‚ä½œä¸ºä¸€ä¸ª module bundler å­˜åœ¨ã€‚åœ¨æˆ‘çš„ç†è§£æ¥çœ‹ï¼šwebpack æ›´å¤šçš„æ˜¯ç”¨æ¥æ‰“åŒ…å‰ç«¯ä»£ç ã€‚ webpack å¹¶ä¸æš´éœ²æ–‡ä»¶å¤„ç†çš„ç»†èŠ‚ï¼Œä½ åªæ˜¯æŠŠä¸€å †æ–‡ä»¶ä¸¢ç»™å®ƒï¼Œå‘Šè¯‰å®ƒç”¨ä»€ä¹ˆ loader æ¥å¤„ç†ä»€ä¹ˆæ–‡ä»¶ï¼Œç„¶åå°±å¯ä»¥ç­‰ç€è¾“å‡ºäº†ã€‚ webpackç›¸æ¯”gulpæ¥è¯´åŠŸèƒ½å•ä¸€ä¸€äº›ï¼Œæ›´ç®€åŒ–ä¸€äº›ã€‚å½“ç„¶ä¸¤è€…ä¹Ÿæœ‰äº¤é™…ä¾‹å¦‚ä»€ä¹ˆé¢„ç¼–è¯‘,å‹ç¼©ä»£ç ä¹‹ç±»çš„ã€‚ How to use Webpack2é¦–å…ˆéœ€è¦npm install ç›¸å…³çš„æ¨¡å—ï¼š npm i webpack â€“save-dev ä¹‹ååœ¨æ ¹ç›®å½•ä¸‹å»ºä¸€ä¸ªwebpack.config.js,æ¥é…ç½®webpackã€‚ 1234567var webpack = require(&#x27;webpack&#x27;);module.exports = &#123; entry: &#x27;./src/app.js&#x27;, output: &#123; path: __dirname + &#x27;/dist&#x27;, filename: &#x27;js/[name].bundle.js&#x27;, &#125;&#125; entryä¸ºwebpackå¯»æ‰¾çš„å…¥å£ã€‚outputä¾¿æ˜¯å¤„ç†ä¹‹åè¾“å‡ºæ–‡ä»¶çš„åœ°å€ã€‚(__dirnameè¿™é‡ŒæŒ‡æ ¹ç›®å½•)åœ¨entryä¸­çš„jsæ–‡ä»¶é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡importæˆ–è€…requireå¼•å…¥ä¾èµ–ã€‚æºæ–‡ä»¶éƒ½æ”¾åœ¨äº†srcç›®å½•ä¸­:â””â”€src â””â”€www â”œâ”€css â”œâ”€img â””â”€jsåœ¨srcç›®å½•ä¸‹æœ‰ä¸€ä¸ªapp.jsã€‚å¦‚ä¸‹ï¼š 1import &#x27;./www/js/js-test.js&#x27; åˆ†åˆ«è°ƒç”¨äº†css&#x2F;jsæ–‡ä»¶å¤¹çš„å†…å®¹ã€‚test-css.css 1234567891011121314*&#123; margin: 0; padding: 0;&#125;div&#123; width: 100px; height: 100px; /*background: red;*/ background: url(../img/test-img.jpg); background-size: contain;&#125;.flex&#123; display: flex;&#125; js-test.js 123function a()&#123; console.log(12345);&#125; ä¹‹ååœ¨å‘½ä»¤è¡Œå°±å¯ä»¥è¿è¡Œwebpackäº†ã€‚ä¸è¿‡åœ¨è¿™ä¹‹å‰ æˆ‘ä»¬å¯ä»¥åœ¨package.jsonæ–‡ä»¶ä¸­å¯¹webpackå‘½ä»¤è¿›è¡Œä¸€ä¸‹å°é…ç½®ï¼šåœ¨scriptä¸‹æ·»åŠ  â€œwebpackâ€: â€œwebpack â€“config webpack.config.js â€“progress â€“display-modules â€“colors â€“display-reasonsâ€ åˆ†åˆ«æ˜¯æ˜¾ç¤ºè¿‡ç¨‹ æ˜¾ç¤ºæ¨¡å— é«˜äº® ä»¥åŠæ‰§è¡ŒåŸå›  1npm run webpack åœ¨distæ–‡ä»¶å¤¹å°±ç”Ÿæˆäº† æ‰“åŒ…å¥½çš„jsæ–‡ä»¶ï¼šmain.bundle.jsã€‚ Loaderså‰é¢ è¯´çš„éƒ½æ˜¯å…³äºæ‰“åŒ…JSä»£ç ã€‚æˆ‘ä»¬çš„webpackå½“ç„¶èƒ½åŠ›ä¸ä»…ä»…æ˜¯è¿™äº›ã€‚é€šè¿‡å„ç§æ–‡ä»¶çš„loaderï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†å„ç§æ–‡ä»¶ã€‚ã€‚å‰ææ˜¯æˆ‘ä»¬å°†ä»–ä¼ å…¥jsä»£ç ä¸­ã€‚æ¯”å¦‚å¤„ç†cssçš„css-loader&#x2F;style-loaderã€‚cssé¢„å¤„ç†loaderï¼špostcss-loaderã€‚å¤„ç†sassçš„sass-loaderã€‚å›¾ç‰‡æ–‡ä»¶çš„file-loaderå’Œurl-loaderã€‚è¿™äº›loaderæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡npm i æ¥ä¸‹è½½ä½¿ç”¨ã€‚è¿™é‡Œç®€å•è¯´ä¸€ä¸ªcss-loader&#x2F;style-loaderã€‚é¦–å…ˆæˆ‘ä»¬è¦åœ¨app.jsä¸­å¼•å…¥cssæ–‡ä»¶ 1import &#x27;./www/css/test-css.css&#x27;; ä¹‹ååœ¨webpack.config.jsä¸­é…ç½®æ’ä»¶ 12345module: &#123; loaders: [&#123; test: /\\.css$/, loader: &#x27;style-loader!css-loader&#x27;//ä»å³å‘å·¦æ‰§è¡Œã€‚å…ˆæ‰§è¡Œcss-loaderï¼Œå†æ‰§è¡Œstyle-loader &#125; ä¹‹ååœ¨å‘½ä»¤è¡Œè¿è¡Œä¸€ä¸‹å°±okäº†ã€‚webpackçš„ä½¿ç”¨å¾ˆçµæ´»å¤„ç†ES6&#x3D;&gt;ES5ã€‚ç»™cssä»£ç åŠ å‰ç¼€Â·Â·Â·Â·githubï¼šhttps://github.com/laclys/webpack2_Demo/tree/master/webpack0329 ä»¥ä¸Š~","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"webpack","slug":"webpack","permalink":"http://yoursite.com/tags/webpack/"}]},{"title":"Angular1.5åˆ°Angular1.6çš„JSONPäº¤äº’ç›¸å…³çš„è®¾ç½®åŠå°Demo","date":"2017-03-23T15:35:28.000Z","path":"2017/03/23/Angular1.5åˆ°Angular1.6çš„JSONPç›¸å…³çš„è®¾ç½®åŠå°Demo/","text":"ä¸ç®¡å­¦ä¹ é‚£ä¸ªå‰ç«¯æ¡†æ¶ï¼ˆå…¶å®åç«¯ä¹Ÿæ˜¯ï¼‰éƒ½å›é¿ä¸äº†ï¼Œæ•°æ®çš„äº¤äº’ã€‚åœ¨äº¤äº’ä¸­åœ¨é‡è¦çš„ä¸¤ä¸ªå°±æ˜¯AJaxä»¥åŠè·¨åŸŸçš„JSONPã€‚ Angularâ€“Ajaxäº¤äº’åœ¨ä¹‹å‰çš„åšæ–‡ä¸­å¼€å¤´å…ˆè·‘é¢˜ä¸€ä¸‹è¯´è¯´ç¬¬ä¸€ç§Angularçš„Ajaxäº¤äº’ã€‚åºŸè¯ä¸å¤šè¯´ä¸Šä»£ç ï¼š 12345678910111213var app = angular.module(&#x27;app&#x27;, []); app.controller(&#x27;show&#x27;, function ($scope, $http) &#123; $scope.get = function () &#123; $http(&#123; method: &#x27;GET&#x27;, url: &#x27;a.txt&#x27; &#125;).then(function (res) &#123; alert(res.data); &#125;, function () &#123; &#125;) &#125; &#125;); è¿™é‡Œåœ¨æ–‡ä»¶å¤¹å†…å»ºäº†ä¸€ä¸ªa.txtæ–‡ä»¶é‡Œé¢éšä¾¿æ‰“äº†ä¸€äº›æ•°å­—ã€‚åœ¨angularåŒ…è£¹çš„æ§åˆ¶å™¨ä¸­è°ƒç”¨$httpï¼Œè®¾ç½®urlä»¥åŠæ‰€ä½¿ç”¨çš„methodã€‚å¦‚æœæœ‰å…¶ä»–æ•°æ®å°±åŠ ä¸€ä¸ªdataå±æ€§ã€‚è¿™æ ·å‘åå°å‘çš„ä¿¡æ¯å°±åˆ¶ä½œå¥½äº†ã€‚æ˜¯ä¸æ˜¯å’ŒJQå¾ˆåƒã€‚ä¹‹åthenåé¢ä¸¤ä¸ªå‡½æ•°ä¸€æ¬¡å¯¹åº”JQä¸­çš„successå’Œerrorå‡½æ•°ã€‚è¿™é‡Œã€‚æˆ‘ä»¬å½“å®ƒæˆåŠŸè·å–a.txtæ–‡ä»¶ä¸­æ•°æ®æ—¶ï¼Œconsole.logä¸€ä¸‹.æ•°æ®å°±åœ¨æˆ‘ä»¬æ§åˆ¶å°æ˜¾ç¤ºäº†å‡ºæ¥ã€‚ Angularâ€“JSONPäº¤äº’ä¸‹é¢å¼€å§‹è¯´ä»Šå„¿çš„é‡ç‚¹JSONPäº¤äº’ã€‚Angularä¸­JSONPçš„æ“ä½œä¹Ÿæ˜¯åŸºäº$httpæ–¹æ³•ä¸­çš„ã€‚ç”±äºå‰ç«¯æ¡†æ¶çš„é«˜é€Ÿç‰ˆæœ¬å˜åŒ–ã€‚åœ¨JSONPè¿™ä¸€å—1.5ç‰ˆæœ¬å’Œ1.6ç‰ˆæœ¬æœ‰å¾ˆå¤§çš„ä¸åŒã€‚ä¸‹é¢å°±æ¥è¯¦ç»†è¯´ä¸€ä¸‹ã€‚ Angular1.5åŠä»¥ä¸‹ç‰ˆæœ¬åœ¨1.5åŠä»¥ä¸‹ç‰ˆæœ¬é‡Œã€‚æ˜¯é€šè¿‡åœ¨urlä¸­callback&#x3D;â€™JSON_CALLBACKâ€™ã€‚æ¥è¿›è¡ŒJSONPçš„æ“ä½œã€‚è¿™é‡Œè¿˜æ˜¯é‚£ä»£ç ä¸¾ä¾‹ã€‚è¿˜æ˜¯ä¹‹å‰JQ&#x2F;åŸç”ŸJSé‚£å—åœ¨åœ¨è¾“å…¥æ¡†è¾“å…¥å­—ç¬¦ï¼Œé€šè¿‡JSONPè°ƒç”¨ç™¾åº¦è”æƒ³åŠŸèƒ½ï¼Œåˆ—å‡ºç´¢å¼•è”æƒ³çš„é‚£ä¸ªä¾‹å­ã€‚ 1234567891011121314151617181920212223242526272829303132333435&lt;!DOCTYPE html&gt;&lt;html ng-app=&quot;app&quot;&gt;&lt;head lang=&quot;en&quot;&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;script src=&quot;angular1-5-6.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var app=angular.module(&#x27;app&#x27;,[]); app.controller(&#x27;show&#x27;,function($scope,$http)&#123; $scope.arr=[]; $scope.msg=&#x27;&#x27;; //å½“msgå˜çš„æ—¶å€™ $scope.$watch(&#x27;msg&#x27;,function()&#123; $http(&#123; method:&#x27;JSONP&#x27;, url:&#x27;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=&#x27;+$scope.msg+&#x27;&amp;cb=&#x27;+&#x27;JSON_CALLBACK&#x27; &#125;).then(function(res)&#123; //æˆåŠŸçš„å‡½æ•° $scope.arr=res.data.s; &#125;,function()&#123; //å¤±è´¥çš„å‡½æ•° &#125;) &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body ng-controller=&quot;show&quot;&gt; &lt;input type=&quot;text&quot; ng-model=&quot;msg&quot;/&gt; &lt;ul&gt; &lt;li ng-repeat=&quot;v in arr&quot;&gt;&#123;&#123;v&#125;&#125;&lt;/li&gt; &lt;/ul&gt;&lt;/body&gt;&lt;/html&gt; å’Œä¹‹å‰Ajaxçš„è°ƒç”¨å¾ˆåƒã€‚åŒºåˆ«å°±æ˜¯methodè®¾ç½®ä¸ºâ€˜JSONPâ€™ä»¥åŠurlä½¿ç”¨äº† url:â€™https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su? wd&#x3D;â€™+$scope.msg+â€™&amp;cb&#x3D;â€™+â€™JSON_CALLBACKâ€™æœŸé—´$scope.msâ€™ä¸º$scope.$watchç›‘æ§è¾“å…¥æ å˜åŒ–çš„å€¼ï¼Œè¿›è¡Œå®æ—¶ç›‘æ§ã€‚åœ¨çº¿Demoï¼šhttps://laclys.github.io/HTML-CSS-JS_practice/angular/JSONP_baidu_keywords1-5-6.html Angular1.6ä¸‹é¢å¼€å§‹è¯´æœ€æ–°çš„1.6ç‰ˆæœ¬ã€‚ä¸€å¼€å§‹åšç»ƒä¹ çš„æ—¶å€™ç”¨çš„1.6.3ç‰ˆæœ¬ï¼Œæ€ä¹ˆä¹Ÿå‡ºä¸æ¥ï¼Œæ¢æˆäº†1.5.6å°±okäº†ã€‚ä¹‹åå„ç§æŸ¥èµ„æ–™ï¼Œæœç´¢1.6æ€ä¹ˆä½¿ç”¨ã€‚å®˜ç½‘æ˜¯è¿™ä¹ˆè¯´çš„1.5ä¹‹åä¸èƒ½å†ç”¨JSON_CALLBACKäº†ï¼Œå¹¶ä¸”è¦æŠŠJSONPçš„urlåŠ å…¥ç™½åå•ã€‚çœ‹å®Œç¬¬ä¸€æ„Ÿè§‰æ˜¯æ‡µé€¼çš„ã€‚è¯´å®è¯ç½‘ä¸Šè¿™ä¸€å—èµ„æ–™æ¯”è¾ƒå°‘ï¼Œä¹Ÿæ²¡æœ‰ä¾‹å­ã€‚ä¹‹åæ£é¼“å¥½åŠå¤©ç ”ç©¶äº†å‡ºæ¥ã€‚1.6ä¸­$watchå‡½æ•°ä¸­å¾—è¿™ä¹ˆå†™ï¼š 12345678910111213141516var url = &#x27;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su&#x27;; var temp = $scope.msg; console.log(temp); $http.jsonp( $sce.trustAsResourceUrl(url), &#123; params: &#123; wd: temp &#125;, jsonpCallbackParam: &#x27;cb&#x27; &#125; ).then(function (res) &#123; // alert(res.data.s) $scope.arr = res.data.s; &#125;, function (res) &#123; alert(&#x27;res&#x27;) &#125;); ä½¿ç”¨â€™$http.jsonâ€™ã€‚è¦å¤„ç†çš„urlçš„callbackä¹‹å‰é€šè¿‡â€™$sce.trustAsResourceUrl(url)â€™ï¼Œæ·»åŠ åˆ°ç™½åå•ã€‚ä¹‹åæˆ‘ä»¬çš„å‚æ•°è¦æ”¾åœ¨paramsä¸­ã€‚æœ€å jsonpCallbackParam: â€˜cbâ€™ã€‚Demoå¦‚ä¸‹ï¼šhttps://laclys.github.io/HTML-CSS-JS_practice/angular/JSONP_baidu_keywords.html 1.6ç½‘ä¸Šçš„èµ„æ–™è¿˜æ˜¯å¤ªå°‘ï¼Œæ–‡æ¡£æœ‰äº›å«ç³Šçº ç»“äº†æˆ‘å¥½åŠå¤©ã€‚ä¸€é¡¿ä¹±è¯•ã€‚è¿˜å¥½æœ€åæˆåŠŸäº†ã€‚ä¸ç„¶çº ç»“æ­»æˆ‘&#x3D; &#x3D;ã€‚angularè¿™å—æ°´å¾ˆæ·±ï¼Œè¿˜æ˜¯è¦å¤šå¤šå•ƒæ–‡æ¡£æ‰è¡Œ~","tags":[{"name":"Angular","slug":"Angular","permalink":"http://yoursite.com/tags/Angular/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"http://yoursite.com/tags/%E4%BA%A4%E4%BA%92/"}]},{"title":"å°è¯•NodeJSçš„expressè¿›è¡Œå‰åç«¯æ•°æ®äº¤äº’","date":"2017-03-13T17:09:02.000Z","path":"2017/03/14/å°è¯•NodeJSçš„expressè¿›è¡Œå‰åç«¯æ•°æ®äº¤äº’/","text":"ä»Šå„¿å°è¯•äº†ä¸€ä¸‹NodeJsçš„expressæ¡†æ¶ï¼Œåœ¨è¿™è¯´ä¸€è¯´å¦‚ä½•é€šè¿‡expressè¿›è¡Œå‰åå°çš„æ•°æ®äº¤äº’ã€‚ è¿™å‡ å¹´nodeJså¤§ç«ï¼Œæœ‰å¾ˆå¤šåŸå› ã€‚å…¶ä¸­æœ€é‡è¦çš„æˆ‘æƒ³å°±æ˜¯å’Œå‰å°åŒä¸ºJSè¯­è¨€ï¼Œåœ¨äº¤äº’ä¸Šæ¯”å…¶ä»–åå°è¯­è¨€é…åˆèµ·æ¥æ›´çˆ½ä¸€äº›ã€‚ è¿™é‡Œå°±ç®€è¦çš„è®²ä¸€ä¸‹é€šè¿‡expressæ¡†æ¶è¿›è¡Œå‰åç«¯æ•°æ®äº¤äº’ã€‚expressæ˜¯ä¸€ä¸ªå¾ˆè½»é‡çº§çš„nodeJSæ¡†æ¶ã€‚ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚è¦è¿ç”¨è¿™ä¸ªæ¡†æ¶é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆå°†å®ƒä¸‹è½½ä¸‹æ¥ï¼š 1npm install express --save ï¼ˆåé¢åŠ äº†â€“saveï¼Œæ˜¯ä¸ºäº†æŠŠæ¨¡å—ä¿å­˜åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œå½“é¡¹ç›®ç§»æ¤çš„æ—¶å€™åªéœ€è¦npm install å°±ä¼šæŠŠæ‰€æœ‰ä¾èµ–çš„æ¨¡å—ä¸‹è½½ä¸‹æ¥ï¼‰ ä¹‹åå°±æ˜¯æ­å»ºæœåŠ¡å™¨äº†ã€‚åˆ›å»ºä¸€ä¸ªjsæ–‡ä»¶1, é¦–å…ˆå¼•å…¥æ¡†æ¶ 1const express=require(&#x27;express&#x27;); 2, åˆ›å»ºã€æ­å»ºæœåŠ¡å™¨ 1let server=express(); 3,è®¾ç½®ä¸€ä¸ªç«¯å£è¿›è¡Œç›‘å¬ 1server.listen(2333); ç«¯å£å·éšä¾¿è®¾ï¼Œåªè¦ä¸è¶…è¿‡65535å°±å¥½4,è®¾ç½®ä¸­é—´é‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‰ç§ä¾æ¬¡æ˜¯get&#x2F;post&#x2F;useã€‚è¿™é‡Œæˆ‘ç”¨çš„æ˜¯getæ–¹å¼ 12345server.get(&#x27;/a&#x27;,(request, response)=&gt; &#123; console.log(request.query); response.send(&quot;æ°¸è¿œ18å²&quot;); response.end(); &#125;); 5,è®¾ç”±äºä¸‰æ¬¡æ¡æ‰‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®¿é—®é™æ€çš„htmlï¼Œè®©å…¶å¾—åˆ°åå°çš„å¤„ç†ç»“æœã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å†å¼•å…¥ä¸€ä¸ªæ¨¡å—ï¼š 1npm install express-static --save å¹¶åœ¨jsä¸­æ·»åŠ ï¼š 1const static = require(&#x27;express-static&#x27;); æœ‰äº†å®ƒï¼Œæˆ‘ä»¬å°±èƒ½è®¿é—®htmlè¿™ç±»é™æ€æ–‡ä»¶äº†ã€‚6,è®¾ç½®æ–‡ä»¶æƒé™ã€‚å°†å‰åç«¯åˆ†ç¦»å¼€æ¥ï¼Œå‰ç«¯æ–‡ä»¶éƒ½æ”¾åœ¨ä¸€ä¸ªå«â€˜wwwâ€™çš„æ–‡ä»¶å¤¹ä¸­ã€‚ 1server.use(static(&#x27;www&#x27;)); 7ï¼Œå‰ç«¯äº¤äº’ï¼ˆè¿ç”¨äº†JQæ‰“åŒ…å¥½çš„Ajax,è¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼‰ 123456789101112131415&lt;script src=&quot;jquery-3.1.1.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt; $.ajax(&#123; url:&#x27;/a&#x27;, type:&#x27;POST&#x27;, data:&#123; name:&#x27;zyy&#x27;, age:18 &#125;, success:function(data)&#123; console.log(data); &#125;, error:function()&#123;&#125; &#125;); &lt;/script&gt; å‰å°å‘åå°å‘é€dataï¼ˆæ°¸è¿œ18å²ï¼‰ï¼Œåœ¨åå°æ¥æ”¶åˆ°äº†æ•°æ®ï¼Œé€šè¿‡console.log(request.query);æ‰“å°å‡ºæ¥ã€‚å¦å¤–postçš„è¯ï¼Œå’Œgetä¸åŒã€‚å…ˆä¸‹è½½ 1npm i body-parser --save å†åŠ ä¸Šä¸‹é¢ä¸¤è¡Œä»£ç ï¼Œå†åœ¨é‡Œé¢ç”¨ï¼šconsole.log(request.body);æ‰“å° 12const body=require(&#x27;body-parser&#x27;);server.use(body.urlencoded()); éšååå°é€šè¿‡response.send(â€œæ°¸è¿œ18å²â€);åˆå‘å‰å°åšå‡ºå›åº”ã€‚å‰å°é€šè¿‡Ajaxï¼Œ 1234success:function(data)&#123; console.log(data);//å¾—åˆ°è¿™æ¡å›åº”ï¼Œå¹¶åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰“å°å‡ºæ¥ //â€œæ°¸è¿œ18å²â€ &#125; è¿™ä¸ªå°±æ˜¯åŸºäºNodeJs expressæ¡†æ¶ å‰åç«¯æ•°æ®äº¤äº’3æ¬¡æ¡æ‰‹å…¸å‹çš„å°Demoã€‚ ä»¥ä¸Šï¼","tags":[{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"},{"name":"express","slug":"express","permalink":"http://yoursite.com/tags/express/"}]},{"title":"æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ç¬”è®°æ€»ç»“","date":"2017-03-12T14:33:40.000Z","path":"2017/03/12/æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ç¬”è®°æ€»ç»“/","text":"è¿™ä¸¤å¤©å‘ç°ä¸€ç³»åˆ—å¾ˆå¥½å¾ˆæ£’çš„javascriptåŸå‹å’Œé—­åŒ…æ·±å…¥ç†è§£çš„æ–‡ç« ã€‚http://www.cnblogs.com/wangfupeng1988/p/3977924.html åœ¨javascriptçš„å­¦ä¹ ä¸­ï¼Œä¸ªäººè®¤ä¸ºæœ€å®¹æ˜“çŠ¯é”™ï¼Œå‘æœ€å¤šçš„å°±æ˜¯åŸå‹é“¾å’Œé—­åŒ…è¿™ä¸€å—ã€‚åŸå‹é“¾è¿™ä¸€å—ä¹Ÿç®—æ˜¯jsçš„ä¸€å¤§ç‰¹è‰²ï¼Œé—­åŒ…æåˆ™æ˜¯å¤§é‡è¿ç”¨äºJQçš„æºç ä¸­ã€‚å¾ˆæœ‰å¿…è¦å¥½å¥½æ€»ç»“å­¦å­¦ä¹ ä¸€ç•ªã€‚ç”±äºå¾ˆé‡è¦ï¼Œä¹Ÿç»•ä¸å¼€ã€‚ç»“åˆæ–‡ç« ï¼Œæ€»ç»“äº†ä¸€æ³¢è¿™ä¸€å—çš„çŸ¥è¯†ç‚¹ï¼Œç”±äºéƒ½è®°åœ¨äº†æœ¬æœ¬ä¸Šï¼Œè¿™é‡Œæ¥ä¸€æ³¢å›¾ç‰‡ï¼Œéšæ—¶å¯ä»¥å‚è€ƒã€‚","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"icomoonå›¾æ ‡","date":"2017-02-26T15:10:26.000Z","path":"2017/02/26/icomoonå›¾æ ‡/","text":"å‘¨æœ«ç ”ç©¶å¸ƒå±€ï¼Œé‡åˆ°äº†è·å–å›¾æ ‡çš„é—®é¢˜ã€‚åœ¨ä¹‹å‰é‡åˆ°å›¾æ ‡ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯åˆ‡å›¾ï¼Œåœ¨é¡µé¢æ”¾å›¾ç‰‡ã€‚åœ¨æ…•è¯¾ç½‘çœ‹äº†å…³äºæ€§èƒ½ä¼˜åŒ–çš„é›…è™å†›è§„ä¹‹åå‘ç°è¿™æ ·å¾ˆä¸å¥½ã€‚é‚ç¿»äº†ç¿»å¤§å‚ä»¬çš„é¡µé¢ï¼Œä½¿ç”¨çš„éƒ½æ˜¯å­—ä½“å›¾æ ‡ï¼ˆå¤§å®¶éƒ½çŸ¥é“ï¼Œå­—ä½“å›¾æ ‡ç›¸æ¯”å›¾ç‰‡çœäº†å¤ªå¤šèµ„æºå¤§å¤§å‡å°‘è¯·æ±‚æ•°é‡ä¸è¯´ï¼Œä»»æ„ç¼©æ”¾ä¹Ÿä¸ä¼šå¤±çœŸã€‚ï¼‰æœç´¢äº†ä¸€ä¸‹å‘ç°äº†icomoonè¿™ä¸ªå¥½ä¸œè¥¿ã€‚ ä½¿ç”¨icomoonå€Ÿç”¨çš„æ˜¯ä¸€ä¸ªåœ¨çº¿ç”Ÿæˆç½‘ç«™ï¼šhttps://icomoon.io/app/#/selecté‡Œé¢æœ‰å·²ç»å­˜åœ¨çš„å¯ä»¥ç›´æ¥é€‰ç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ·»åŠ .svgå›¾ç‰‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨äº†å®ƒç°æœ‰çš„ä¸€ä¸ªæœç´¢æ”¾å¤§é•œå°å›¾æ ‡ã€‚ ä¹‹åç‚¹å‡»â€œgenerate fontâ€è¿›è¡Œç”Ÿæˆï¼ˆå¯ä»¥è‡ªç”±æ”¹åï¼‰ï¼Œä¸‹è½½å³å¯ã€‚ä¸‹è½½ä¸‹æ¥çš„fontsæ–‡ä»¶å¤¹æ”¾å…¥é¡¹ç›®ä¸­ï¼Œå†å°†style.cssä¸­çš„æ ·å¼æ”¾å…¥cssä¸­å³å¯ï¼šæˆ‘è¿™é‡Œçš„æœç´¢å°å›¾æ ‡åœ¨æ ·å¼é‡Œæ·»åŠ ï¼š 12345678910111213141516171819202122232425262728@font-face &#123; font-family: &#x27;icomoon&#x27;; src: url(&#x27;../fonts/icomoon.eot?jbld9x&#x27;); src: url(&#x27;../fonts/icomoon.eot?jbld9x#iefix&#x27;) format(&#x27;embedded-opentype&#x27;), url(&#x27;../fonts/icomoon.ttf?jbld9x&#x27;) format(&#x27;truetype&#x27;), url(&#x27;../fonts/icomoon.woff?jbld9x&#x27;) format(&#x27;woff&#x27;), url(&#x27;../fonts/icomoon.svg?jbld9x#icomoon&#x27;) format(&#x27;svg&#x27;); font-weight: normal; font-style: normal;&#125;[class^=&quot;icon-&quot;], [class*=&quot; icon-&quot;] &#123; /* use !important to prevent issues with browser extensions that change fonts */ font-family: &#x27;icomoon&#x27; !important; speak: none; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; line-height: 1; /* Better Font Rendering =========== */ -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;&#125;.icon-search:before &#123; content: &quot;\\e986&quot;;&#125; htmlä¸­è°ƒç”¨å°±å¥½ï¼š å½“ç„¶æˆ‘ä»¬å¯ä»¥è‡ªç”±çš„è®¾ç½®å®ƒçš„å­—ä½“å¤§å°é¢œè‰²ã€‚æ˜¯ä¸æ˜¯æ¯”å›¾ç‰‡å¥½å¤ªå¤šäº†ã€‚ é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå›¾æ ‡å¾—ä»¥æ˜¾ç¤º","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"css","slug":"css","permalink":"http://yoursite.com/tags/css/"}]},{"title":"JSONPçš„åŸç”Ÿå®ç°å’ŒJQå®ç°(ä¸‹)","date":"2017-02-22T17:03:44.000Z","path":"2017/02/23/JSONPçš„åŸç”Ÿå®ç°å’ŒJQå®ç°(ä¸‹)/","text":"JQå®ç°æ–¹å¼ï¼šJQå®ç°JSONPçš„æ—¶å€™çœ‹èµ·æ¥å’Œajaxè°ƒç”¨æ–¹å¼å¾ˆåƒï¼Œç›®çš„ä¹Ÿä¸€æ ·ï¼Œéƒ½æ˜¯è¯·æ±‚urlï¼ŒæŸ“è¿‡è·å¾—æœåŠ¡å™¨çš„æ•°æ®ä¹‹åè¿›è¡Œå¤„ç†ã€‚ä½†ä¸¤è€…å®Œå…¨æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ã€‚åªæ˜¯JQè¿™ä¸ªæ¡†æ¶å°†jsonpä½œä¸ºajaxçš„ä¸€ç§å½¢å¼è¿›è¡Œäº†å°è£…ã€‚å®è´¨ä¸Šï¼šajaxçš„æ ¸å¿ƒæ˜¯é€šè¿‡XmlHttpRequestè·å–éæœ¬é¡µå†…å®¹ï¼Œè€Œjsonpçš„æ ¸å¿ƒåˆ™æ˜¯åŠ¨æ€æ·»åŠ scriptæ ‡ç­¾æ¥è°ƒç”¨æœåŠ¡å™¨æä¾›çš„jsè„šæœ¬ã€‚ ajaxä¸jsonpçš„åŒºåˆ«ä¸åœ¨äºæ˜¯å¦è·¨åŸŸï¼Œajaxé€šè¿‡æœåŠ¡ç«¯ä»£ç†ä¸€æ ·å¯ä»¥å®ç°è·¨åŸŸï¼Œjsonpæœ¬èº«ä¹Ÿä¸æ’æ–¥åŒåŸŸçš„æ•°æ®çš„è·å–ã€‚è¯ä¸å¤šè¯´ï¼Œä¸‹è¾¹æ˜¯jqçš„å®ç°ï¼Œç”¨è¿‡console.logå¾—åˆ°ç›®æ ‡æ•°æ®ï¼š 1234567891011121314151617181920$(function () &#123; $(&#x27;#inp&#x27;).keypress(function () &#123; var str = $(this).val(); $.ajax(&#123; url: &#x27;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su&#x27;, data: &#123; wd: str &#125;, dataType: &#x27;jsonp&#x27;, jsonp: &#x27;cb&#x27;, success: function (data) &#123; console.log(data); &#125;, error: function () &#123; &#125; &#125;); &#125;); &#125;); ä»¥ä¸Šï¼","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"jsonp","slug":"jsonp","permalink":"http://yoursite.com/tags/jsonp/"},{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"JSONPçš„åŸç”Ÿå®ç°å’ŒJQå®ç°(ä¸Š)","date":"2017-02-22T17:01:18.000Z","path":"2017/02/23/JSONPçš„åŸç”Ÿå®ç°å’ŒJQå®ç°(ä¸Š)/","text":"JSONPJSONPï¼Œå…¨ç§°ï¼šJSON with paddingä¹ä¸€çœ‹åº”è¯¥æ˜¯å’Œç”¨æ¥æ•°æ®è§£ææè¿°çš„JSONçš„æŸä¸ªè¿œæˆ¿äº²æˆšã€‚é€šè¿‡å­¦ä¹ ï¼Œè¿™ä¸¤è€…æœ¬è´¨ä¸Šå®Œå…¨æ˜¯ä¸åŒçš„ä¸œè¥¿ã€‚ JSONPçš„æ¦‚å¿µåœ¨è¿™å°±ä¸èµ˜è¨€ã€‚è‡ªå·±çš„ç†è§£ï¼Œç”±äºAjaxç›´æ¥è¯·æ±‚æ–‡ä»¶æ•°æ®æ—¶ï¼Œè·¨åŸŸæ— æƒè®¿é—®ï¼ˆä¸ºäº†å®‰å…¨ï¼‰ã€‚ä¸ºäº†è§£å†³è·¨åŸŸé—®é¢˜ï¼Œæˆ‘ä»¬å‘ç°åœ¨é¡µé¢è°ƒç”¨JSæ–‡ä»¶æ—¶ä¸å—è·¨åŸŸå½±å“ï¼ˆä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨ä»»æ„æ–‡ä»¶ä¸­éƒ½å¯ä»¥å¼•å…¥jqæ–‡ä»¶ï¼Œä»è€Œä½¿ç”¨jqå¼€å‘é¡µé¢ï¼‰ï¼Œå› æ­¤é€šè¿‡æŠŠæ•°æ®è£…åœ¨ä¸€ä¸ªjsæ ¼å¼æ–‡ä»¶é‡Œï¼Œåœ¨å®¢æˆ·ç«¯è¿›è¡Œå¤„ç†ã€‚è¿™å°±æ˜¯JSONPçš„åŸç†ã€‚JSONPå…è®¸ç”¨æˆ·ä¼ é€’ä¸€ä¸ªcallbackå‚æ•°ç»™æœåŠ¡å™¨ï¼Œä¹‹åæœåŠ¡å™¨è¿”å›æ•°æ®æ—¶é€šè¿‡è¿™ä¸ªå‚æ•°çš„å‡½æ•°åŒ…è£¹ä¸Šæ•°æ®ä¼ ç»™å®¢æˆ·ç«¯ã€‚ ä¸‹é¢ä¸å¤šè¯´åºŸè¯ï¼Œä¸‹é¢ç”¨åŸç”Ÿå’Œjqåˆ†åˆ«å†™ä¸¤ä¸ªå°è·å–baiduè”æƒ³è¯æ¡çš„å°demoã€‚æƒ³è¦çš„æ•ˆæœå°±æ˜¯å½“æˆ‘åœ¨æœç´¢æ¡è¾“å…¥â€˜aâ€™æ—¶ï¼Œå‡ºç°ä¸‹æ‹‰è”æƒ³åˆ—è¡¨ï¼ˆbaiduçš„ï¼‰ é¦–å…ˆæ˜¯åŸç”Ÿå®ç°æ–¹å¼ï¼šæˆ‘ä»¬å…ˆé€šè¿‡æµè§ˆå™¨å¾—åˆ°è¿™ä¸€ä¸ªæ•°æ®è¯·æ±‚ã€‚ï¼ˆåœ¨è°ƒè¯•çª—å£çš„networkä¸­ï¼‰å¾—åˆ°äº†è¯·æ±‚ï¼š 1Request URL:https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=a&amp;json=1&amp;p=3&amp;sid=1424_21114_17001_21930_22036&amp;req=2&amp;csor=1&amp;cb=jQuery1102023194193176203193_1487780037910&amp;_=1487780037913 ç»è¿‡åˆ†æwd&#x3D;aæ˜¯æˆ‘ä»¬è”æƒ³çš„aï¼ˆæ•…è¿™å„¿å¯ä»¥æ”¾æˆ‘ä»¬æƒ³è¦è”æƒ³çš„å€¼ï¼‰ï¼›cbæ˜¯callbackå›è°ƒå‡½æ•°ã€‚æŠŠå…¶ä»–çš„éƒ½å¹²æ‰ï¼šhttps://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=a&amp;cb=showshowéšä¾¿èµ·çš„å›è°ƒå‡½æ•°åå­—ã€‚ä¹‹åä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920function show(data) &#123; var oUl = document.getElementById(&#x27;ull&#x27;); var arr = data.s; oUl.innerHTML=&#x27;&#x27;; for(var i=0;i&lt;arr.length;i++)&#123; var oLi=document.createElement(&#x27;li&#x27;); oLi.innerHTML=arr[i]; oUl.appendChild(oLi); &#125;&#125;window.onload = function () &#123; var oT = document.getElementById(&#x27;inp&#x27;); oT.oninput = function () &#123; var str = oT.value; var oScript = document.createElement(&#x27;script&#x27;); oScript.src = `https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=$&#123;str&#125;&amp;cb=show`; document.head.appendChild(oScript); &#125;&#125;; html 1234567&lt;body&gt; &lt;input type=&quot;text&quot; name=&quot;&quot; value=&quot;&quot; id=&quot;inp&quot;&gt; &lt;input type=&quot;button&quot; name=&quot;&quot; value=&quot;baidu&quot; id=&quot;inp&quot;&gt; &lt;ul id=&quot;ull&quot;&gt; &lt;/ul&gt;&lt;/body&gt; å½“æ–‡æœ¬æ¡†æœ‰é”®ç›˜è¾“å…¥äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬åœ¨headæ ‡ç­¾ä¸‹é¢åŠ¨æ€çš„åˆ›å»ºäº†ä¸€ä¸ªscriptæ ‡ç­¾ï¼Œæ ‡ç­¾çš„srcä¸­æ˜¯æ”¾å…¥äº†æˆ‘ä»¬çš„è¯·æ±‚wdï¼Œä¹‹åcbï¼ˆå›è°ƒå‡½æ•°ï¼‰showæ¥æ¥å—è¿”å›çš„dataã€‚å¹¶å­˜å‚¨åœ¨ulçš„liä¸‹ã€‚æ•ˆæœå¦‚ä¸‹ï¼š","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"jsonp","slug":"jsonp","permalink":"http://yoursite.com/tags/jsonp/"},{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"JSä¸­çš„cookie,localStorageå’ŒsessionStorage","date":"2017-02-20T16:00:38.000Z","path":"2017/02/21/JSä¸­çš„cookie,localStorageå’ŒsessionStorage/","text":"è¯´åˆ°cookieé€šä¿—ä¸€ç‚¹å°±æ˜¯æœåŠ¡å™¨ç•™åœ¨ç”¨æˆ·è®¡ç®—æœºä¸­çš„å°æ–‡ä»¶ã€‚åœ¨JSä¸­åˆ›å»ºcookieå¾ˆç®€å•ï¼Œæ¯”å¦‚ï¼šdocument.cookie&#x3D;123 è¿™æ ·å°±å­˜å‚¨äº†ä¸€æ¡æ²¡æœ‰åå­—çš„cookieã€‚cookieçš„å­˜å‚¨éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœå­˜å‚¨ä¸€æ¡åå­—æ˜¯nameï¼Œå€¼æ˜¯â€˜lacâ€™çš„cookieåªéœ€è¦ï¼šdocument.cookie&#x3D;â€™name&#x3D;lacâ€™å³å¯ï¼å–å‡ºå­˜å‚¨çš„cookieä¹Ÿåªéœ€è¦ï¼šdocument.cookieå°±å¯ä»¥å–å‡ºå…¨éƒ¨çš„cookieå­—ç¬¦ä¸²äº†ã€‚cookieé‡Œé™¤äº†åå­—å’Œå€¼è¿˜æœ‰expireså’Œpathå¾ˆé‡è¦ã€‚ expires é»˜è®¤æ˜¯sessionï¼šæµè§ˆå™¨å’ŒæœåŠ¡å™¨è¿›è¡Œçš„ä¸€æ¬¡é€šè¯ æµè§ˆå™¨å…³é—­ä¸€æ¬¡ä¼šè¯ç»“æŸã€‚å½“ç„¶ä¹Ÿå¯ä»¥è®¾ç½®æ—¶é—´ã€‚expires&#x3D;äº‹ä»¶å¯¹è±¡ï¼› path cookieå­˜å‚¨çš„ä½ç½® éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå†…å±‚æ–‡ä»¶å­˜çš„cookieå¤–å±‚æ–‡ä»¶å–ä¸åˆ°ï¼Œå†…å±‚æ–‡ä»¶ä¸­å¯ä»¥å–åˆ°å¤–å±‚æ–‡ä»¶çš„cookieåœ¨ä¸€èˆ¬å·¥ä½œä¸­ï¼Œä¸€å¥—cookieå­˜å‚¨åœ¨ä¸€å±‚ç›®å½•ä¸­ä¾¿äºç®¡ç†ã€‚å³ï¼špath&#x3D;&#x2F;ï¼›ä¸‹é¢æ˜¯è‡ªå·±å°è£…çš„setCookie(),getCookie()ä»¥åŠremoveCookie(); codeå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627//è®¾ç½®cookiefunction setCookie(sName, sValue, iDay) &#123; if (iDay) &#123; var oDate = new Date(); oDate.setDate(oDate.getDate() + iDay); document.cookie = `$&#123;sName&#125;=$&#123;sValue&#125;;path=/;expires=$&#123;oDate&#125;`; &#125; else &#123; document.cookie = `$&#123;sName&#125;=$&#123;sValue&#125;;path=/`; &#125;&#125;// è·å–cookiefunction getCookie(sName) &#123; var str = document.cookie; var arr1 = str.split(&#x27;; &#x27;); for (var i = 0; i &lt; arr1.length; i++) &#123; var arr2 = arr1[i].split(&#x27;=&#x27;); if (arr2[0] == sName) &#123; return arr2[1]; &#125; &#125; return &#x27;&#x27;;&#125;//åˆ é™¤coocookiefunction removeCookie(sName)&#123; setCookie(sName,&#x27;&#x27;,-1);&#125; æœ‰äº†cookieå°±èƒ½è§£å†³å¾ˆå¤šé—®é¢˜äº†ï¼ˆpsï¼šcookieæ“ä½œå¿…é¡»åœ¨æœåŠ¡å™¨ç¯å¢ƒï¼‰ä¾‹å¦‚ç›´æ¥è‡ªå·±åšè¿‡æ‹–æ‹½å°ä¾‹å­ã€‚ç°åœ¨æ¯æ¬¡æ‰“å¼€å°æ–¹å—å„¿éƒ½åœ¨èµ·å§‹ä½ç½®ï¼Œå…³é—­æµè§ˆå™¨ä¹‹åå†æ‰“å¼€ã€‚æ²¡æœ‰ä¿å­˜å…³é—­ä¹‹å‰ä»–æ‰€åœ¨çš„ä½ç½®ã€‚ç°åœ¨æœ‰äº†cookieã€‚å°±å¾ˆç®€å•å¯ä»¥å®ç°å…³é—­é¡µé¢å†æ‰“å¼€ä¾ç„¶æ˜¯æˆ‘ä»¬ä¸Šä¸€ä¸ªå…³é—­å‰çš„ä½ç½®ã€‚codeï¼šhttps://laclys.github.io/HTML-CSS-JS_practice/JS/cookie/drag.htmlåœ¨æŠ¬èµ·é¼ æ ‡äº‹ä»¶ä¸‹ 1setCookie(&#x27;pos&#x27;, `[$&#123;oBox.offsetLeft&#125;,$&#123;oBox.offsetTop&#125;]`,3); å†åœ¨window.onloadä¸‹è·å–å…ƒç´ ä¹‹åï¼Œè·å–å‡ºæ¥ 12345var arr = eval(getCookie(&#x27;pos&#x27;)); if (arr) &#123; oBox.style.left = arr[0] + &#x27;px&#x27;; oBox.style.top = arr[1] + &#x27;px&#x27;;&#125; è¿™æ ·åœ¨è¿™ä¸‰å¤©å†…ï¼ˆcookieè®¾ç½®äº†ä¿å­˜ä¸‰å¤©ï¼‰ï¼Œç§»åŠ¨å°æ–¹å—å…³é—­æµè§ˆå™¨ï¼Œå†æ‰“å¼€å°æ–¹å—éƒ½ä¼šåœ¨å…³é—­å‰çš„ä½ç½®äº†ã€‚ ä¸‹é¢å†æ¥è¯´è¯´cookieçš„ç¼ºç‚¹1, ä¼šè¿‡æœŸï¼›2, å®¹é‡å°ï¼ˆå†å²é—®é¢˜å§ï¼‰åªæœ‰4k,ä¸€èˆ¬å°äº20æ¡ã€‚&#x3D;ï¼›3, æ¯æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œéƒ½ä¼šå‘æœåŠ¡å™¨å‘é€cookieï¼›ï¼ˆè¿™ç‚¹å¾ˆè‡´å‘½ï¼‰ localStorage &#x2F; sessionStorageä¸‹é¢å†è¯´è¯´localStorage &#x2F; sessionStorageè¿™ä¸¤ä¸ªé«˜çº§æµè§ˆå™¨æ‰æ‹¥æœ‰çš„å¥½ä¸œè¥¿ã€‚ä¸ºä»€ä¹ˆè¯´æ˜¯å¥½ä¸œè¥¿ï¼Œcookieçš„ç¼ºç‚¹å…¨éƒ¨å¹²æ‰ï¼Œå˜æˆä¼˜ç‚¹ã€‚localStorageï¼š ä½¿ç”¨æ–¹ä¾¿ ä¸ç”¨å°è£…å‡½æ•°ï¼› 5Mï¼› ä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼› ä½¿æ²¡æœ‰è¿‡æœŸï¼› ä½¿ç”¨çš„è¯ï¼š å­˜ï¼š localStorage.setItem(name.value); å–ï¼š localStorage.getItme(name); åˆ é™¤ localStorage.removeItem(name); å…¨éƒ¨åˆ é™¤ localStorage.clear();æ˜¯ä¸æ˜¯å¾ˆç®€å•ã€‚sessionStorageï¼šå’ŒlocalStorageä¸€æ ·å°±æ˜¯åœ¨ä¸€ä¸ªä¼šè¯sessionä¸­å…³é—­æµè§ˆå™¨å°±æ¶ˆå¤±ã€‚ä½¿ç”¨çš„è¯ä¹Ÿå’ŒlocalStorageä¸€æ ·ï¼š å­˜ï¼š sessionStorage.setItem(name.value); å–ï¼š sessionStorage.getItme(name); åˆ é™¤ sessionStorage.removeItem(name); å…¨éƒ¨åˆ é™¤ sessionStorage.clear(); é«˜çº§æµè§ˆå™¨æ–¹æ³•æ— é™å¥½ï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼šå¹²æ‰IEäººäººæœ‰è´£ï¼ ä»¥ä¸Šï¼","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"css3 ä¼ªç±»ï¼šhover ç‰¹æ€§å°æ¢ç´¢","date":"2017-02-18T13:36:18.000Z","path":"2017/02/18/css3-ä¼ªç±»ï¼šhover-ç‰¹æ€§å°æ¢ç´¢/","text":"ä¼ªç±»åœ¨css3ä¸­ç›¸å¯¹è¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£ï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºä»–å¾ˆå®¹æ˜“ç†è§£ï¼Œå¹³æ—¶ä¹Ÿä¸çº ç»“ã€‚ä¸è¿‡å‰ä¸¤å¤©çœ‹åˆ°è¿™ä¸ªå†™æ³•ï¼Œè¿˜æ˜¯å°æ‡µé€¼äº†ä¸€ä¸‹ï¼š 12.a .b:hover&#123;...........&#125;; .a:hover .b&#123;...........&#125;; è¿™ä¸¤ä¸ªæœ‰ä»€ä¹ˆå»åˆ«æï¼Œä¸è´¹äº‹å°±å†™äº†ä¸¤ä¸ªdemoï¼š ç¬¬ä¸€ä¸ªï¼š12345678910111213141516171819202122232425262728293031&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; div &#123; width: 100px; height: 100px; float: left; border: 1px solid darkblue; text-align: center; line-height: 100px; &#125; .a .b:hover&#123; background: red; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;a&quot;&gt; A &lt;div class=&quot;b&quot;&gt; B &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; è¿™æ˜¯ç¬¬ä¸€ç§å†™æ³•çš„ä¾‹å­ï¼Œè¿™å¾ˆå¥½ç†è§£ï¼Œå½“é¼ æ ‡ç§»å…¥bæ—¶ï¼Œbçš„èƒŒæ™¯é¢œè‰²å˜æˆçº¢è‰²ã€‚ ç¬¬äºŒç§ï¼šcsséƒ¨åˆ†æ”¹ä¸ºäº†ï¼š 123.a:hover .b&#123; background: red;&#125; è¿™æ˜¯ç¬¬äºŒç§å†™æ³•çš„ä¾‹å­ï¼Œå®ƒæ‰€è¡¨ç¤ºçš„æ˜¯å½“é¼ æ ‡ç§»å…¥aæ—¶ï¼Œbçš„èƒŒæ™¯é¢œè‰²å˜æˆçº¢è‰²ï¼›åŒæ—¶ï¼Œå½“é¼ æ ‡ç§»å…¥bæ—¶ï¼Œbçš„èƒŒæ™¯é¢œè‰²ä¹Ÿä¼šå˜æˆçº¢è‰²ã€‚ï¼ˆå½“ç„¶bä¸€å®šè¦æ˜¯açš„å­å…ƒç´ æ‰è¡Œï¼ï¼‰è¿™æ ·å°±çœ‹å‡ºåŒºåˆ«äº†ï¼Œå…¶å®ä»”ç»†æƒ³æƒ³ï¼Œå½’æ ¹ç»“åº•è¿˜æ˜¯cssé€‰æ‹©å™¨åŒ¹é…å…ƒç´ ä¸ä¸€è‡´å¯¼è‡´çš„ã€‚ä¸èƒ½è¢«è¡¨è±¡è¿·æƒ‘&#x3D; &#x3D;ã€‚ psï¼šè¯è¯´prtSc+altè¿™æˆªå›¾è¿™æˆªä¸å‡ºé¼ æ ‡ï¼Œå¾ˆå°´å°¬&#x3D; &#x3D;ã€‚","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"css3","slug":"css3","permalink":"http://yoursite.com/tags/css3/"}]},{"title":"JQueryè·å–æµè§ˆå™¨çª—å£çš„å¯è§†åŒºåŸŸé«˜åº¦å’Œå®½åº¦,æ»šåŠ¨æ¡é«˜åº¦","date":"2017-02-17T09:00:54.000Z","path":"2017/02/17/JQueryè·å–æµè§ˆå™¨çª—å£çš„å¯è§†åŒºåŸŸé«˜åº¦å’Œå®½åº¦,æ»šåŠ¨æ¡é«˜åº¦/","text":"12345678910alert($(window).height()); //æµè§ˆå™¨æ—¶ä¸‹çª—å£å¯è§†åŒºåŸŸé«˜åº¦alert($(document).height()); //æµè§ˆå™¨æ—¶ä¸‹çª—å£æ–‡æ¡£çš„é«˜åº¦alert($(document.body).height());//æµè§ˆå™¨æ—¶ä¸‹çª—å£æ–‡æ¡£bodyçš„é«˜åº¦alert($(document.body).outerHeight(true));//æµè§ˆå™¨æ—¶ä¸‹çª—å£æ–‡æ¡£bodyçš„æ€»é«˜åº¦ åŒ…æ‹¬border padding marginalert($(window).width()); //æµè§ˆå™¨æ—¶ä¸‹çª—å£å¯è§†åŒºåŸŸå®½åº¦alert($(document).width());//æµè§ˆå™¨æ—¶ä¸‹çª—å£æ–‡æ¡£å¯¹äºè±¡å®½åº¦alert($(document.body).width());//æµè§ˆå™¨æ—¶ä¸‹çª—å£æ–‡æ¡£bodyçš„é«˜åº¦alert($(document.body).outerWidth(true));//æµè§ˆå™¨æ—¶ä¸‹çª—å£æ–‡æ¡£bodyçš„æ€»å®½åº¦ åŒ…æ‹¬border padding marginalert($(document).scrollTop()); //è·å–æ»šåŠ¨æ¡åˆ°é¡¶éƒ¨çš„å‚ç›´é«˜åº¦alert($(document).scrollLeft()); //è·å–æ»šåŠ¨æ¡åˆ°å·¦è¾¹çš„å‚ç›´å®½åº¦","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"JQuery","slug":"JQuery","permalink":"http://yoursite.com/tags/JQuery/"}]},{"title":"JSåŸå‹ä¸åŸå‹é“¾å­¦ä¹ ç¬”è®°","date":"2017-02-10T15:55:00.000Z","path":"2017/02/10/JSåŸå‹ä¸åŸå‹é“¾å­¦ä¹ ç¬”è®°/","text":"è¿™ä¸€å‘¨åœ¨æ…•è¯¾ä»¥åŠç½‘ä¸Šæœç´¢ï¼Œå¥½å¥½å­¦ä¹ ç†è§£äº†ä¸€ä¸‹JSçš„åŸå‹&#x2F;åŸå‹é“¾ã€‚åœ¨è¿™é‡Œç¬”è®°ä¸€ä¸‹è‡ªå·±è§‰å¾—é‡è¦çš„ä¸œè¥¿ï¼Œåœ¨è¿™æ€»ç»“ä¸€ä¸‹ã€‚ æ™®é€šå¯¹è±¡ä¸å‡½æ•°ï¼šJavaScript ä¸­åˆ†ä¸ºæ™®é€šå¯¹è±¡å’Œå‡½æ•°å¯¹è±¡ã€‚å‡¡æ˜¯é€šè¿‡ new Function() åˆ›å»ºçš„å¯¹è±¡éƒ½æ˜¯å‡½æ•°å¯¹è±¡ï¼Œå…¶ä»–çš„éƒ½æ˜¯æ™®é€šå¯¹è±¡ã€‚ æ„é€ å‡½æ•°ï¼š12345678function Person(name, age, job) &#123; this.name = name; this.age = age; this.job = job; this.sayName = function() &#123; alert(this.name) &#125; &#125;var person1 = new Person(&#x27;Zaxlct&#x27;, 28, &#x27;Software Engineer&#x27;);var person2 = new Person(&#x27;Mick&#x27;, 23, &#x27;Doctor&#x27;); ä¸Šé¢çš„ä¾‹å­ä¸­ person1 å’Œ person2 éƒ½æ˜¯ Person çš„å®ä¾‹ã€‚è¿™ä¸¤ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ª constructor ï¼ˆæ„é€ å‡½æ•°ï¼‰å±æ€§ï¼Œè¯¥å±æ€§ï¼ˆæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼‰æŒ‡å‘ Personã€‚person1 å’Œ person2 éƒ½æ˜¯ æ„é€ å‡½æ•° Person çš„å®ä¾‹ !!!å®ä¾‹çš„æ„é€ å‡½æ•°å±æ€§ï¼ˆconstructorï¼‰æŒ‡å‘æ„é€ å‡½æ•°ã€‚ åŸå‹å¯¹è±¡ï¼šåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª constructorï¼ˆæ„é€ å‡½æ•°ï¼‰å±æ€§ï¼Œè¿™ä¸ªå±æ€§ï¼ˆæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼‰æŒ‡å‘ prototype å±æ€§æ‰€åœ¨çš„å‡½æ•°ï¼ˆPersonï¼‰ã€‚egï¼š Person.prototype.constructor &#x3D;&#x3D; Personå¯ä»¥ç†è§£ä¸ºï¼šåŸå‹å¯¹è±¡ï¼ˆPerson.prototypeï¼‰æ˜¯ æ„é€ å‡½æ•°ï¼ˆPersonï¼‰çš„ä¸€ä¸ªå®ä¾‹ .proto:JS åœ¨åˆ›å»ºå¯¹è±¡ï¼ˆä¸è®ºæ˜¯æ™®é€šå¯¹è±¡è¿˜æ˜¯å‡½æ•°å¯¹è±¡ï¼‰çš„æ—¶å€™ï¼Œéƒ½æœ‰ä¸€ä¸ªå«åš__proto__ çš„å†…ç½®å±æ€§ï¼Œç”¨äºæŒ‡å‘åˆ›å»ºå®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚å¯¹è±¡ person1 æœ‰ä¸€ä¸ª __proto__å±æ€§ï¼Œåˆ›å»ºå®ƒçš„æ„é€ å‡½æ•°æ˜¯ Personï¼Œæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡æ˜¯ Person.prototype ï¼Œæ‰€ä»¥ï¼š person1.proto &#x3D;&#x3D; Person.prototype via internetä»è€Œå¯å¾—åˆ°ï¼š Person.prototype.constructor &#x3D;&#x3D; Person; person1.proto &#x3D;&#x3D; Person.prototype; person1.constructor &#x3D;&#x3D; Person; æ„é€ å™¨ï¼šæ„é€ å™¨éƒ½æ˜¯å‡½æ•°å¯¹è±¡ â€œfunctionâ€ã€‚ æ€»ç»“ï¼š1,åŸå‹å’ŒåŸå‹é“¾æ˜¯JSå®ç°ç»§æ‰¿çš„ä¸€ç§æ¨¡å‹ã€‚2,åŸå‹é“¾çš„å½¢æˆæ˜¯çœŸæ­£æ˜¯é __proto__ è€Œéprototype ä»¥ä¸Šï¼ï¼ï¼","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"åœ¨Githubä¸­æ¼”ç¤ºå‰ç«¯demo","date":"2017-02-07T16:06:08.000Z","path":"2017/02/08/åœ¨Githubä¸­æ¼”ç¤ºå‰ç«¯demo/","text":"åœ¨æµè§ˆä»–äººGithubæ—¶ï¼Œç»å¸¸èƒ½çœ‹åˆ°ä»–ä»¬çš„å‰ç«¯é¡¹ç›®çš„Readme.mdä¸­ï¼Œæ”¾æœ‰åœ¨çº¿æ¼”ç¤ºDemoã€‚è‡ªå·±ä¹Ÿæƒ³å®ç°è¿™æ ·çš„æ•ˆæœï¼Œåœ¨ç½‘ä¸Šè‡ªå·±æ‘¸ç´¢ã€‚æ€»ç»“ä¸ºä¸‹æ–‡&#x3D;ã€‚&#x3D; éœ€æ±‚ï¼šä¸€èˆ¬æƒ…å†µï¼Œæˆ‘ä»¬å°†è‡ªå·±å†™æˆçš„ç½‘é¡µä¸Šä¼ åˆ°githubä»“åº“ï¼Œç‚¹è¿›ç›¸åº”çš„htmlç•Œé¢å‡ºæ¥çš„æ˜¯è¯¥æ–‡ä»¶çš„ä»£ç ã€‚ä»–äººçœ‹èµ·æ¥éå¸¸ä¸ç›´è§‚ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåœ¨çº¿æ¼”ç¤ºdemoçš„å¹³å°ã€‚ ä¸¤ç§æ–¹æ³•æ–¹æ³•ä¸€ï¼šè¿™ç§æ–¹æ³•æ¯”è¾ƒç®€å•ã€‚é€šè¿‡å¢åŠ è·¯å¾„å‰ç¼€çš„æ–¹æ³•ï¼Œå®ç°åœ¨çº¿demoæµè§ˆã€‚åœ¨githubä¸­éšä¾¿æ‰¾ä¸€ä¸ªhtmlæ¼”ç¤ºï¼šä¾‹å¦‚å‰äº›å¤©å†™çš„ç€‘å¸ƒæµï¼šHTML-CSS-JS_practice&#x2F;JS&#x2F;ç€‘å¸ƒæµ&#x2F;ç€‘å¸ƒæµ.htmlã€‚å…¶çš„é¡µé¢è·¯å¾„ä¸ºï¼šhttps://github.com/laclys/HTML-CSS-JS_practice/blob/master/JS/ç€‘å¸ƒæµ/ç€‘å¸ƒæµ.html è¿™ä¸€å¤§é•¿ä¸²ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸€å¤§é•¿ä¸²åœ°å€å‰é¢åŠ ä¸Šhttp://htmlpreview.github.io/?å³å¯ã€‚æœ€åçš„æµè§ˆdemoåœ°å€ä¸ºï¼šhttp://htmlpreview.github.io/?https://github.com/laclys/HTML-CSS-JS_practice/blob/master/JS/ç€‘å¸ƒæµ/ç€‘å¸ƒæµ.html è¿™ç§æ–¹æ³•çœ‹ä¼¼å¾ˆç®€å•ï¼Œå¯æ˜¯æœ‰ç¼ºé™·çš„ã€‚ä¼šæ›´æ”¹cssæ ·å¼ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚ æ–¹æ³•äºŒï¼šæ™®éé‡‡ç”¨çš„ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡ä½¿ç”¨Githubpagesã€‚é¦–å…ˆï¼Œåœ¨æˆ‘ä»¬éœ€è¦æ¼”ç¤ºçš„é¡¹ç›®ä¸­ï¼Œå¢åŠ gh-pagesåˆ†æ”¯ï¼ˆæ­£å¸¸æƒ…å†µä¸‹åªæœ‰ä¸€ä¸ªmasteråˆ†æ”¯ï¼‰ã€‚æŠŠéœ€è¦æ¼”ç¤ºçš„é¡µé¢ä»£ç å…‹éš†åˆ°è¿™ä¸ªåˆ†æ”¯ä¸Šã€‚å¦‚æœæœ¬åœ°å®åœ¨masteråˆ†æ”¯ä¸‹å·¥ä½œçš„ï¼Œå·¥ä½œå®Œæˆåï¼Œè¾“å…¥å‘½ä»¤ï¼š git push origin master:gh-pagesæ­¤å‘½ä»¤çš„æ„æ€æ˜¯æŠŠæœ¬åœ°masteråˆ†æ”¯çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹çš„gh-pagesã€‚å¦‚æœè¿œç¨‹æ²¡æœ‰gh-pagesåˆ†æ”¯çš„è¯ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºè¯¥åˆ†æ”¯å‡å¦‚æˆ‘ä»¬æƒ³æµè§ˆä»Šå„¿åšæˆçš„å®Œç¾æ‹–æ‹½å°demoï¼šHTML-CSS-JS_practice&#x2F;JS&#x2F;æ‹–æ‹½&#x2F;å®Œç¾æ‹–æ‹½ï¼ˆå…«ä¸ªæ–¹å‘ï¼‰.htmlæˆ‘ä»¬é€šè¿‡ï¼šhttp:&#x2F;&#x2F;[ç”¨æˆ·å].github.io&#x2F;[index.htmlæ‰€åœ¨ç›®å½•] è¿™ç§æ–¹å¼è®¿é—®ã€‚æˆ‘çš„ githubpagesä¸ºï¼šlaclys.github.ioï¼ˆä¹Ÿå°±æ˜¯æˆ‘çš„blogåœ°å€ï¼‰ï¼ˆå¦‚æœæœ‰index.html,åˆ™ä¼šç›´æ¥è®¿é—®åˆ°ä¸»é¡µï¼‰åˆ™æœ€åçš„æµè§ˆåœ°å€æ˜¯ï¼šlaclys.github.io + HTML-CSS-JS_practice&#x2F;JS&#x2F;æ‹–æ‹½&#x2F;å®Œç¾æ‹–æ‹½ï¼ˆå…«ä¸ªæ–¹å‘ï¼‰.htmlDEMOæœ€åæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªåœ°å€æ·»åŠ åˆ°Readmeä¸Šé¢å»ï¼ ä»¥ä¸Šï¼","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"github","slug":"github","permalink":"http://yoursite.com/tags/github/"}]},{"title":"è¿‡å¹´è¿™å‡ å¤©","date":"2017-02-03T09:22:08.000Z","path":"2017/02/03/è¿‡å¹´/","text":"ææƒšé—´ï¼Œå¥½ä¹…æ²¡åœ¨å›½å†…è¿‡å¹´äº†ã€‚åœ¨æ—¥æœ¬çš„æ—¶å€™æ¯é€¢é™¤å¤•å¤œï¼Œå«ä¸Šå‡ ä¸ªä¸­å›½åŒä¹¡ï¼Œä¸€èµ·çƒ­çƒ­é—¹é—¹èšä¸€ä¸‹ã€‚åƒé¡¿é¥ºå­æˆ–è€…å»æ± è¢‹åƒä¸ªç«é”…ï¼Œå¥½ä¸çƒ­é—¹ã€‚ä½ äºŒå¤©ä¸Šç­çš„ä¸Šç­ï¼Œä¸Šå­¦çš„ä¸Šå­¦ã€‚ ä»Šå¹´æ€»ç®—åœ¨å®¶è¿‡ï¼Œæ¯”å°æ—¶å€™çš„è®°å¿†å°‘äº†ä¸€ä¸å¹´å‘³ã€‚é™¤å¤•å¤œæ²¡æœ‰äº†ç‚®ç«¹ï¼Œçˆ·çˆ·æ‘”äº†ä¸€è·¤çš„ï¼Œç¼˜ç”±è€çˆ¸æ™šä¸Šçš„åœ¨å¥¶å¥¶å®¶ç…§é¡¾è€äººã€‚ä»Šå¹´çš„é™¤å¤•å¤œå°±å’Œè€å¦ˆä¸¤äººã€‚è€å¦ˆè¯´å¤šäºæˆ‘å›æ¥äº†ã€‚ä¸ç„¶ä»Šå¹´è¿‡èŠ‚å°±ä¸€ä¸ªäººã€‚å…¶å®å¿ƒé‡Œè›®éš¾å—çš„ï¼Œå¤§å­¦ä»¥åä¸€å¹´ä¸€å¹´å’Œçˆ¶æ¯ç”Ÿæ´»çš„æ—¶é—´è¶Šæ¥è¶Šå°‘ã€‚è¿‡å¹´æœŸé—´ï¼Œè§äº†å¥½å‡ æ³¢æœ‹å‹ï¼Œåƒåƒå–å–èƒ–äº†å¿«åæ–¤ã€‚ï¼ˆä¸å¾—ä¸è¯´è¿˜æ˜¯å›½å†…åƒçš„å¥½åƒï¼‰ï¼Œåˆä¸€çœ‹äº†éƒ¨éŸ© å¯’çš„ä¹˜é£ç ´æµªï¼Œæ¯”èµ·ç¬¬ä¸€éƒ¨åä¼šæ— æœŸã€‚éŸ©å¯’è¿›æ­¥äº†å¾ˆå¤šï¼Œä¸è¿‡æ•…äº‹å¤ªè¿‡ç›¸åƒäºã€Šæ–°éš¾å…„éš¾å¼Ÿã€‹è¿˜æœ‰ä¸œé‡åœ­å¾çš„ã€Šæ—¶ç”Ÿã€‹ä¸å¤šè¯„ä»·ã€‚æ¸¸æˆä¸Šé€šå…³äº†FF15ï¼Œç¬¬ä¸€æ¬¡å…¬å¸ƒPVçš„æ—¶å€™ï¼Œè‡ªå·±è¿˜æ˜¯çš„åˆä¸‰å­¦ç”Ÿï¼Œä¸€æ™ƒåå¹´è¿‡å»äº†ã€‚20hé€šå…³è¿™ä¸ªæ–°æ—¶ä»£çš„æ°´æ™¶ä¼ è¯´ï¼Œæ¯•ç«Ÿæ˜¯å¤§IPï¼Œç”»é¢éŸ³ä¹éƒ½æ˜¯ä¸šç•Œé¡¶å°–æ°´å‡†ã€‚19ç« æ˜¯ä¸€ä¸ªæ¸¸æˆï¼Œ914ç« åˆå˜æˆäº†å¦ä¸€ä¸ªæ¸¸æˆã€‚æ¸¸æˆç´ è´¨çš„å¦‚æ­¤å‰²è£‚ï¼Œè™å¤´è›‡å°¾ï¼Œä½œä¸ºä¸€ä¸ªåœ¨æ—¥å‚å¸¦è¿‡çš„äººï¼ŒçœŸæ˜¯æ„Ÿæ…¨ä¸‡åˆ†ã€‚ä¹Ÿè®¸SEçœŸçš„å°½åŠ›äº†ã€‚æ—¥å‚ä¿å®ˆäº†è¿™ä¹ˆå¤šå¹´ï¼Œæœ‰æƒ³æ³•ï¼ŒæŠ€æœ¯åŠ›å´è¢«æ¬§ç¾æ‹‰å¼€äº†å¥½è¿œã€‚ITè¿™è¡Œï¼Œä¿å®ˆçœŸçš„è¡Œä¸é€šã€‚ æŠ€æœ¯æ–¹é¢ï¼Œè¿˜æ˜¯å†çœ‹å‰ç«¯ã€‚ä¹Ÿä¸çŸ¥é“è‡ªå·±èƒ½å­¦åˆ°ä»€ä¹ˆç¨‹åº¦ã€‚åŠªåŠ›å§æ–°å¹´ç»™è‡ªå·±é¡¶ä¸‹ç›®æ ‡ï¼Œå¤©å¤©åˆ·åˆ·æ…•è¯¾ç½‘ï¼ŒGithubè¿˜æœ‰å°±æ˜¯å‡å°‘ä½¿ç”¨ç¤¾äº¤è½¯ä»¶çš„é¢‘ç‡ã€‚å»å¹´ç©å¾—å¤ªå—¨ï¼Œä»Šå¹´ä¸ç®¡æ˜¯ä¸ºäº†è‡ªå·±è¿˜æ˜¯è®©çˆ¶æ¯æ”¾å¿ƒéƒ½æƒ³åŠªåŠ›æ‹¼ä¸€æ‹¼ã€‚é¸¡å¹´ï¼ŒåŠ æ²¹ï¼ï¼ï¼é™¤å¤•å¤œçš„å¤§é›å¡”ï¼š","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"HTML/CSSä»£ç å¿«é€Ÿç¼–å†™---Emmet","date":"2017-01-31T11:19:18.000Z","path":"2017/01/31/ä»€ä¹ˆæ˜¯Emmentï¼Ÿ/","text":"æœ€è¿‘å­¦ä¹ å‰ç«¯ï¼Œä¸€å¼€å§‹ç”¨sublimeï¼Œç°åœ¨è½¬åˆ°vscodeä¸Šã€‚å®ƒä»¬é€šè¿‡å®‰è£…æ’ä»¶éƒ½æ”¯æŒEmmetçš„HTMLè¯­æ³•è§„åˆ™ã€‚åœ¨è¿™é‡Œï¼Œä¸€è¾¹è‡ªå·±å­¦ä¹ ä¸€è¾¹åˆ†äº«ä¸€ä¸‹å•Šã€‚ ä»€ä¹ˆæ˜¯Emmentï¼ŸEmmetçš„å‰èº«æ˜¯å¤§åé¼é¼çš„Zen codingï¼Œå¦‚æœä½ ä»äº‹Webå‰ç«¯å¼€å‘çš„è¯ï¼Œå¯¹è¯¥æ’ä»¶ä¸€å®šä¸ä¼šé™Œç”Ÿã€‚å®ƒä½¿ç”¨ä»¿CSSé€‰æ‹©å™¨çš„è¯­æ³•æ¥ç”Ÿæˆä»£ç ï¼Œå¤§å¤§æé«˜äº†HTML&#x2F;CSSä»£ç ç¼–å†™çš„é€Ÿåº¦ã€‚egï¼šè¾“å…¥!,ç„¶åæŒ‰Tabé”®ï¼š 12345678910&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;/body&gt;&lt;/html&gt; html:5 æˆ–!ï¼šç”¨äºHTML5æ–‡æ¡£ç±»å‹ html:xtï¼šç”¨äºXHTMLè¿‡æ¸¡æ–‡æ¡£ç±»å‹ html:4sï¼šç”¨äºHTML4ä¸¥æ ¼æ–‡æ¡£ç±»å‹ Emmetæ”¯æŒçš„ç®€å†™è§„åˆ™ E ä»£è¡¨HTMLæ ‡ç­¾ã€‚ E#id ä»£è¡¨idå±æ€§ã€‚ E.class ä»£è¡¨classå±æ€§ã€‚ E[attr&#x3D;foo] ä»£è¡¨æŸä¸€ä¸ªç‰¹å®šå±æ€§ã€‚ E{foo} ä»£è¡¨æ ‡ç­¾åŒ…å«çš„å†…å®¹æ˜¯fooã€‚ E&gt;N ä»£è¡¨Næ˜¯Eçš„å­å…ƒç´ ã€‚ E+N ä»£è¡¨Næ˜¯Eçš„åŒçº§å…ƒç´ ã€‚ E^N ä»£è¡¨Næ˜¯Eçš„ä¸Šçº§å…ƒç´ ã€‚ åä»£ç¼©å†™ï¼šnav&gt;ul&gt;li 12345&lt;nav&gt; &lt;ul&gt; &lt;li&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/nav&gt; å…„å¼Ÿç¼©å†™ï¼šdiv+p+bq 123&lt;div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;/blockquote&gt; ä¸Šçº§ç¼©å†™ï¼šdiv+div&gt;p&gt;span+em^bq 12345&lt;div&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;em&gt;&lt;/em&gt;&lt;/p&gt; &lt;blockquote&gt;&lt;/blockquote&gt;&lt;/div&gt; åˆ†ç»„ï¼š()ç¼©å†™ï¼šdiv&gt;(header&gt;ul&gt;li*2&gt;a)+footer&gt;p 1234567891011&lt;div&gt; &lt;header&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/header&gt; &lt;footer&gt; &lt;p&gt;&lt;/p&gt; &lt;/footer&gt;&lt;/div&gt; ç¼©å†™ï¼š(div&gt;dl&gt;(dt+dd)*3)+footer&gt;p 12345678910111213&lt;div&gt; &lt;dl&gt; &lt;dt&gt;&lt;/dt&gt; &lt;dd&gt;&lt;/dd&gt; &lt;dt&gt;&lt;/dt&gt; &lt;dd&gt;&lt;/dd&gt; &lt;dt&gt;&lt;/dt&gt; &lt;dd&gt;&lt;/dd&gt; &lt;/dl&gt;&lt;/div&gt;&lt;footer&gt; &lt;p&gt;&lt;/p&gt;&lt;/footer&gt; ä¹˜æ³•ï¼š*ç¼©å†™ï¼šul&gt;li*5 1234567&lt;ul&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt;&lt;/ul&gt; è‡ªå¢ç¬¦å·ï¼š$ç¼©å†™ï¼šul&gt;li.item$*5 1234567&lt;ul&gt; &lt;li class=&quot;item1&quot;&gt;&lt;/li&gt; &lt;li class=&quot;item2&quot;&gt;&lt;/li&gt; &lt;li class=&quot;item3&quot;&gt;&lt;/li&gt; &lt;li class=&quot;item4&quot;&gt;&lt;/li&gt; &lt;li class=&quot;item5&quot;&gt;&lt;/li&gt;&lt;/ul&gt; ç¼©å†™ï¼šul&gt;li.item$$$*5 1234567&lt;ul&gt; &lt;li class=&quot;item001&quot;&gt;&lt;/li&gt; &lt;li class=&quot;item002&quot;&gt;&lt;/li&gt; &lt;li class=&quot;item003&quot;&gt;&lt;/li&gt; &lt;li class=&quot;item004&quot;&gt;&lt;/li&gt; &lt;li class=&quot;item005&quot;&gt;&lt;/li&gt;&lt;/ul&gt; IDå’Œç±»å±æ€§ç¼©å†™ï¼šform#search.wide 1&lt;form id=&quot;search&quot; class=&quot;wide&quot;&gt;&lt;/form&gt; è‡ªå®šä¹‰ç¼©å†™ï¼šp[title&#x3D;â€Hello worldâ€] 1&lt;p title=&quot;Hello world&quot;&gt;&lt;/p&gt; æ–‡æœ¬ï¼š{}ç¼©å†™ï¼ša{Click me}1&lt;a href=&quot;&quot;&gt;Click me&lt;/a&gt;å·®ä¸å¤šå¸¸ç”¨çš„å°±è¿™äº›ã€‚&#x3D;ã€‚&#x3D;","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Emmet","slug":"Emmet","permalink":"http://yoursite.com/tags/Emmet/"}]},{"title":"VSCODE1.8ä¸‹TypeScriptï¼ˆwin10ï¼‰","date":"2017-01-30T17:10:40.000Z","path":"2017/01/31/VSCODE1.8ä¸‹TypeScriptï¼ˆwin10ï¼‰/","text":"TypeScriptTypeScriptæ˜¯å¾®è½¯å¼€å‘çš„ä¸€ä¸ªJsçš„è¶…é›†ï¼ŒTypeScriptå…¼å®¹JavaScriptï¼Œå¯ä»¥è½½å…¥JavaScriptä»£ç ç„¶åè¿è¡Œã€‚å®Œå…¨æ”¯æŒES6è§„èŒƒã€‚TypeScriptä¹Ÿæ˜¯Googleå…¬å¸æ¨å‡ºå‰ç«¯æ¡†æ¶Angular2çš„å¼€å‘è¯­è¨€ã€‚(å¯ä»¥è¯´æ˜¯Googleï¼Œå¾®è½¯å¼ºå¼ºè”æ‰‹å§ã€‚ä¸€ç›´æƒ³å­¦Angularæ¡†æ¶è‡ªç„¶çš„å­¦å­¦è¿™TypeScript) ç”±äºTypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œæ‰©å±•äº† JavaScript çš„è¯­æ³•ï¼ŒTypeScript å¯å¤„ç†å·²æœ‰çš„ JavaScript ä»£ç ï¼Œå¹¶åªå¯¹å…¶ä¸­çš„ TypeScript ä»£ç è¿›è¡Œç¼–è¯‘ã€‚é¦–å…ˆå°±æ˜¯æ­å»ºå¼€å‘ç¯å¢ƒã€‚ compierç¼–è¯‘å™¨åˆ†ä¸¤ç§ä¸€ç§æ˜¯åœ¨çº¿ç¼–è¯‘å™¨ï¼Œåœ¨ç™¾åº¦æœç´¢typescriptï¼Œå°±å¯ä»¥æ‰¾åˆ°ï¼šhttp://www.typescriptlang.org/play/index.htmlå¯ä»¥å°†TSä»£ç è½¬åŒ–æˆJSä»£ç ã€‚å¦ä¸€ç§å°±æ˜¯æœ¬åœ°ç¼–è¯‘å™¨ã€‚ç”±äºè‡ªå·±ä¸€ç›´ç”¨vscodeè¿™ä¸€è½»é‡çº§ideã€‚ç½‘ä¸Šèµ„æ–™ä¸æ˜¯å¾ˆå¯¹ã€‚å°±æ¥ç ä¸€ä¸‹è‡ªå·±çš„å®‰è£…é…ç½®è¿‡ç¨‹ã€‚ Goï¼šæœ¬æ–‡åŸºäºnode.jsä¸‹è¿›è¡Œä¸‹è½½æœ€æ–°TypeScriptï¼š npm install -g typescriptç°åœ¨æœ€æ–°çš„æ˜¯2.1æ›´æ–°TypeScriptï¼š npm update -g typescriptæŸ¥çœ‹å½“å‰ç‰ˆæœ¬ï¼š tsc -vå®‰è£…å®Œtypescriptä¹‹åæ‰“å¼€vscodeï¼Œåˆ›å»ºä¸€ä¸ªworkspaceå¹¶åœ¨å…¶ä¸‹æ·»åŠ ä¸€ä¸ªtsconfig.jsonã€‚è®¾ç½®ä»¥ä¸‹å‚æ•°ï¼š 123456789&#123; &quot;compilerOptions&quot;: &#123; &quot;target&quot;: &quot;es5&quot;, &quot;noImplicitAny&quot;: false, &quot;module&quot;: &quot;amd&quot;, &quot;removeComments&quot;: false, &quot;sourceMap&quot;: true &#125;&#125; ä¹‹ååˆ›å»ºä¸€ä¸ªmain.tsæµ‹è¯•:ï¼ˆæˆ‘ä»¬ä½¿ç”¨åœ¨çº¿ç¼–è¯‘å™¨typescriptlangä¸‹çš„helloworldä»£ç ï¼‰ 12345678910111213141516171819class Greeter &#123; greeting: string; constructor(message: string) &#123; this.greeting = message; &#125; greet() &#123; return &quot;Hello, &quot; + this.greeting; &#125;&#125;let greeter = new Greeter(&quot;world&quot;);let button = document.createElement(&#x27;button&#x27;);button.textContent = &quot;Say Hello&quot;;button.onclick = function() &#123; alert(greeter.greet());&#125;document.body.appendChild(button); ä¹‹åæŒ‰ä¸‹å¿«æ·é”®ã€ŒCtrl+Shift+Bã€ï¼šæç¤ºâ€˜é…ç½®ä»»åŠ¡è¿è¡Œç¨‹åºâ€™ã€‚ç‚¹å‡»é€‰æ‹©tsconfig.json åˆ›å»ºTypeScripté¡¹ç›®ã€‚ä¹‹åç”Ÿæˆä¸€ä¸ª.vscodeæ–‡ä»¶å¤¹ã€‚é‡Œé¢æœ‰è¯¥é¡¹ç›®çš„è¿è¡Œçš„é…ç½®è®¾ç½®ï¼šå®Œæˆè®¾ç½®ã€‚å†æ¬¡æŒ‰ä¸‹å¿«æ·é”®ã€ŒCtrl+Shift+Bã€ï¼Œç”Ÿæˆmain.jså’Œmain.js.mapæ–‡ä»¶ã€‚å¤§åŠŸå‘Šæˆã€‚Visual Studio Codeç¼–è¯‘TypeScript,å¹¶ä¸”è¾“å‡ºå¯¹åº”çš„JavaScriptæ¡£æ¡ˆï¼ psï¼šæ˜¥èŠ‚å°±è¿™ä¹ˆè¿‡å®Œäº†&#x3D;ã€‚&#x3D;","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"TypeScript","slug":"TypeScript","permalink":"http://yoursite.com/tags/TypeScript/"},{"name":"vscode","slug":"vscode","permalink":"http://yoursite.com/tags/vscode/"}]},{"title":"é€šè¿‡classåè·å–å…ƒç´ ï¼ˆè§£å†³IE8ä¸å…¼å®¹é—®é¢˜ï¼‰","date":"2017-01-16T12:38:08.000Z","path":"2017/01/16/é€šè¿‡classåè·å–å…ƒç´ ï¼ˆè§£å†³IE8ä¸å…¼å®¹é—®é¢˜ï¼‰/","text":"Jsä¸­è·å–å…ƒç´ é€šå¸¸æœ‰ä¸‰ç§æ–¹å¼é€šè¿‡IDï¼ˆgetElementByIdï¼‰,æ ‡ç­¾ï¼ˆgetElementsByTagNameï¼‰ä»¥åŠCLASSåï¼ˆgetElementsByClassNameï¼‰ã€‚å‰ä¸¤ç§æ–¹å¼æœ€ä¸ºå¸¸ç”¨ï¼Œåœ¨Chromeï¼ŒFireFoxä»¥åŠä½ç‰ˆæœ¬IE8ä¸‹éƒ½å¥½ä½¿ï¼ˆwin10è‡ªå¸¦çš„ieåªæ”¯æŒæ¨¡æ‹Ÿåˆ°IE8ï¼Œå†å¤è€çš„ç‰ˆæœ¬ç›´æ¥å¿½ç•¥å¥½äº†ï¼‰ã€‚å¯æ˜¯CLASSåè·å–å…ƒç´ æ—¶ï¼Œåœ¨IE8ä¸‹å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼šå¯¹è±¡ä¸æ”¯æŒâ€œgetElementsByClassNameâ€å±æ€§æˆ–æ–¹æ³• å› æ­¤åœ¨ie8ä¸‹ä½¿ç”¨CLASSåè·å–å…ƒç´ æ—¶ï¼Œéœ€è¦æˆ‘ä»¬è‡ªè¡Œè§£å†³å…¼å®¹é—®é¢˜ã€‚egï¼šåœ¨ä¸‹é¢è¿™ä¸ªç®€å•çš„æ— åºåˆ—è¡¨ï¼Œæœ‰åºåˆ—è¡¨åµŒå¥—liçš„ç®€å•HTMLé¡µé¢ä¸­ï¼Œè®©ulæ ‡ç­¾ä¸‹çš„classä¸ºredçš„liæ ‡ç­¾èƒŒæ™¯å˜çº¢ 123456789101112&lt;body&gt; &lt;ul&gt; &lt;li class=&quot;red&quot;&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li class=&quot;red2 blue&quot;&gt;&lt;/li&gt; &lt;/ul&gt; &lt;ol&gt; &lt;li class=&quot;red&quot;&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;/ol&gt;&lt;/body&gt; è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728//oParentï¼šè·å–å…ƒç´ çš„çˆ¶çº§å¯¹è±¡ï¼›sClassï¼šè¦è·å–çš„CLASSåï¼ˆå­—ç¬¦ä¸²ï¼‰function getByClassName(oParent, sClass) &#123; //å½“getElementsByClassNameæ–¹æ³•å¯ä»¥ç”¨æ—¶ï¼Œç›´æ¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³• if (oParent.getElementsByClassName) &#123; return oParent.getElementsByClassName(sClass); &#125; else &#123; var aEl = oParent.getElementsByTagName(&#x27;*&#x27;); var arr = []; for (var i = 0; aEl.length; i++) &#123; //å£°æ˜ä¸€ä¸ªä¸´æ—¶æ•°ç»„ï¼ŒæŠŠæ¯ä¸€ä¸ªå…ƒç´ è·å–è¿‡æ¥çš„classNameå­˜èµ·æ¥ var temp = aEl[i].className.split(&#x27; &#x27;); //åœ¨tempä¸­æ‰¾classé‡ŒåŒ…æ‹¬redçš„å…ƒç´ ï¼Œå¦‚æœå­˜åœ¨åˆ™trueã€‚è®© //è¿™ä¸ªå…ƒç´ èƒŒæ™¯è‰²å˜çº¢ if (findInArr(sClass, temp)) &#123; arr.push(aEl[i]); &#125; &#125; return arrï¼› &#125;&#125;//å‡½æ•°ï¼šæŸ¥æ‰¾itemåœ¨arrä¸­å­˜ä¸å­˜åœ¨function findInArr(item, arr) &#123; for (var i = 0; i &lt; arr.length; i++) &#123; if (arr[i] == item) &#123; return true; &#125; &#125; return false;&#125; githubï¼šgithub.com&#x2F;laclys&#x2F;HTML-CSS-JS_practice&#x2F;blob&#x2F;master&#x2F;JS&#x2F;classnameè·å– å°è£…ï¼ˆå¯¹åº”ie8â€“ï¼‰.html","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"JavaScriptçŸ¥è¯†ç‚¹æ€»ç»“1","date":"2017-01-14T16:59:08.000Z","path":"2017/01/15/JavaScriptçŸ¥è¯†ç‚¹æ€»ç»“/","text":"è¿‘æœŸå­¦ä¹ jsçŸ¥è¯†çš„æ€»ç»“ï¼Œï¼Œè¿˜ä¼šæœ‰2ï¼Œ3ï¼Œ4Â·Â·Â·Â· äº‹ä»¶ï¼šonclick,onmouseover,onmouseout,onmouseup,onmousedown,onchangeï¼Œonload è·å–å…ƒç´ ï¼šé€šè¿‡idè·å–å…ƒç´  ï¼šdocument.getElementById(); é€šè¿‡Tagè·å–å…ƒç´ ï¼š document.getElementsByTagName(); å‡½æ•°ï¼šå®šä¹‰å‡½æ•°ï¼šfunction å‡½æ•°å(){} æ‰§è¡Œå‡½æ•°ï¼šè°è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°å°±åœ¨è°é‚£é‡Œæ‰§è¡Œã€‚ å˜é‡ï¼švar å˜é‡å&#x3D;å˜é‡å€¼ â€œ.â€:åªèƒ½æ“ä½œå·²å­˜åœ¨çš„å±æ€§ã€‚ â€œ[]â€:å¯ä»¥æ¥å—ä¸€ä¸ªå˜é‡ï¼Œç‚¹èƒ½å¤Ÿæ“ä½œçš„ä¸­æ‹¬å·éƒ½èƒ½æ“ä½œã€‚ å¾ªç¯ï¼šforï¼š 123456//åˆå§‹å€¼var i=0ï¼Œ//æ¡ä»¶i&lt;6ï¼Œ//è‡ªå¢i++ ä»£è¡¨æ¯æ¬¡åŠ 1for(var i=0;i&lt;6;i++)&#123; alert(i);&#125; while: 12345678//åˆå§‹å€¼var i=0;//æ¡ä»¶while(i&lt;6)&#123; alert(i); //è‡ªå¢ i++;&#125; thisï¼šè¡¨ç¤ºå½“å‰å‘ç”Ÿäº‹ä»¶çš„å…ƒç´ ã€‚ å˜é‡ç±»å‹ï¼šåˆ¤æ–­å˜é‡ç±»å‹ç”¨typeof 1,å­—ç¬¦ä¸²ï¼šstring 2,æ•°å­—numberï¼ˆåŒ…å«NaNï¼‰ 3,å¸ƒå°”å€¼ï¼šboolean 4,æœªå®šä¹‰:undefined(1è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§2å˜é‡å®šä¹‰æœªèµ‹å€¼ï¼‰ 5å‡½æ•°ï¼šfunction 6,å¯¹è±¡ï¼šObject æ•°æ®ç±»å‹è½¬æ¢ï¼šparseInt();parseFloat();Number(); *Number(â€˜12.5abcâ€™)&#x3D;&gt;NaN parseInt(â€˜12.5abcâ€™)&#x3D;&gt;12.5 è¿ç®—ç¬¦ï¼š1,ç®—æ•°è¿ç®—ç¬¦ï¼š+,-,,&#x2F;,%2,èµ‹å€¼è¿ç®—ç¬¦ï¼š&#x3D;ï¼Œ+&#x3D;ï¼Œ-&#x3D;ï¼Œ&#x3D;ï¼Œ&#x2F;&#x3D;,%&#x3D;3,æ¯”è¾ƒè¿ç®— &#x3D;&#x3D; &gt;,&gt;&#x3D;,&lt;,&lt;&#x3D;â€‹ &#x3D;&#x3D;ç›¸ç­‰ ï¼&#x3D;ä¸ç­‰äºâ€‹ &#x3D;&#x3D;&#x3D;ç›¸ç­‰ ï¼&#x3D;&#x3D;ä¸ç­‰äºé€»è¾‘è¿ç®—ï¼š||æˆ– &amp;&amp;ä¸ ï¼å–å æµç¨‹æ§åˆ¶if 1ï¼Œif(æ¡ä»¶){æ¡ä»¶æ»¡è¶³å°±èµ°è¯­å¥ä¸€}else{æ¡ä»¶ä¸æ»¡è¶³å°±èµ°è¯­å¥äºŒ}ç®€å†™ï¼šä¸‰ç›®ï¼šæ¡ä»¶ï¼Ÿè¯­å¥ä¸€ï¼šè¯­å¥äºŒï¼›2ï¼Œif(æ¡ä»¶){è¯­å¥ï¼› }ç®€å†™ï¼šæ¡ä»¶&amp;&amp;è¯­å¥ï¼›3ï¼Œif(æ¡ä»¶ä¸€){è¯­å¥ä¸€}else if(æ¡ä»¶äºŒ){è¯­å¥äºŒ}else{è¯­å¥ä¸‰}####switchswitch(æ¡ä»¶){ 12345678case æ¡ä»¶1ï¼š è¯­å¥ä¸€ï¼›breakï¼›case æ¡ä»¶2ï¼š è¯­å¥äºŒ breakï¼›default: é»˜è®¤è¯­å¥ } break:ä¸­æ–­æ•´ä¸ªç¨‹åºï¼Œä¸å†æ‰§è¡Œcontinueï¼šä¸­æ–­æ­¤æ¬¡ç¨‹åºï¼Œç»§ç»­ä¸‹ä¸€æ¬¡ç¨‹åº åˆ¤æ–­çœŸå‡:çœŸï¼šéé›¶æ•°å­—ï¼Œéç©ºå­—ç¬¦ä¸²ï¼Œtrueï¼Œéç©ºå¯¹è±¡ï¼› å‡ï¼šæ•°å­—0ï¼ŒNaNï¼Œç©ºå­—ç¬¦ä¸²ï¼Œfalseï¼Œundefinedï¼Œnullï¼› è·å–éè¡Œé—´æ ·å¼ï¼š1234567891011121314window.onload=function()&#123; var oBox=document.getElementById(&#x27;box&#x27;); oBox.onclick=function()&#123; //getComputedStyle(obj,false);é«˜ç‰ˆæœ¬ //obj.currentStyleï¼›ieç³»åˆ— //alert(getComputedStyle(oBox,false));åœ¨ie8ç›´æ¥æŠ¥é”™ alert(oBox.currentStyle);//åœ¨chromeå’Œffæ˜¯undefined if(oBox.currentStyle)&#123; alert(oBox.currentStyle.width); &#125;else&#123; alert(getComputedStyle(oBox,false).width); &#125; &#125;&#125; eval():å¯å°†å­—ç¬¦ä¸²è½¬åŒ–æˆjså¯æ‰§è¡Œä»£ç ã€‚å¾ˆå¼ºå¤§ï¼Œå®¹æ˜“é€ æˆevalæ³¨å…¥é—®é¢˜ å®šæ—¶å™¨ï¼šè¿ç»­ä¸æ–­æ‰§è¡Œï¼švar timer &#x3D; setInterval(å‡½æ•°ï¼Œæ—¶é—´) æ¸…ç©ºå®šæ—¶å™¨ï¼šclearInterval(timer); åªæ‰§è¡Œä¸€æ¬¡ï¼šsetTimeout(å‡½æ•°ï¼Œæ—¶é—´) æ—¶é—´å¯¹è±¡ï¼š1234567891011121314var oDate=new Date();var iY=oDate.getFullYear();var iMon=oDate.getMonth()+1;var iD=oDate.getDate();var iWeek=oDate.getDay();var iH=oDate.getHours();var iM=oDate.getMinutes();var iS=oDate.getSeconds();//è®¾ç½®æ—¶é—´var oDate=new Date();oDate.setFullYear(å¹´ï¼Œæœˆï¼Œæ—¥)oDate.setHours(æ—¶ï¼Œåˆ†ï¼Œç§’ï¼Œæ¯«ç§’)//æ—¶é—´æˆ³var time=oDate.getTime(); å°é—­ç©ºé—´è§£å†³å˜é‡åå†²çªï¼›è§£å†³äº†içš„é—®é¢˜ï¼›ï¼ˆå¾ªç¯é‡ŒåŠ äº‹ä»¶ï¼Œäº‹ä»¶é‡Œçš„iä¸å¥½ä½¿ï¼›å¾ªç¯é‡ŒåŠ å®šæ—¶å™¨ï¼Œiä¹Ÿä¸å¥½ä½¿ï¼‰ egï¼š 123(function(a)&#123; alert(a); &#125;)(12); è®¾ç½®æ ·å¼ï¼š1ï¼‰ç”¨withè¯­å¥ï¼š 12345with(oBox.style)&#123; width=&#x27;400px&#x27;, height=&#x27;400px&#x27;, background=&#x27;red&#x27;&#125; 2ï¼‰cssText:æ‰¹é‡è®¾ç½®æ ·å¼ 1oBox.style.cssText=&#x27;width:400px; height:400px; background:red&#x27;; 3ï¼‰setStyleå°è£…å‡½æ•°ï¼š 123function setStyle(obj,name,value)&#123; obj.style[name]=value;&#125; ####å­—ç¬¦ä¸²1ï¼Œstr.charAt(ä¸‹æ ‡) è·å–å­—ç¬¦ä¸²ä¸­çš„æŸä¸€é¡¹2ï¼Œstr.indexOf(â€˜å°å­—ç¬¦ä¸²â€™) è·å–æŸä¸ªå°å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„ä½ç½® 1ï¼‰ä»å·¦å¾€å³å¼€å§‹æ‰¾ï¼Œæ‰¾åˆ°ä¸€ä¸ªå°±ä¸ç»§ç»­å¾€ä¸‹æ‰¾äº† 2ï¼‰åŒºåˆ†å¤§å°å†™ 3)å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±è¿”å›-1egï¼š 123456//è·å–æµè§ˆå™¨ä¿¡æ¯ï¼Œé€šè¿‡indexOfåˆ¤æ–­é‡Œé¢æœ‰æ²¡æœ‰MSIE 10.0ï¼Œå¦‚æœç­‰äº-1ï¼Œä»£è¡¨æ²¡æœ‰if(window.navigator.userAgent.indexOf(&#x27;MSIE 10.0&#x27;)!=-1)&#123; alert(&#x27;ie10&#x27;);&#125;else&#123; alert(&#x27;ä¸æ˜¯ie10&#x27;);&#125; 3ï¼Œstr.lastIndexOfï¼ˆï¼‰ 1ï¼‰ä»å³å¾€å·¦æ‰¾ 2ï¼‰åŒºåˆ†å¤§å°å†™ 3ï¼‰å¦‚æœæ²¡æ‰¾åˆ°å°±è¿”å›-14ï¼Œstr.toLowerCase()è½¬å°å†™5ï¼Œstr.toUpperCaseï¼ˆï¼‰è½¬å¤§å†™&#96;6ï¼Œstr.substring(èµ·å§‹ä½ç½®ä¸‹æ ‡ï¼Œç»“æŸä½ç½®ä¸‹æ ‡) æˆªå–å­—ç¬¦ä¸² ï¼ˆä¸åŒ…æ‹¬ç»“æŸä½ç½®ï¼‰7ï¼Œstr.startsWith(å°å­—ç¬¦ä¸²)8ï¼Œstr.endsWith(å°å­—ç¬¦ä¸² )9ï¼Œstr.split(åˆ‡å‰²æ–¹å¼)åˆ‡å‰²å­—ç¬¦ä¸²ï¼ŒæŠŠå­—ç¬¦ä¸²è½¬åŒ–æˆæ•°ç»„ æ•°ç»„è½¬å­—ç¬¦ä¸²arr.join(åˆ‡å‰²æ–¹å¼)#####å­—ç¬¦ä¸²æ¯”è¾ƒï¼š1ï¼Œå­—ç¬¦ä¸²æ•°å­—â€‹ a)ä¸¤ä¸ªéƒ½æ˜¯æ•°å­—å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸€ä½ä¸€ä½è¿›è¡Œæ¯”è¾ƒâ€‹ b)å…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯æ•°å­—ç±»å‹ï¼Œä¼šåšéšå¼ç±»å‹è½¬åŒ–ï¼Œè½¬åŒ–æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒ2ï¼Œå•è¯ å­—å…¸åº3ï¼Œæ±‰å­—æ²¡è§„å¾‹â€‹ unicode æ•°ç»„ï¼šåˆ›å»ºæ•°ç»„ï¼š var arr&#x3D;[]; var arr &#x3D; new Array();#####æ•°ç»„å‡½æ•°ï¼šarr.push() å¾€æ•°ç»„åé¢æ·»ä¸œè¥¿ï¼Œä¼šè¿”å›æ–°çš„æ•°ç»„çš„é•¿åº¦arr.unshift() å¾€æ•°ç»„å‰é¢æ·»ä¸œè¥¿ï¼Œä¼šè¿”å›æ–°çš„æ•°ç»„çš„é•¿åº¦arr.pop() ä»æ•°ç»„åé¢åˆ é™¤ï¼Œä¼šè¿”å›è¢«åˆ æ‰çš„æ•°æ®arr.shift() ä»å‰é¢åˆ é™¤ï¼Œä¼šè¿”å›è¢«åˆ æ‰çš„æ•°æ®arr.splice(å¼€å§‹ä½ç½®,åˆ é™¤é•¿åº¦,å…ƒç´ 1,å…ƒç´ 2)arr.reverse()ç¿»è½¬arr.sort() æ’åºarr1.concat(arr2) æ•°ç»„åˆå¹¶arr.join()å°†æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸² ####æ•°å­¦æ–¹æ³•ï¼šMath.random()éšæœºæ•°0-1ï¼Œä¸åŒ…æ‹¬1Math.ceil()å‘ä¸Šå–æ•´Math.floorï¼ˆï¼‰å‘ä¸‹å–æ•´Math.round()å››èˆäº”å…¥Math.abs()ç»å¯¹å€¼Math.max()å–æœ€å¤§å€¼Math.min()å–æœ€å°å€¼Math.sqrt()å¼€å¹³æ–¹Math.pow(nï¼Œm)nçš„mæ¬¡æ–¹","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"æµ…è°ˆResponsiveè®¾è®¡","date":"2017-01-11T14:16:46.000Z","path":"2017/01/11/æµ…è°ˆResponsiveè®¾è®¡/","text":"è¿™ä¸¤å¤©ä¸€ç›´åœ¨çœ‹CSS3ç›¸å…³çš„ä¸œè¥¿ï¼Œæåˆ°CSS3æœ‰ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§å°±æ˜¯Media Queries,è¯´åˆ°Media Queries,åˆ°å¤´æ¥è¿˜æ˜¯ç½‘é¡µçš„å“åº”å¼å¼€å‘ï¼ˆResponsiveè®¾è®¡ç®€å•çš„ç§°ä¸ºRWDï¼‰ã€‚ è¯´åˆ°å“åº”å¼å¼€å‘ï¼Œè‡ªå·±ç¬¬ä¸€æƒ³åˆ°çš„å°±æ˜¯è¿™ä¸ªå¸¦æœ‰â€˜æ …æ ¼ç³»ç»Ÿâ€™çš„Bootstrapã€‚å®ƒå¯ä»¥è®©ä½ çš„ç½‘ç«™åœ¨ä¸åŒè®¾å¤‡ä¸­å±•ç°ä¸åŒçš„é£æ ¼ï¼Œç‰ˆé¢ä¸ä¼šå› ä¸ºå±å¹•å¤§å°å˜åŒ–è€Œä¹±æ‰ã€‚è¯´ä¿—ä¸€ç‚¹å°±æ˜¯â€˜æœ‰æ±‚å¿…åº”â€™ã€‚å°±è¿™å…ˆå‰Bootstrapçš„ä½¿ç”¨ç»éªŒï¼Œç»“åˆç†è®ºåœ¨è¿™é‡Œç¬”è®°æ€»ç»“ä¸€ä¸‹ã€‚ å“åº”å¼è®¾è®¡éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š ç½‘ç«™å¿…é¡»å»ºç«‹çµæ´»çš„ç½‘æ ¼åŸºç¡€ï¼› å¼•ç”¨åˆ°ç½‘ç«™çš„å›¾ç‰‡å¿…é¡»æ˜¯å¯ä¼¸ç¼©çš„ï¼› ä¸åŒçš„æ˜¾ç¤ºé£æ ¼ï¼Œéœ€è¦åœ¨Media Queriesä¸Šå†™ä¸åŒçš„æ ·å¼ã€‚ ###å“åº”å¼è®¾è®¡ç›¸å…³æœ¯è¯­1.æµä½“ç½‘ç»œæµä½“ç½‘æ ¼æ˜¯ä¸€ä¸ªç®€å•çš„ç½‘æ ¼ç³»ç»Ÿï¼Œè¿™ç§ç½‘æ ¼è®¾è®¡å‚è€ƒäº†æµä½“è®¾è®¡ä¸­çš„ç½‘æ ¼ç³»ç»Ÿï¼Œå°†æ¯ä¸ªç½‘æ ¼æ ¼å­ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½æ¥æ§åˆ¶ç½‘æ ¼å¤§å°ã€‚è¿™ç§ç½‘æ ¼ç³»ç»Ÿæœ€å¤§çš„å¥½å¤„æ˜¯è®©ä½ çš„ç½‘æ ¼å¤§å°éšæ—¶æ ¹æ®å±å¹•å°ºå¯¸å¤§å°åšå‡ºç›¸å¯¹åº”çš„æ¯”ä¾‹ç¼©æ”¾ã€‚2.å¼¹æ€§å›¾ç‰‡å¼¹æ€§å›¾ç‰‡æŒ‡çš„æ˜¯ä¸ç»™å›¾ç‰‡è®¾ç½®å›ºå®šå°ºå¯¸ï¼Œè€Œæ˜¯æ ¹æ®æµä½“ç½‘æ ¼è¿›è¡Œç¼©æ”¾ï¼Œç”¨äºé€‚åº”å„ç§ç½‘æ ¼çš„å°ºå¯¸ã€‚è€Œå®ç°æ–¹æ³•æ˜¯æ¯”è¾ƒç®€å•ï¼Œä¸€å¥ä»£ç å°±èƒ½æå®šçš„äº‹æƒ…ã€‚ 1img &#123;max-width:100%;&#125; (åœ¨ie8ä¸­å­˜åœ¨é—®é¢˜&#x3D;ã€‚&#x3D;)3.åª’ä½“æŸ¥è¯¢å°±æ˜¯å¼€å¤´è¯´åˆ°çš„CSS3å¼ºå¤§çš„æ–°æ‰©å±•å§ã€‚ä½¿ç”¨è¿™ä¸ªå±æ€§å¯ä»¥è®©ä½ çš„è®¾è®¡æ ¹æ®ç”¨æˆ·ç»ˆç«¯è®¾å¤‡é€‚é…å¯¹åº”çš„æ ·å¼ã€‚è¿™ä¹Ÿæ˜¯å“åº”å¼è®¾è®¡ä¸­æœ€ä¸ºå…³é”®çš„ã€‚å¯ä»¥è¯´Responsiveè®¾è®¡ç¦»å¼€äº†Medial Querieså°±å¤±å»äº†ä»–ç”Ÿå­˜çš„æ„ä¹‰ã€‚4.ä¸»è¦æ–­ç‚¹å¯¹äºResponsiveè®¾è®¡ä¸­æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ã€‚ç®€å•çš„æè¿°å°±æ˜¯ï¼Œè®¾å¤‡å®½åº¦çš„ä¸´ç•Œç‚¹ã€‚åœ¨Media Queriesä¸­ï¼Œå…¶ä¸­åª’ä½“ç‰¹æ€§â€œmin-widthâ€å’Œâ€œmax-widthâ€å¯¹åº”çš„å±æ€§å€¼å°±æ˜¯å“åº”å¼è®¾è®¡ä¸­çš„æ–­ç‚¹å€¼ã€‚ç®€å•ç‚¹è¯´ï¼Œå°±æ˜¯ä½¿ç”¨ä¸»è¦æ–­ç‚¹å’Œæ¬¡è¦æ–­ç‚¹ï¼Œåˆ›å»ºåª’ä½“æŸ¥è¯¢çš„æ¡ä»¶ã€‚è€Œæ¯ä¸ªæ–­ç‚¹ä¼šå¯¹åº”è°ƒç”¨ä¸€ä¸ªæ ·å¼æ–‡ä»¶ï¼ˆæˆ–è€…æ ·å¼ä»£ç ï¼‰ä¸Šå›¾çš„style.cssæ ·å¼æ–‡ä»¶è¿ç”¨åœ¨Webé¡µé¢ä¸­ï¼Œä½†è¿™ä¸ªæ ·å¼æ–‡ä»¶åŒ…æ‹¬äº†æ‰€æœ‰é£æ ¼çš„æ ·å¼ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰è®¾å¤‡ä¸‹æ˜¾ç¤ºçš„é£æ ¼éƒ½é€šè¿‡è¿™ä¸ªæ ·å¼æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ã€‚ ###å“åº”å¼è®¾è®¡â€”â€“metaæ ‡ç­¾æœ€åè¿˜æœ‰ä¸€ä¸ªä¸å¯æˆ–ç¼ºçš„ä¸œä¸œï¼Œé‚£å°±æ˜¯metaæ ‡ç­¾ã€‚egï¼š 1&lt;meta name=â€viewportâ€ content=â€â€ /&gt; å…¶ä¸­contentå±æ€§ç”¨æ¥å¤„ç†å¯è§†åŒºåŸŸã€‚å±æ€§å€¼è¿™å—å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä¸ºäº†è®©Responsiveè®¾è®¡åœ¨æ™ºèƒ½è®¾å¤‡ä¸­èƒ½æ˜¾ç¤ºæ­£å¸¸ï¼Œä¹Ÿå°±æ˜¯æµè§ˆWebé¡µé¢é€‚åº”å±å¹•çš„å¤§å°ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå¯è§†åŒºåŸŸçš„metaæ ‡ç­¾è¿›è¡Œé‡ç½®ï¼Œå‘Šè¯‰ä»–ä½¿ç”¨è®¾å¤‡çš„å®½åº¦ä¸ºè§†å›¾çš„å®½åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´ç¦æ­¢å…¶é»˜è®¤çš„è‡ªé€‚åº”é¡µé¢çš„æ•ˆæœï¼Œå…·ä½“è®¾ç½®å¦‚ä¸‹ï¼š 1&lt;meta name=â€viewportâ€ content=â€width=device-width,initial-scale=1.0â€ /&gt; ###ä¸åŒè®¾å¤‡çš„åˆ†è¾¨ç‡è®¾ç½®åœ¨ç½‘ä¸Šæ‰¾çš„ä»¥ååº”è¯¥æœ‰ç”¨ï¼1.1024pxæ˜¾å± 123@media screen and (max-width : 1024px) &#123; /* æ ·å¼å†™åœ¨è¿™é‡Œ */ &#125; 2.800pxæ˜¾å± 123@media screen and (max-width : 800px) &#123; /* æ ·å¼å†™åœ¨è¿™é‡Œ */ &#125; 3.640pxæ˜¾å± 123@media screen and (max-width : 640px) &#123; /* æ ·å¼å†™åœ¨è¿™*/ &#125; 4.iPadæ¨ªæ¿æ˜¾å± 123@media screen and (max-device-width: 1024px) and (orientation: landscape) &#123; /* æ ·å¼å†™åœ¨è¿™ */ &#125; 5.iPadç«–æ¿æ˜¾å± 123@media screen and (max-device-width: 768px) and (orientation: portrait) &#123; /* æ ·å¼å†™åœ¨è¿™ */ &#125; 6.iPhone å’Œ Smartphones 123@media screen and (min-device-width: 320px) and (min-device-width: 480px) &#123; /* æ ·å¼å†™åœ¨è¿™ */ &#125; ç»“å°¾æµ‹è¯•ä¸€ä¸‹æ–°blogçš„å›¾ç‰‡åŠŸèƒ½å¥½ä¸å¥½ä½¿ã€‚&#x3D;ã€‚&#x3D;","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"å“åº”å¼","slug":"å“åº”å¼","permalink":"http://yoursite.com/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/"}]},{"title":"SASSåŸºç¡€è¯­æ³•æ€»ç»“","date":"2017-01-04T15:51:32.000Z","path":"2017/01/04/sassåŸºç¡€è¯­æ³•æ€»ç»“/","text":"SASSCSSé¢„å¤„ç†å™¨ã€‚ä¸€ç§åŸºäºCSSä¹‹ä¸Šçš„é«˜çº§è¯­è¨€ï¼Œå…¶ç›®çš„æ˜¯ä½¿å¾—CSSå¼€å‘æ›´çµæ´»å’Œæ›´å¼ºå¤§ã€‚ è¯­æ³•1.å˜é‡ $å¼€å¤´ç´§è·Ÿå˜é‡åï¼Œå˜é‡åå€¼ä»¥ï¼šåˆ†éš”ï¼Œï¼è¡¨ç¤ºé»˜è®¤å€¼ ã€‚$blue : #1875e7; 1234$blue : #1875e7; div &#123;color : $blue;&#125; 2.å¯¼å…¥@importï¼› å¯¼å…¥å…¶ä»–sassæ–‡ä»¶ã€‚ï¼ˆä¼˜äºcssçš„@importï¼‰ 1@import &quot;path/filename.scss&quot;; 3.è®¡ç®—åŠŸèƒ½ï¼› å…è®¸åœ¨ä»£ç ä¸­ä½¿ç”¨ç®—å¼ 12345 body &#123; margin: (14px/2); top: 50px + 100px; right: $var * 10%; &#125; 4.åµŒå¥—ï¼› å¯ä»¥åœ¨ä»£ç ä¸­è¿›è¡ŒåµŒå¥—ï¼ˆè‡ªå·±å°è¯•sassä¹‹åï¼Œæœ‰äº†åµŒå¥—è¿™ä¸ªè¯­æ³•ï¼Œå¯ä»¥çœå»èµ·åçš„éº»çƒ¦ï¼Œå¾ˆæ–¹ä¾¿çš„åŠŸèƒ½&#x3D;ã€‚&#x3D;ï¼‰ 12345 div &#123; hi &#123; color:red; &#125; &#125; åœ¨åµŒå¥—é‡Œå¯ä»¥ä½¿ç”¨&amp;å¼•ç”¨çˆ¶çº§å…ƒç´ ã€‚ 12345678910a&#123; &amp;:hover&#123; color:#fff; &#125; &amp;:after&#123; content:&#x27;&#x27;; clear:both; display:block; &#125; &#125; 5.mixin(å®)ï¼› ç±»ä¼¼å…¶ä»–è¯­è¨€çš„å‡½æ•°ã€‚å¯ä»¥é‡ç”¨ä»£ç å—ã€‚ä½¿ç”¨@mixinå‘½ä»¤ï¼Œå®šä¹‰ä¸€ä¸ªä»£ç å—ã€‚ 123 @mixin fl &#123; float: left; &#125; ä½¿ç”¨@includeå‘½ä»¤ï¼Œè°ƒç”¨è¿™ä¸ªmixinã€‚ 123 div &#123; @include fl; &#125; 6.ç»§æ‰¿ 1234//sass .class1&#123; border: 1px solid #ddd; &#125; .class2&#123; @extend .class1; font-size:120%; &#125; //ç¼–è¯‘åcss .class1,.class2&#123; border: 1px solid #ddd; &#125; .class2&#123; font-size:120%; &#125; 7,IF 1234567p&#123; @if 12+2==14 &#123; color:#fff; &#125;@else&#123; color:#000; &#125; &#125; 8,å¾ªç¯ forå¾ªç¯ 12345@for $i form 1 to 10&#123; .border-#&#123;$i&#125;&#123; border: #&#123;$i&#125;px solid blue; &#125;&#125; whileå¾ªç¯ 1234567$i:6; @while $i&gt;0&#123; .item-#&#123;$i&#125;&#123; width:4px * $i; &#125; $i: $i - 2; &#125; eachå‘½ä»¤ 123456@each $member in a,b,c,d&#123; .#&#123;$member&#125;&#123; background-image: url(&quot;img/#&#123;$member&#125;.jpg&quot;); &#125; &#125; ###æ€»ç»“å·®ä¸å¤šå¸¸ç”¨çš„å°±è¿™äº›ï¼Œä¸ªäººè§‰å¾—æœ‰äº†åµŒå¥—ï¼Œå¯ä»¥è®©ä»£ç æ›´æœ‰é€»è¾‘ï¼Œæ•²èµ·æ¥é¡ºæ‰‹å¾ˆå¤šã€‚åœ¨å¼€å‘ä¸­æ¯”è¾ƒé‡è¦çš„å°±æ˜¯@mixinçš„ä½¿ç”¨å’Œ@extendçš„ä½¿ç”¨ã€‚å¯ä»¥æé«˜ä»£ç çš„å¤ç”¨ç‡ã€‚å°±è¿™æ ·ã€‚ä¸€ä¸ªç”¨sasså†™çš„å°DEMO ####githubä¸Šç¬¬ä¸€ç¯‡blogï¼Œçºªå¿µä¸€ä¸‹ï¼ã€‚","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"SASS","slug":"SASS","permalink":"http://yoursite.com/tags/SASS/"}]}]